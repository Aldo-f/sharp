(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+lRy":function(t,e){},0:function(t,e,n){n("9HjO"),n("+lRy"),t.exports=n("K0p+")},1:function(t,e){},"9HjO":function(t,e,n){"use strict";n.r(e);n("qxpy"),n("rmf8"),n("u8M4"),n("eOqu"),n("V4S9"),n("3PMH"),n("Si7d"),n("H0pb"),n("mjWP");var a=n("XuX8"),r=n.n(a),i=n("L2JU"),o=n("jE9Z"),s=n("rX62"),l=n.n(s),c=n("dV7z"),u=n("7pj7"),d=n.n(u),h=n("SJdT"),f=n.n(h),p=n("j4aL"),m=n.n(p),v=n("3M0M"),y=n.n(v),b=n("PtZe"),g=n.n(b),_=n("stYL"),w=n.n(_),S=n("IvRd"),C=n.n(S),x={fr:m.a,ru:y.a,es:g.a,en:w.a,de:C.a};var O=n("vDqi"),k=n.n(O),j=n("eqyj"),L=n.n(j),P={name:"SharpActionBar",props:{ready:{type:Boolean,default:!0},container:Boolean,rightClass:String}},$=n("KHd+"),B=Object($.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.ready?n("div",{staticClass:"SharpActionBar"},[n("div",{staticClass:"SharpActionBar__bar"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row mx-n2"},[n("div",{staticClass:"col left px-2 my-1 my-sm-0"},[t._t("left")],2),t._v(" "),n("div",{staticClass:"col right px-2 my-1 my-sm-0",class:t.rightClass},[t._t("right")],2)])])]),t._v(" "),n("div",{class:{container:t.container}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("div",{staticClass:"SharpActionBar__extras"},[t._t("extras")],2)]),t._v(" "),t.$slots["extras-right"]?[n("div",{staticClass:"col-auto"},[n("div",{staticClass:"SharpActionBar__extras"},[t._t("extras-right")],2)])]:t._e()],2)])]):t._e()}),[],!1,null,null,null);B.options.__file="ActionBar.vue";var E=B.exports,A={props:{type:String,outline:Boolean,danger:Boolean,small:Boolean,href:String},computed:{classes:function(){return[this.type?"SharpButton--".concat(this.type):"",{"SharpButton--secondary":this.outline,"SharpButton--danger":this.danger,"SharpButton--sm":this.small}]},tag:function(){return this.href?"a":"button"}}},D=Object($.a)(A,(function(){var t=this.$createElement;return(this._self._c||t)(this.tag,this._g({tag:"component",staticClass:"SharpButton",class:this.classes,attrs:{href:this.href}},this.$listeners),[this._t("default")],2)}),[],!1,null,null,null);D.options.__file="Button.vue";var I=D.exports,F={name:"SharpCard",props:{light:Boolean,hasClose:Boolean},computed:{cardClasses:function(){return{"SharpModule--light":this.light}}}},T=Object($.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpModule",class:t.cardClasses},[n("div",{staticClass:"SharpModule__inner"},[n("div",{staticClass:"SharpModule__content"},[t._t("default")],2),t._v(" "),t.hasClose?[n("button",{staticClass:"SharpModule__close-button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close-click")}}},[n("svg",{staticClass:"SharpModule__close-icon",attrs:{"aria-label":"close",width:"10",height:"10",viewBox:"0 0 10 10","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z"}})])])]:t._e()],2)])}),[],!1,null,null,null);T.options.__file="Card.vue";var M=T.exports,V=function(){},N={props:{transitionClass:String},data:function(){return{active:0,width:0,enteringElm:null,leavingElm:null,afterEnterCallback:V}},computed:{enterActiveClass:function(){return"".concat(this.transitionClass," collapse-enter-active")}},methods:{increase:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;this.active=(this.active+1)%2,this.afterEnterCallback=t},beforeLeave:function(t){},leave:function(t){var e=this;setTimeout((function(){return t.style.width="".concat(e.width,"px")}),100)},afterLeave:function(t){t.style.width="",this.enteringElm.style.visibility="",this.afterEnterCallback()},beforeEnter:function(t){},enter:function(t){t.style.visibility="hidden",this.width=t.scrollWidth,this.enteringElm=t},afterEnter:function(t){}}},z=Object($.a)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{attrs:{"leave-active-class":t.transitionClass,"enter-active-class":t.enterActiveClass},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter,leave:t.leave,"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.active,expression:"active===0"}],key:"0",staticStyle:{position:"absolute"}},[t._t("frame-0",null,{next:t.increase})],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.active,expression:"active===1"}],key:"1",staticStyle:{position:"absolute"}},[t._t("frame-1",null,{next:t.increase})],2)])}),[],!1,null,null,null);z.options.__file="Collapse.vue";var R=z.exports,K={name:"SharpNavItem",props:{current:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},link:String},data:function(){return{}}},q=Object($.a)(K,(function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"SharpLeftNav__item",class:{"SharpLeftNav__item--active":this.current,"SharpLeftNav__item--disabled":this.disabled},attrs:{role:"menuitem"}},[this.disabled?[e("span",{staticClass:"SharpLeftNav__item-link"},[this._t("default")],2)]:[e("a",{staticClass:"SharpLeftNav__item-link",attrs:{href:this.link}},[this._t("default")],2)]],2)}),[],!1,null,null,null);q.options.__file="NavItem.vue";var U=q.exports,H={name:"SharpCollapsibleItem",props:{label:String},data:function(){return{expanded:!1,ready:!1}},computed:{navItems:function(){return this.$slots.default.map((function(t){return t.componentInstance})).filter((function(t){return t&&t.$options.name===U.name}))}},methods:{toggle:function(){this.expanded=!this.expanded}},mounted:function(){var t=this;this.expanded=this.navItems.some((function(t){return t.current})),this.$nextTick((function(e){return t.ready=!0}))}},G=Object($.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.ready,expression:"ready"}],staticClass:"SharpLeftNav__item SharpLeftNav__item--has-children",class:{"SharpLeftNav__item--expanded":t.expanded},attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toggle(e)}}},[n("a",{staticClass:"SharpLeftNav__item-link",on:{click:t.toggle}},[t._t("label",[t._v("\n            "+t._s(t.label)+"\n        ")]),t._v(" "),n("div",{staticClass:"SharpLeftNav__item-icon"},[n("svg",{staticClass:"SharpLeftNav__icon",attrs:{width:"10",height:"5",viewBox:"0 0 10 5","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M10 0L5 5 0 0z"}})])])],2),t._v(" "),n("ul",{staticClass:"SharpLeftNav__list SharpLeftNav__list--nested",attrs:{role:"menu","aria-hidden":"true"}},[t._t("default")],2)])}),[],!1,null,null,null);G.options.__file="CollapsibleItem.vue";var W=G.exports,Y={name:"SharpPagination",inheritAttrs:!1,components:{BPagination:n("JtJI").a},props:{totalRows:Number,perPage:Number,minPageEndButtons:{type:Number,default:0}},computed:{hideGotoEndButtons:function(){return Math.ceil(this.totalRows/Math.max(this.perPage,1))<this.minPageEndButtons}}},Q=Object($.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-pagination",t._g(t._b({staticClass:"SharpPagination",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"hide-goto-end-buttons":t.hideGotoEndButtons},scopedSlots:t._u([{key:"first-text",fn:function(){return[n("i",{staticClass:"fas fa-angle-double-left",attrs:{"aria-hidden":"true"}})]},proxy:!0},{key:"prev-text",fn:function(){return[n("i",{staticClass:"fas fa-angle-left",attrs:{"aria-hidden":"true"}})]},proxy:!0},{key:"next-text",fn:function(){return[n("i",{staticClass:"fas fa-angle-right",attrs:{"aria-hidden":"true"}})]},proxy:!0},{key:"last-text",fn:function(){return[n("i",{staticClass:"fas fa-angle-double-right",attrs:{"aria-hidden":"true"}})]},proxy:!0}])},"b-pagination",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);Q.options.__file="Pagination.vue";var J=Q.exports;function X(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Z={props:{columns:Array,row:{type:Object,default:function(){return{}}},url:String,header:Boolean},computed:{hasLink:function(){return!!this.url}},methods:{colClasses:function(t){return["col-".concat(t.sizeXS),"col-md-".concat(t.size)].concat(X(t.hideOnXS?["d-none d-md-flex"]:[]))}}},tt=Object($.a)(Z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpDataList__row container",class:{"SharpDataList__row--header":t.header,"SharpDataList__row--disabled":!t.header&&!t.hasLink}},[n("div",{staticClass:"SharpDataList__cols"},[n("div",{staticClass:"row mx-n2 mx-md-n3"},[t._l(t.columns,(function(e){return[n("div",{staticClass:"px-2 px-md-3",class:[t.header?"SharpDataList__th":"SharpDataList__td",t.colClasses(e)]},[t._t("cell",[e.html?[n("div",{staticClass:"SharpDataList__td-html-container",domProps:{innerHTML:t._s(t.row[e.key])}})]:[t._v("\n                            "+t._s(t.row[e.key])+"\n                        ")]],{row:t.row,column:e})],2)]}))],2),t._v(" "),t.hasLink?[n("a",{staticClass:"SharpDataList__row-link",attrs:{href:t.url}})]:t._e()],2),t._v(" "),t.$slots.append?[n("div",{staticClass:"SharpDataList__row-append align-self-center"},[t._t("append")],2)]:t._e()],2)}),[],!1,null,null,null);tt.options.__file="DataListRow.vue";var et=tt.exports,nt=n("FRYs"),at=n.n(nt);function rt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var it={components:{Pagination:J,DataListRow:et,Draggable:at.a},props:{items:Array,columns:Array,paginated:Boolean,totalCount:Number,pageSize:Number,page:Number,reorderActive:Boolean,sort:String,dir:String,hideHeader:Boolean},data:function(){return{reorderedItems:null,headerRowAppendWidth:0}},watch:{reorderActive:function(t){this.handleReorderActiveChanged(t)}},computed:{hasPagination:function(){return!!this.paginated&&this.totalCount/this.pageSize>1},draggableOptions:function(){return{disabled:!this.reorderActive}},currentItems:function(){return this.reorderActive?this.reorderedItems:this.items},isEmpty:function(){return 0===(this.items||[]).length}},methods:{handleItemsChanged:function(t){this.reorderedItems=t,this.$emit("change",t)},handleSortClicked:function(t){this.$emit("sort-change",{prop:t,dir:this.sort===t&&"asc"===this.dir?"desc":"asc"})},handlePageChanged:function(t){this.$emit("page-change",t)},handleReorderActiveChanged:function(t){this.reorderedItems=t?rt(this.items):null},updateLayout:function(){var t=this.$refs.body;if(t){var e=t.querySelector(".SharpDataList__row-append");this.headerRowAppendWidth=e?"".concat(e.offsetWidth,"px"):0}}},mounted:function(){this.updateLayout(),window.addEventListener("resize",this.updateLayout)},destroyed:function(){window.removeEventListener("resize",this.updateLayout)}},ot=Object($.a)(it,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpDataList",class:{"SharpDataList--reordering":t.reorderActive}},[t.isEmpty?[n("div",{staticClass:"SharpDataList__empty p-3"},[t._t("empty")],2)]:[n("div",{staticClass:"SharpDataList__table SharpDataList__table--border"},[t.hideHeader?t._e():[n("div",{ref:"head",staticClass:"SharpDataList__thead"},[n("DataListRow",{attrs:{columns:t.columns,header:""},scopedSlots:t._u([{key:"cell",fn:function(e){var a=e.column;return[n("span",[t._v(t._s(a.label))]),t._v(" "),a.sortable?[n("svg",{staticClass:"SharpDataList__caret",class:{"SharpDataList__caret--selected":t.sort===a.key,"SharpDataList__caret--ascending":t.sort===a.key&&"asc"===t.dir},attrs:{width:"10",height:"5",viewBox:"0 0 10 5","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M10 0L5 5 0 0z"}})]),t._v(" "),n("a",{staticClass:"SharpDataList__sort-link",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.handleSortClicked(a.key)}}})]:t._e()]}},t.$slots["append-head"]||t.headerRowAppendWidth?{key:"append",fn:function(){return[n("div",{staticClass:"d-none d-md-block",style:{width:t.headerRowAppendWidth||"auto"}},[t._t("append-head")],2)]},proxy:!0}:null],null,!0)})],1)],t._v(" "),n("div",{ref:"body",staticClass:"SharpDataList__tbody"},[n("Draggable",{attrs:{options:t.draggableOptions,value:t.reorderedItems},on:{input:t.handleItemsChanged}},[t._l(t.currentItems,(function(e){return[t._t("item",[n("DataListRow",{attrs:{columns:t.columns,row:e}})],{item:e})]}))],2)],1)],2)],t._v(" "),t.hasPagination?[n("div",{staticClass:"SharpDataList__pagination-container"},[n("Pagination",{attrs:{"total-rows":t.totalCount,"per-page":t.pageSize,"min-page-end-buttons":3,limit:7,value:t.page},on:{change:t.handlePageChanged}})],1)]:t._e()],2)}),[],!1,null,null,null);ot.options.__file="DataList.vue";var st=ot.exports,lt=n("o0o1"),ct=n.n(lt),ut={name:"DropdownArrow"},dt=Object($.a)(ut,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"10",height:"5",viewBox:"0 0 10 5","fill-rule":"evenodd"}},[e("path",{attrs:{d:"M10 0L5 5 0 0z"}})])}),[],!1,null,null,null);dt.options.__file="Arrow.vue";var ht=dt.exports,ft={name:"SharpDropdown",components:{DropdownArrow:ht},provide:function(){return{$dropdown:this}},props:{text:String,showArrow:{type:Boolean,default:!0},disabled:Boolean},data:function(){return{opened:!1,isAbove:!1}},watch:{opened:function(t){var e=this;t&&this.$nextTick((function(t){return e.$emit("opened")}))}},methods:{handleFocus:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.disabled){t.next=2;break}return t.abrupt("return");case 2:return this.opened=!0,t.next=5,ct.a.awrap(this.$nextTick());case 5:this.adjustPosition();case 6:case"end":return t.stop()}}),null,this)},handleBlur:function(){this.opened=!1,this.isAbove=!1},toggleIfFocused:function(t){this.opened&&(this.$el.blur(),t.preventDefault())},adjustPosition:function(){var t=this.$refs.list.getBoundingClientRect().bottom;this.isAbove=t>window.innerHeight}}},pt=Object($.a)(ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpDropdown",class:{"SharpDropdown--open":t.opened,"SharpDropdown--disabled":t.disabled,"SharpDropdown--above":t.isAbove,"SharpDropdown--no-arrow":!t.showArrow},attrs:{tabindex:t.disabled?-1:0},on:{focus:t.handleFocus,blur:t.handleBlur}},[n("div",{staticClass:"SharpDropdown__text",on:{mousedown:t.toggleIfFocused}},[t._t("text",[t._v(t._s(t.text))])],2),t._v(" "),t.showArrow?n("dropdown-arrow",{staticClass:"SharpDropdown__arrow"}):t._e(),t._v(" "),t.disabled?t._e():n("div",[n("ul",{ref:"list",staticClass:"SharpDropdown__list"},[t._t("default")],2)])],1)}),[],!1,null,null,null);pt.options.__file="Dropdown.vue";var mt=pt.exports,vt={name:"SharpDropdownItem",inject:["$dropdown"],props:{customClass:[String,Object]},methods:{handleClick:function(t){this.$emit("click",t),this.$dropdown.$el.blur()}}},yt=Object($.a)(vt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"SharpDropdown__item"},[n("a",{staticClass:"SharpDropdown__link",class:t.customClass,attrs:{href:""},on:{mousedown:function(t){t.preventDefault()},click:function(e){return e.preventDefault(),t.handleClick(e)}}},[t._t("default")],2)])}),[],!1,null,null,null);yt.options.__file="DropdownItem.vue";var bt=yt.exports,gt={name:"SharpDropdownSeparator"},_t=Object($.a)(gt,(function(){var t=this.$createElement;return(this._self._c||t)("li",{staticClass:"SharpDropdown__separator"})}),[],!1,null,null,null);_t.options.__file="DropdownSeparator.vue";var wt=_t.exports;function St(t,e,n){var a=e.value;n.children.length&&n.children.some((function(t){return t.tag}))?t.classList.remove(a):t.classList.add(a)}var Ct=function(t,e){var n=e.value;n&&t.setAttribute("maxlength",n)};function xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot={name:"SharpGrid",props:{rows:{type:Array,required:!0},rowClass:{type:Function,default:function(){return null}},colClass:{type:Function,default:function(){return null}}},methods:{colClasses:function(t){var e,n=t.size,a=t.sizeXS,r=!!n;return[(e={},xt(e,"col-".concat(a),a),xt(e,"col-md-".concat(n),r),xt(e,"col-md",!r),e),this.colClass(t)]}},directives:{"empty-class":{inserted:St,componentUpdated:St}}},kt=Object($.a)(Ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpGrid"},[t._l(t.rows,(function(e){return[n("div",{staticClass:"SharpGrid__row row",class:t.rowClass(e)},[t._l(e,(function(e){return[n("div",{directives:[{name:"empty-class",rawName:"v-empty-class",value:"SharpGrid__col--empty",expression:"'SharpGrid__col--empty'"}],staticClass:"SharpGrid__col",class:t.colClasses(e)},[t._t("default",null,{itemLayout:e})],2)]}))],2)]}))],2)}),[],!1,null,null,null);kt.options.__file="Grid.vue";var jt=kt.exports,Lt={name:"SharpItemVisual",props:{item:Object,iconClass:String,imageClass:String},computed:{iconClasses:function(){var t=[this.item.icon];return this.iconClass&&t.push(this.iconClass),t}}},Pt=Object($.a)(Lt,(function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this.item.icon?[e("i",{staticClass:"fa",class:this.iconClasses})]:this.item.image?[e("img",{attrs:{src:this.item.image}})]:this._e()],2)}),[],!1,null,null,null);Pt.options.__file="ItemVisual.vue";var $t=Pt.exports,Bt={name:"SharpLoading",props:{visible:Boolean,inline:Boolean,small:Boolean},data:function(){return{show:this.visible}},watch:{visible:function(t){this.show=t}},created:function(){var t=this;this.$on("show",(function(e){return t.show=!0})),this.$on("hide",(function(e){return t.show=!1}))}},Et=Object($.a)(Bt,(function(){var t=this.$createElement,e=this._self._c||t;return this.inline?e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"SharpLoading",class:{"SharpLoading--small":this.small}},[e("svg",{staticClass:"SharpLoading__svg",attrs:{viewBox:"-75 -75 150 150"}},[e("circle",{attrs:{cx:"0",cy:"0",r:"37.5"}})])]):e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"SharpLoading__overlay"},[e("div",{staticClass:"SharpLoading",class:{"SharpLoading--small":this.small}},[e("svg",{staticClass:"SharpLoading__svg",attrs:{viewBox:"-75 -75 150 150"}},[e("circle",{attrs:{cx:"0",cy:"0",r:"37.5"}})])])])}),[],!1,null,null,null);Et.options.__file="Loading.vue";var At=Et.exports,Dt={methods:{getMergedIdentifier:function(t,e){for(var n=this.$parent;n&&null==n[t];)n=n.$parent;var a="";return n&&(a=n[t]+"."),"".concat(a).concat(e)}}},It={mixins:[Dt],props:{errorIdentifier:{type:[String,Number],required:!0}},computed:{mergedErrorIdentifier:function(){return this.getMergedIdentifier("mergedErrorIdentifier",this.errorIdentifier)}}},Ft={inject:["$field"],props:{focused:Boolean},watch:{focused:function(t){t&&this.$focusableElm.focus()}},data:function(){return{$focusableElm:null}},methods:{setFocusable:function(t){var e=this;this.$focusableElm=t,this.$field&&this.$focusableElm.addEventListener("blur",(function(t){e.$field.$emit("blur")}))}}},Tt={methods:{patchXsrf:function(t){return t.headers||(t.headers={}),t.headers[k.a.defaults.xsrfHeaderName]=this.xsrfToken,t}}};function Mt(t){return window.i18n[t]||""}var Vt={computed:{language:function(){return document.documentElement.lang}},methods:{l:Mt}},Nt=function(t){return{methods:{lSub:function(e){return Mt("".concat(t,".").concat(e))}}}};function zt(){return"SHARP : ".concat(str)}function Rt(t){for(var e,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];(e=console).log.apply(e,[zt()].concat(a))}function Kt(t){for(var e,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];(e=console).error.apply(e,[zt()].concat(a))}var qt={inject:["actionsBus"],created:function(){var t=this,e=this.$options.actions;if(e)if("function"==typeof e._disabled&&e._disabled.call(this))Rt("".concat(this.$options.name," : actions are disabled"));else if(this.actionsBus)for(var n=function(){var n=r[a],i=e[n],o=function(t,e){return"string"==typeof e?"function"!=typeof t[e]?void Kt("".concat(t.$options.name," (ActionEvents) : this.").concat(e," is not a function")):function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t[e].apply(t,a)}:"function"==typeof e?function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e.apply(t,a)}:void Kt("".concat(t.$options.name," (ActionEvents) : unprocessable action type (only function on string)"))}(t,i);o&&(t.actionsBus.$on(n,o),t.$once("hook:beforeDestroy",(function(){t.actionsBus.$off(n,o)})))},a=0,r=Object.keys(this.$options.actions);a<r.length;a++)n();else Kt("Use of action options without actionsBus injected")}},Ut=function(t){return{computed:{readOnlyFields:function(){for(var e=JSON.parse(JSON.stringify(this[t])),n=0,a=Object.keys(e);n<a.length;n++){e[a[n]].readOnly=!0}return e}}}};function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Gt={methods:{updateScroll:function(){var t=this.autoScrollOptions;if("function"==typeof t&&(t=t.apply(this,arguments)),"object"===Ht(t)){var e=t,n=e.list,a=e.item,r="function"==typeof a?a():a,i="function"==typeof n?n():n;i&&r&&(i.scrollTop=r.offsetTop-i.offsetHeight/2+r.offsetHeight/2)}}}},Wt=n("sEfC"),Yt=n.n(Wt),Qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sm";return{data:function(){return{isViewportSmall:!1}},methods:{$_responsiveUpdate:function(){var t=this.$_testElm.offsetWidth;this.isViewportSmall=!!t}},created:function(){var e="viewport-down-".concat(t);this.$_testElm=document.getElementById(e),this.$_testElm||(this.$_testElm=document.createElement("div"),this.$_testElm.id=e,this.$_testElm.classList.add("d-".concat(t,"-none")),document.body.appendChild(this.$_testElm)),this.$_responsiveUpdate(),this.$_debouncedRespnsiveUpdate=Yt()(this.$_responsiveUpdate,300),window.addEventListener("resize",this.$_debouncedRespnsiveUpdate)},destroyed:function(){window.removeEventListener("resize",this.$_debouncedRespnsiveUpdate)}}},Jt={mixins:[Dt],props:{configIdentifier:{type:String,required:!0}},computed:{mergedConfigIdentifier:function(){return this.getMergedIdentifier("mergedConfigIdentifier",this.configIdentifier)}}};var Xt={beforeCreate:function(){var t=this;this.$options.computed=this.$options.computed||{};var e=this.$options,n=e.computed,a=e.debounced;a&&function(){"function"==typeof a&&(a=a(t.$options));var e=a.wait;null==e&&(console.warn("[Debounce mixin] Debounced option wait time not defined default : 200"),e=200);for(var r=function(){var t=o[i];if("function"==typeof a[t]){if(t in n)return"continue";n[t]=function(){return function(t,e,n){var a;return function(){var r=this,i=arguments,o=function(){a=null,n||t.apply(r,i)},s=n&&!a;clearTimeout(a),a=setTimeout(o,e),s&&t.apply(r,i)}}(a[t].bind(this),e)}}},i=0,o=Object.keys(a);i<o.length;i++)r()}()}};function Zt(t){return new Promise((function(e){var n=new FileReader;n.addEventListener("loadend",(function(){e(JSON.parse(n.result))})),n.readAsText(t)}))}var te,ee=(te=document.head.querySelector("meta[name=base-url]"))?"/".concat(te.content):"/sharp",ne="".concat(ee,"/api"),ae="".concat(ne,"/upload");function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){ie(t,e,n[e])}))}return t}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oe={inject:["mainLoading","axiosInstance","actionsBus"],methods:{installInterceptors:function(){var t=this;this.axiosInstance.interceptors.request.use((function(e){return t.mainLoading.$emit("show"),e}),(function(t){return Promise.reject(t)})),this.axiosInstance.interceptors.response.use((function(e){return t.mainLoading.$emit("hide"),e}),(function(e){var n,a,r,i,o;return ct.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=e.response,a=e.config.method,t.mainLoading.$emit("hide"),!(n.data instanceof Blob&&"application/json"===n.data.type)){s.next=6;break}return s.next=5,ct.a.awrap(Zt(n.data));case 5:n.data=s.sent;case 6:r=n.data,i=n.status,o={title:Mt("modals.".concat(i,".title"))||Mt("modals.error.title"),text:r.message||Mt("modals.".concat(i,".message"))||Mt("modals.error.message"),isError:!0},419===i&&(o.okCallback=function(){return location.reload()}),s.t0=i,s.next=401===s.t0?12:403===s.t0?14:404===s.t0?14:417===s.t0?14:419===s.t0?14:500===s.t0?14:16;break;case 12:return t.actionsBus.$emit("showMainModal",re({},o,{okCallback:function(){location.href="".concat(ee,"/login")}})),s.abrupt("break",16);case 14:return 404===i&&"get"===a||t.actionsBus.$emit("showMainModal",re({},o,{okCloseOnly:!0})),s.abrupt("break",16);case 16:return s.abrupt("return",Promise.reject(e));case 17:case"end":return s.stop()}}))}))}},created:function(){this.synchronous||(this.installInterceptors(),this.mainLoading.$emit("show"))}},se={mixins:[oe],inject:["axiosInstance"],data:function(){return{data:null,layout:null}},methods:{get:function(){var t=this;return this.axiosInstance.get(this.apiPath,{params:this.apiParams}).then((function(e){return t.mount(e.data),t.handleNotifications(e.data),Promise.resolve(e)})).catch((function(t){return Promise.reject(t)}))},post:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.apiPath,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.data,n=arguments.length>2?arguments[2]:void 0;return this.axiosInstance.post(t,e,n).then((function(t){return Promise.resolve(t)})).catch((function(t){return Promise.reject(t)}))},showNotification:function(t){var e=t.level,n=t.title,a=t.message,r=t.autoHide;this.$notify({title:n,type:e,text:a,duration:r?4e3:-1})},handleNotifications:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e.notifications)&&setTimeout((function(){return e.notifications.forEach(t.showNotification)}),500)}}};function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){ce(t,e,n[e])}))}return t}function ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ue={data:function(){return{commandCurrentForm:null,commandViewContent:null}},methods:{transformCommandForm:function(t){return le({},t,{layout:{tabs:[{columns:[{fields:t.layout}]}]}})},downloadCommandFile:function(t){var e=document.createElement("a");this.$el.appendChild(e),e.href=URL.createObjectURL(t.data),e.download=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["content-disposition"];if(t&&t.includes("attachment")){var e=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(t);if(null!=e&&e[1])return e[1].replace(/['"]/g,"")}return null}(t.headers),e.click()},handleCommandResponse:function(t){var e;return ct.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("application/json"!==t.data.type){n.next=7;break}return n.next=3,ct.a.awrap(Zt(t.data));case 3:e=n.sent,this.handleCommandActionRequested(e.action,e),n.next=8;break;case 7:this.downloadCommandFile(t);case 8:case"end":return n.stop()}}),null,this)},postCommandForm:function(t){var e,n;return ct.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.postFn,a.next=3,ct.a.awrap(this.$refs.commandForm.submit({postFn:e}));case 3:return n=a.sent,a.next=6,ct.a.awrap(this.handleCommandResponse(n));case 6:this.commandCurrentForm=null;case 7:case"end":return a.stop()}}),null,this)},showCommandForm:function(t,e){var n,a,r,i,o=this;return ct.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=e.postForm,a=e.getFormData,!t.fetch_initial_data){s.next=7;break}return s.next=4,ct.a.awrap(a());case 4:s.t0=s.sent,s.next=8;break;case 7:s.t0={};case 8:r=s.t0,i=function(){return o.postCommandForm({postFn:n})},this.commandCurrentForm=this.transformCommandForm(le({},t.form,{data:r})),this.$refs.commandForm.$on("submit",i),this.$refs.commandForm.$once("close",(function(){o.$refs.commandForm.$off("submit",i),o.commandCurrentForm=null}));case 13:case"end":return s.stop()}}),null,this)},sendCommand:function(t,e){var n,a,r,i,o,s,l=this;return ct.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(n=e.postCommand,a=e.getFormData,r=e.postForm,i=t.form,o=t.confirmation,!i){c.next=4;break}return c.abrupt("return",this.showCommandForm(t,{postForm:r,getFormData:a}));case 4:if(!o){c.next=7;break}return c.next=7,ct.a.awrap(new Promise((function(t){l.actionsBus.$emit("showMainModal",{title:l.l("modals.command.confirm.title"),text:o,okCallback:t})})));case 7:return c.prev=7,c.next=10,ct.a.awrap(n());case 10:return s=c.sent,c.next=13,ct.a.awrap(this.handleCommandResponse(s));case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(7),console.error(c.t0);case 18:case"end":return c.stop()}}),null,this,[[7,15]])},addCommandActionHandlers:function(t){this.commandHandlers=le({},this.commandHandlers,{},t)},handleCommandActionRequested:function(t,e){var n=this.commandHandlers[t];n&&n(e)},handleReloadCommand:function(){this.init()},handleInfoCommand:function(t){this.actionsBus.$emit("showMainModal",{title:this.l("modals.command.info.title"),text:t.message,okCloseOnly:!0})},handleViewCommand:function(t){this.commandViewContent=t.html},handleLinkCommand:function(t){window.location.href=t.link},handleCommandViewPanelClosed:function(){this.commandViewContent=null}},created:function(){this.addCommandActionHandlers({reload:this.handleReloadCommand,info:this.handleInfoCommand,link:this.handleLinkCommand,view:this.handleViewCommand})},mounted:function(){this.$refs.commandForm||console.error("withCommands: CommandForm not found")}},de={name:"SharpModal",mixins:[Vt],components:{BModal:n("aqyy").a},inheritAttrs:!1,props:{visible:Boolean,cancelTitle:String,title:String,okTitle:String,okOnly:Boolean,isError:Boolean,static:Boolean},methods:{show:function(){this.$refs.modal.show()},hide:function(){this.$refs.modal.hide()},handleVisiblityChanged:function(t){this.$emit("update:visible",t)}}},he=Object($.a)(de,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",t._g(t._b({ref:"modal",attrs:{title:t.title,visible:t.visible,"cancel-title":t.cancelTitle||t.l("modals.cancel_button"),"ok-title":t.okTitle||t.l("modals.ok_button"),"ok-only":t.okOnly,static:t.static,"modal-class":["SharpModal",{"SharpModal--error":t.isError}],"no-enforce-focus":""},on:{change:t.handleVisiblityChanged},scopedSlots:t._u([{key:"modal-header",fn:function(){return[n("div",[n("h5",{staticClass:"SharpModal__heading"},[t._t("title",[t._v(t._s(t.title))])],2),t._v(" "),t.okOnly?t._e():n("button",{staticClass:"SharpModal__close",attrs:{type:"button"},on:{click:t.hide}},[n("svg",{staticClass:"SharpModal__close-icon",attrs:{width:"10",height:"10",viewBox:"0 0 10 10","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z"}})])])])]},proxy:!0}],null,!0)},"b-modal",t.$attrs,!1),t.$listeners),[t._v(" "),t._t("default")],2)}),[],!1,null,null,null);he.options.__file="Modal.vue";var fe=he.exports,pe=n("jl8+"),me=n.n(pe),ve=n("Qyje"),ye=n.n(ve);function be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ge(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _e(t){return Object.entries(t).reduce((function(t,e){var n=ge(e,2);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){be(t,e,n[e])}))}return t}({},t,be({},n[0],function(t){return Array.isArray(t)&&!t.length?null:t}(n[1])))}),t||{})}var we=k.a.create({baseURL:ne,paramsSerializer:function(t){var e=_e(t);return ye.a.stringify(e,{strictNullHandling:!0})}});function Se(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).params;return we.getUri({url:"".concat(ne,"/").concat(t.replace(/^\//,"")),params:e})}var Ce=n("qLf8"),xe=n.n(Ce);function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ke={caseSensitive:!1,include:[],minMatchCharLength:1,shouldSort:!0,tokenize:!0,matchAllTokens:!1,findAllMatches:!1,id:null,keys:["value"],location:0,threshold:0,distance:0,maxPatternLength:64};function je(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).searchKeys;return new xe.a(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Oe(t,e,n[e])}))}return t}({},ke,{searchKeys:n})).search(e)}var Le=n("wd/R"),Pe=n.n(Le);function $e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Be="YYYYMMDD";function Ee(t){return ye.a.stringify(t,{addQueryPrefix:!0,skipNulls:!0})}function Ae(t){return ye.a.parse(t,{ignoreQueryPrefix:!0,strictNullHandling:!0})}var De=n("zuWl"),Ie=n.n(De);function Fe(t){if("fr"===t)return{KB:"Ko",MB:"Mo"}}function Te(t){var e=(navigator.language||"").slice(0,2)||"en",n=Math.max(Ie()(t,{output:"exponent"}),1),a=Math.max(t,128),r=Ie()(a,{standard:"jedec",round:2,exponent:n,locale:!0,symbols:Fe(e)});return t<128?"< ".concat(r):r}function Me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ve={"x-access-from":"ui"};function Ne(t){var e=/^\//.test(t)?new URL(t,location.origin):new URL(t),n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Me(t,e,n[e])}))}return t}({},Ae(e.search),{},Ve);return e.pathname+Ee(n)}function ze(t){var e=t[t.length-2];return e?Ne(e.url):null}var Re=[],Ke=null;function qe(t){return!Ke||t?Ke=new o.a({mode:"history",routes:Re,base:"".concat(ee,"/"),parseQuery:Ae,stringifyQuery:Ee}):Ke}function Ue(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).normalized,n=void 0===e||e,a=qe().resolve(t).href;return n?Ne(a):a}function He(t){return Ue({name:"form",params:{entityKey:t.entityKey,instanceId:t.instanceId}})}function Ge(t){return Ue({name:"show",params:{entityKey:t.entityKey,instanceId:t.instanceId}})}function We(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ye={name:"SharpMultiselect",functional:!0,render:function(t,e){var n=e.data,a=e.children,r=void 0===a?[]:a,i=e.slots;e.props.placeholder||(n.attrs.placeholder=Mt("form.multiselect.placeholder")),n.attrs.showPointer=!1;var o=i().caret;return t({extends:me.a,computed:{isSingleLabelVisible:function(){return 0===this.singleValue||me.a.computed.isSingleLabelVisible.call(this)}},mounted:function(){var t=this;this.$el.addEventListener("blur",(function(){return t.deactivate()}))}},n,[o?t("template",{slot:"caret"},o):t(ht,{class:"multiselect__select",slot:"caret"}),t("template",{slot:"maxElements"},Mt("form.multiselect.max_text"))].concat(We(r)))}},Qe=Object($.a)(Ye,void 0,void 0,!1,null,null,null);Qe.options.__file="Multiselect.vue";var Je=Qe.exports,Xe={props:{value:String,placeholder:String,active:Boolean},data:function(){return{localActive:!!this.active}},watch:{active:function(t){this.localActive=t}},computed:{clearVisible:function(){return this.value&&this.value.length>0}},methods:{handleClearButtonClicked:function(){this.$emit("clear"),this.$emit("input",""),this.$refs.input.focus()},handleInput:function(t){this.$emit("input",t.target.value)},handleFocused:function(){this.localActive=!0,this.$emit("focus"),this.$emit("update:active",!0)},handleBlur:function(){this.localActive=!1,this.$emit("blur"),this.$emit("update:active",!1)},handleSubmitted:function(){this.$emit("submit")}}},Ze=Object($.a)(Xe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpActionBar__search SharpSearch SharpSearch--lg",class:{"SharpSearch--active":t.localActive},attrs:{role:"search"}},[n("form",{staticClass:"h-100",on:{submit:function(e){return e.preventDefault(),t.handleSubmitted(e)}}},[n("label",{staticClass:"SharpSearch__label",attrs:{id:"ab-search-label",for:"ab-search-input"}},[t._v(t._s(t.placeholder))]),t._v(" "),n("input",{ref:"input",staticClass:"SharpSearch__input w-100",attrs:{placeholder:t.placeholder,type:"text",id:"ab-search-input",role:"search","aria-labelledby":"ab-search-label"},domProps:{value:t.value},on:{input:t.handleInput,focus:t.handleFocused,blur:t.handleBlur}}),t._v(" "),n("svg",{staticClass:"SharpSearch__magnifier",attrs:{width:"16",height:"16",viewBox:"0 0 16 16","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M6 2c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4zm0-2C2.7 0 0 2.7 0 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zM16 13.8L13.8 16l-3.6-3.6 2.2-2.2z"}}),t._v(" "),n("path",{attrs:{d:"M16 13.8L13.8 16l-3.6-3.6 2.2-2.2z"}})]),t._v(" "),n("svg",{staticClass:"SharpSearch__close",class:{"SharpSearch__close--hidden":!t.clearVisible},attrs:{width:"16",height:"16",viewBox:"0 0 16 16","fill-rule":"evenodd"},on:{click:t.handleClearButtonClicked}},[n("path",{attrs:{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm3.5 10.1l-1.4 1.4L8 9.4l-2.1 2.1-1.4-1.4L6.6 8 4.5 5.9l1.4-1.4L8 6.6l2.1-2.1 1.4 1.4L9.4 8l2.1 2.1z"}})])])])}),[],!1,null,null,null);Ze.options.__file="Search.vue";var tn=Ze.exports,en={name:"SharpStateIcon",props:{color:{required:!0,type:String}},computed:{isClass:function(){return/^sharp_/.test(this.color)},className:function(){return this.isClass?this.color:null},style:function(){return this.isClass?null:{background:this.color}}}},nn=Object($.a)(en,(function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"StateIcon",class:this.className,style:this.style})}),[],!1,null,null,null);nn.options.__file="StateIcon.vue";var an=nn.exports,rn={name:"SharpBTab",extends:n("YZAB").a,provide:function(){return{$tab:this}},data:function(){return{errors:{}}},computed:{hasError:function(){return Object.keys(this.errors).length>0}},watch:{localActive:{immediate:!0,handler:function(t){return ct.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,ct.a.awrap(this.$nextTick());case 3:this.$emit("active");case 4:case"end":return e.stop()}}),null,this)}}},methods:{setError:function(t){this.$set(this.errors,t,!0)},clearError:function(t){this.$delete(this.errors,t)}},created:function(){var t=this;this.$on("error",(function(e){return t.setError(e)})),this.$on("clear",(function(e){return t.clearError(e)}))}},on=Object($.a)(rn,void 0,void 0,!1,null,null,null);on.options.__file="Tab.vue";var sn=on.exports,ln=n("+QIf"),cn=n("WEOK"),un={name:"SharpBTabs",mixins:[Qt("sm")],extends:ln.a,components:{BCollapse:cn.a,DropdownArrow:ht},data:function(){return{expanded:!0,hasNavOverflow:!1,extraNavGhostWidth:0}},watch:{currentTab:function(){this.hasNavOverflow&&(this.expanded=!1)}},computed:{collapseActivated:function(){return this.isViewportSmall&&(this.hasNavOverflow||this.tabs.length>2)},tabsHaveError:function(){return this.tabs.some((function(t){return t.hasError}))},dropdownButtonClasses:function(){return this.tabs[this.currentTab].hasError?"error-dot":this.tabsHaveError?"error-dot--partial":""},classes:function(){return{"SharpTabs--collapse":this.collapseActivated,"SharpTabs--nav-overflow":this.hasNavOverflow}}},methods:{linkClasses:function(t){return{"SharpTabs__nav-link--has-error":t.hasError,"SharpTabs__nav-link--active":t.localActive,"SharpTabs__nav-link--disabled":t.disabled}},handleCollapseClicked:function(){this.expanded=!this.expanded},layout:function(){var t;return ct.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.hasNavOverflow=!1,e.next=3,ct.a.awrap(this.$nextTick());case 3:t=this.$refs.nav,this.hasNavOverflow=t.scrollWidth>t.offsetWidth;case 5:case"end":return e.stop()}}),null,this)}},mounted:function(){this.layout(),this.debouncedLayout=Yt()(this.layout,150),window.addEventListener("resize",this.debouncedLayout)},destroyed:function(){window.removeEventListener("resize",this.debouncedLayout)}},dn=Object($.a)(un,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpTabs",class:t.classes,attrs:{id:t.id||null}},[n("div",{staticClass:"SharpTabs__inner mb-3",class:{"m-sm-0":!t.hasNavOverflow}},[t.hasNavOverflow?[t._t("nav-prepend")]:t._e(),t._v(" "),n("button",{staticClass:"SharpTabs__collapse-btn SharpButton SharpButton--secondary mb-1",class:{"d-none":!t.hasNavOverflow},on:{click:t.handleCollapseClicked}},[t.tabs[t.currentTab]?[n("span",{class:t.dropdownButtonClasses},[t._v(t._s(t.tabs[t.currentTab].title))])]:t._e(),t._v(" "),n("DropdownArrow",{staticClass:"ml-1",style:t.expanded&&"transform: rotate(180deg)"})],2),t._v(" "),n("b-collapse",{class:{"d-block":!t.hasNavOverflow},attrs:{id:"tabs",visible:t.expanded}},[n("div",{ref:"nav",staticClass:"SharpTabs__nav mb-0 mb-sm-3",attrs:{role:"tablist","aria-setsize":t.tabs.length,"aria-posinset":t.currentTab+1}},[t.hasNavOverflow?t._e():[t._t("nav-prepend")],t._v(" "),t._l(t.tabs,(function(e){return[n("a",{staticClass:"SharpTabs__nav-link",class:t.linkClasses(e),attrs:{href:e.href,role:"tab","aria-selected":e.localActive?"true":"false","aria-controls":e.id||null,id:e.controlledBy||null},domProps:{innerHTML:t._s(e.title)},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.clickTab(e)},keydown:[function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"space",32,n.key,[" ","Spacebar"])?null:(n.preventDefault(),n.stopPropagation(),t.clickTab(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.previousTab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.previousTab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.nextTab(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.nextTab(e)}]}})]}))],2)])],2),t._v(" "),n("div",{ref:"tabsContainer",staticClass:"tab-content"},[t._t("default"),t._v(" "),t.tabs&&t.tabs.length?t._e():t._t("empty")],2)])}),[],!1,null,null,null);dn.options.__file="Tabs.vue";var hn=dn.exports,fn={name:"SharpTabbedLayout",props:{layout:Object},provide:function(){if(!this.showTabs)return{$tab:!1}},components:{Tabs:hn,Tab:sn},computed:{showTabs:function(){return this.layout.tabbed&&this.layout.tabs.length>1}}},pn=Object($.a)(fn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpTabbedLayout"},[t.showTabs?[n("Tabs",{scopedSlots:t._u([{key:"nav-prepend",fn:function(){return[t._t("nav-prepend")]},proxy:!0}],null,!0)},[t._v(" "),t._l(t.layout.tabs,(function(e,a){return[n("Tab",{key:"tab-"+a,attrs:{title:e.title}},[t._t("default",null,{tab:e})],2)]}))],2)]:[n("div",{staticClass:"mb-3"},[t._t("nav-prepend")],2),t._v(" "),t._l(t.layout.tabs,(function(e){return[t._t("default",null,{tab:e})]}))]],2)}),[],!1,null,null,null);pn.options.__file="TabbedLayout.vue";var mn=pn.exports;function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yn={name:"SharpTemplate",components:{RenderedTemplate:{functional:!0,props:{name:String,template:String,templateProps:Array,templateData:Object},render:function(t,e){var n=e.props,a=e.data,r=n.name,i=n.template,o=n.templateProps,s=n.templateData;return t({name:"SharpTemplate".concat(r),template:"<div>".concat(i,"</div>"),props:o},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){vn(t,e,n[e])}))}return t}({},a,{props:s}))}}},props:{name:String,templateData:Object,template:String},computed:{templateProps:function(){return Object.keys(this.templateData||{})}}},bn=Object($.a)(yn,(function(){var t=this.$createElement;return(this._self._c||t)("rendered-template",{staticClass:"SharpTemplate",attrs:{name:this.name,template:this.template,"template-data":this.templateData,"template-props":this.templateProps}})}),[],!1,null,null,null);bn.options.__file="TemplateRenderer.vue";var gn=bn.exports,_n={props:{name:String}},wn=(n("ynHM"),Object($.a)(_n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"unknown-field"},[e("span",[this._v("Unknown field «"+this._s(this.name)+"»")])])}),[],!1,null,"d6c36028",null));wn.options.__file="UnknownField.vue";var Sn=wn.exports;function Cn(t){var e,n,a,r=t.url,i=t.method,o=t.locale,s=t.searchAttribute,l=t.query,c=(a=l,(n=s)in(e={locale:o})?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e);return"get"===i.toLowerCase()?k.a.get(r,{params:c}).then((function(t){return t.data})):k.a.post(r,c).then((function(t){return t.data}))}var xn={inject:{$form:{default:function(){return new r.a}}},props:{locale:String,localized:Boolean},computed:{locales:function(){return this.$form.locales},isLocalized:function(){return this.$form.localized&&this.localized}}};function On(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){kn(t,e,n[e])}))}return t}function kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Pn=["text","textarea"];function $n(t){return Pn.includes(t.type)}function Bn(t){var e,n=On({},t.localeObject,kn({},t.locale,t.value));return e=n,Object.entries(e).every((function(t){var e=jn(t,2);return e[0],function(t){return null===t||""===t}(e[1])}))?null:n}function En(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var An={mixins:[xn],computed:{localizedSearchKeys:function(){var t=this;return this.localized?this.searchKeys.map((function(e){var n=e;return t.localizedDataKeys.includes(e)&&(n+=".".concat(t.locale)),n})):this.searchKeys},localizedDataKeys:function(){var t=this;return Array.isArray(this.localValues)&&this.localValues.length?Object.keys(this.localValues[0]).filter((function(e){return t.isLocaleObject(t.localValues[0][e])})):[]}},methods:{isLocaleObject:function(t){return this.locales&&function(t,e){return!(!t||"object"!==Ln(t))&&e.every((function(e){return e in t}))}(t,this.locales)},localizedTemplateData:function(t){var e=this;return this.localized?Object.entries(t).reduce((function(t,n){var a=En(n,2),r=a[0],i=a[1];return t[r]=e.isLocaleObject(i)?i[e.locale]:i,t}),{}):t}}},Dn=n("mwIZ"),In=n.n(Dn),Fn=n("7wO+"),Tn=n.n(Fn);function Mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Vn(t,e,n[e])}))}return t}function Vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var zn=/{{([\s\S]+?)}}/g;function Rn(t,e){return(t||[]).find((function(t){return t.name===e}))}function Kn(t){var e=t.dynamicOptions,n=void 0===e?{}:e,a=t.attributeValue;return"map"===n.type?n.path:"template"===n.type?Nn(a.matchAll(zn)).map((function(t){return t[1].trim()})):[]}function qn(t){var e=t.dynamicOptions,n=t.attributeValue,a=t.contextData,r=t.contextSources;return"map"===e.type?function(t){var e=t.map,n=t.path,a=t.contextData,r=n.map((function(t){return a[t]}));return In()(e,r)}({map:n,path:e.path,contextData:a}):"template"===e.type?function(t){var e=t.template,n=t.sources,a=t.contextData,r=Tn()(e,{interpolate:zn,evaluate:!1,escape:!1}),i=(n||[]).reduce((function(t,e){return Mn({},t,Vn({},e,null))}),{});return r(Mn({},i,{},a))}({template:n,sources:r,contextData:a}):n}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Hn(t,e,n[e])}))}return t}function Hn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Wn(t,e,n){var a=Object.entries(t||{}).reduce((function(t,a){var r=Gn(a,2),i=r[0],o=function(t,e,n){var a=n.dynamicAttributes,r=n.contextData,i=Rn(a,t),o=Kn({dynamicOptions:i,attributeValue:e});return i?function(t){var e=t.contextSources,n=t.contextData;return e.filter((function(t){var e=n[t];return null==e||""===e}))}({contextSources:o,contextData:r}).length>0?{isEmpty:null==i.default,value:i.default}:{value:qn({dynamicOptions:i,attributeValue:e,contextData:r,contextSources:o})}:{value:e}}(i,r[1],{dynamicAttributes:e,contextData:n}),s=t.resolvedEmptyAttributes||[];return o.isEmpty&&s.push(i),Un({},t,{resolvedEmptyAttributes:s,attributes:Un({},t.attributes,Hn({},i,o.value))})}),{});return{attributes:a.attributes,resolvedEmptyAttributes:a.resolvedEmptyAttributes}}function Yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qn(t,e,n){return Object.values(t).filter((function(t){return n=e,a=t.dynamicAttributes,r=t,(a||[]).some((function(t){return Kn({dynamicOptions:t,attributeValue:r[t.name]}).includes(n)}));var n,a,r})).reduce((function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Yn(t,e,n[e])}))}return t}({},t,Yn({},e.key,n?n(e,null):null))}),{})}function Jn(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).dependantAttributes,a=t.$attrs.dynamicAttributes;(n||[]).some((function(t){return Rn(a,t)}))?t.$nextTick(e):e()}function Xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Zn(t,e,n[e])}))}return t}function Zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ta(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ea(t,e){var n=function(t,e){return Object.entries(t).reduce((function(t,n){var a=ta(n,2),r=a[0],i=a[1];return Xn({},t,Zn({},r,function(t,e){return"autocomplete"===t&&e?e.id:e}(e[r].type,i)))}),{})}(e,t);return Object.entries(t).reduce((function(t,e){var a=ta(e,2),r=a[0],i=a[1],o=Wn(i,i.dynamicAttributes,n),s=o.attributes,l=o.resolvedEmptyAttributes;return Xn({},t,Zn({},r,Xn({},s,{readOnly:s.readOnly||l.length>0})))}),{})}var na={name:"SharpAutocomplete",components:{Multiselect:me.a,TemplateRenderer:gn,Loading:At},mixins:[Vt,Xt,An],props:{fieldKey:String,value:[String,Number,Object,Array],mode:String,localValues:{type:Array,default:function(){return[]}},placeholder:{type:String,default:function(){return Mt("form.multiselect.placeholder")}},remoteEndpoint:String,remoteMethod:String,remoteSearchAttribute:{type:String,default:"query"},itemIdAttribute:{type:String,default:"id"},searchMinChars:{type:Number,default:1},searchKeys:{type:Array,default:function(){return["value"]}},readOnly:Boolean,listItemTemplate:String,resultItemTemplate:String,noResultItem:Boolean,multiple:Boolean,hideSelected:Boolean,searchable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},clearOnSelect:Boolean,preserveSearch:{type:Boolean,default:!0},showPointer:{type:Boolean,default:!0},dynamicAttributes:Array},data:function(){return{ready:!1,query:"",suggestions:this.localValues,opened:!1,isLoading:!1}},watch:{localValues:function(){this.isRemote||this.updateLocalSuggestions(this.query)}},computed:{isRemote:function(){return"remote"===this.mode},hideDropdown:function(){return this.isQueryTooShort},isQueryTooShort:function(){return this.isRemote&&this.query.length<this.searchMinChars},clearButtonVisible:function(){return!!this.value&&!this.opened},classes:function(){return[{"SharpAutocomplete--remote":this.isRemote},{"SharpAutocomplete--disabled":this.readOnly}]},overlayVisible:function(){var t=!!this.fieldKey;return this.value&&t}},methods:{updateSuggestions:function(t){this.query=t,this.isQueryTooShort||(this.isRemote?(this.isLoading=!0,this.updateRemoteSuggestions(t)):this.updateLocalSuggestions(t))},updateLocalSuggestions:function(t){this.suggestions=t.length>=this.searchMinChars?je(this.localValues,t,{searchKeys:this.searchKeys}):this.localValues},updateRemoteSuggestions:Yt()((function(t){var e=this;return Cn({url:this.remoteEndpoint,method:this.remoteMethod,locale:this.locale,searchAttribute:this.remoteSearchAttribute,query:t}).then((function(t){e.suggestions=t})).finally((function(){e.isLoading=!1}))}),200),handleSelect:function(t){this.$emit("input",t)},handleDropdownClose:function(){this.opened=!1,this.$emit("close")},handleDropdownOpen:function(){this.opened=!0,this.$emit("open")},handleClearButtonClicked:function(){var t=this;this.$emit("input",null),this.$nextTick((function(){t.$refs.multiselect.activate()}))},itemMatchValue:function(t){return t[this.itemIdAttribute]==this.value[this.itemIdAttribute]},findLocalValue:function(){return this.value&&null!=this.value[this.itemIdAttribute]?this.localValues.some(this.itemMatchValue)?this.localValues.find(this.itemMatchValue):(error("Autocomplete (key: ".concat(this.fieldKey,") can't find local value matching : ").concat(JSON.stringify(this.value))),null):null},setDefault:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$emit("input",this.findLocalValue(),{force:!0}),t.next=3,ct.a.awrap(this.$nextTick());case 3:this.ready=!0;case 4:case"end":return t.stop()}}),null,this)}},created:function(){"local"!==this.mode||this.searchKeys||function(t){for(var e,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];(e=console).warn.apply(e,[zt()].concat(a))}("Autocomplete (key: ".concat(this.fieldKey,") has local mode but no searchKeys, default set to ['value']")),this.isRemote?this.ready=!0:Jn(this,this.setDefault,{dependantAttributes:["localValues"]})}},aa=Object($.a)(na,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpAutocomplete",class:t.classes},[t.ready?[n("Multiselect",{ref:"multiselect",staticClass:"SharpAutocomplete__multiselect",class:{"SharpAutocomplete__multiselect--hide-dropdown":t.hideDropdown},attrs:{value:t.value,options:t.suggestions,"track-by":t.itemIdAttribute,"internal-search":!1,placeholder:t.placeholder,loading:t.isLoading,multiple:t.multiple,disabled:t.readOnly,"hide-selected":t.hideSelected,"allow-empty":t.allowEmpty,"preserve-search":t.preserveSearch,"show-pointer":t.showPointer,searchable:t.searchable},on:{"search-change":function(e){return t.updateSuggestions(e)},select:t.handleSelect,input:function(e){return t.$emit("multiselect-input",e)},close:t.handleDropdownClose,open:t.handleDropdownOpen},scopedSlots:t._u([{key:"clear",fn:function(){return[t.clearButtonVisible?[n("button",{staticClass:"SharpAutocomplete__result-item__close-button",attrs:{type:"button"},on:{click:t.handleClearButtonClicked}},[n("svg",{staticClass:"SharpAutocomplete__result-item__close-icon",attrs:{"aria-label":"close",width:"10",height:"10",viewBox:"0 0 10 10","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z"}})])])]:t._e()]},proxy:!0},{key:"singleLabel",fn:function(e){var a=e.option;return[n("TemplateRenderer",{attrs:{name:"ResultItem",template:t.resultItemTemplate,"template-data":t.localizedTemplateData(a)}})]}},{key:"option",fn:function(e){var a=e.option;return[n("TemplateRenderer",{attrs:{name:"ListItem",template:t.listItemTemplate,"template-data":t.localizedTemplateData(a)}})]}},{key:"loading",fn:function(){return[n("Loading",{attrs:{visible:t.isLoading,inline:"",small:""}})]},proxy:!0},{key:"noResult",fn:function(){return[t._v("\n                "+t._s(t.l("form.autocomplete.no_results_text"))+"\n            ")]},proxy:!0}],null,!1,792723133)}),t._v(" "),t.overlayVisible?[n("div",{staticClass:"SharpAutocomplete__overlay multiselect"},[n("div",{staticClass:"multiselect__tags"},[n("TemplateRenderer",{attrs:{name:"ResultItem",template:t.resultItemTemplate,"template-data":t.localizedTemplateData(t.value)}})],1)])]:t._e()]:t._e()],2)}),[],!1,null,null,null);aa.options.__file="Autocomplete.vue";var ra=aa.exports,ia={name:"SharpTextarea",props:{value:{type:String},placeholder:String,readOnly:Boolean,maxLength:Number,rows:Number},data:function(){return{}},methods:{handleInput:function(t){this.$emit("input",t.target.value)}},directives:{maxlength:Ct}},oa=Object($.a)(ia,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{directives:[{name:"maxlength",rawName:"v-maxlength",value:t.maxLength,expression:"maxLength"}],staticClass:"SharpTextarea",attrs:{rows:t.rows,placeholder:t.placeholder,disabled:t.readOnly},on:{input:t.handleInput}},[t._v(t._s(t.value))])}),[],!1,null,null,null);oa.options.__file="Textarea.vue";var sa=oa.exports,la={name:"SharpText",mixins:[Ft],props:{value:[String,Number],placeholder:String,readOnly:Boolean,maxLength:Number,inputType:{type:String,default:"text"}},data:function(){return{}},methods:{handleInput:function(t){this.$emit("input",t.target.value)}},mounted:function(){this.setFocusable(this.$refs.input)},directives:{maxlength:Ct}},ca=Object($.a)(la,(function(){var t=this.$createElement;return(this._self._c||t)("input",{directives:[{name:"maxlength",rawName:"v-maxlength",value:this.maxLength,expression:"maxLength"}],ref:"input",staticClass:"SharpText",attrs:{type:this.inputType,placeholder:this.placeholder,disabled:this.readOnly},domProps:{value:this.value},on:{input:this.handleInput}})}),[],!1,null,null,null);ca.options.__file="Text.vue";var ua=ca.exports,da=n("6/sb"),ha=n.n(da),fa=n("d90G"),pa=n("lcPr"),ma=n.n(pa),va={props:{compactThumbnail:Boolean},computed:{modifiers:function(){return{compacted:this.compactThumbnail}}}},ya={props:{modifiers:{type:Object,default:function(){}}},computed:{modifiersClasses:function(){return{"SharpUpload--compacted":this.modifiers.compacted}}}};function ba(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){ga(t,e,n[e])}))}return t}function ga(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _a={name:"SharpVueClip",extends:fa.a,components:{Modal:fe,VueCropper:ma.a},inject:["actionsBus","axiosInstance","$form","$field"],mixins:[Vt,ya],props:{downloadId:String,pendingKey:String,ratioX:Number,ratioY:Number,value:Object,croppableFileTypes:Array,readOnly:Boolean},data:function(){return{showEditModal:!1,croppedImg:null,resized:!1,allowCrop:!1,isNew:!this.value,canDownload:!!this.value}},watch:{value:function(t){t||(this.files=[])},"file.status":function(t){t in this.statusFunction&&this[this.statusFunction[t]]()}},computed:{file:function(){return this.files[0]},originalImageSrc:function(){return this.file&&(this.file.thumbnail||this.file.dataUrl)},imageSrc:function(){return this.croppedImg||this.originalImageSrc},size:function(){return null!=this.file.size?Te(this.file.size):null},operationFinished:function(){return{crop:this.hasInitialCrop?!!this.croppedImg:null}},operations:function(){return Object.keys(this.operationFinished)},activeOperationsCount:function(){var t=this;return this.operations.filter((function(e){return null!==t.operationFinished[e]})).length},operationFinishedCount:function(){var t=this;return this.operations.filter((function(e){return t.operationFinished[e]})).length},progress:function(){var t=this.file?this.file.progress:100,e=1-.05*(this.activeOperationsCount-this.operationFinishedCount);return Math.floor(t)*e},inProgress:function(){return this.file&&"exist"!==this.file.status&&this.progress<100},statusFunction:function(){return{error:"onStatusError",success:"onStatusSuccess",added:"onStatusAdded"}},fileName:function(){var t=this.file.name.split("/");return t.length?t[t.length-1]:""},fileExtension:function(){var t=this.fileName.split(".").pop();return t?".".concat(t):null},downloadUrl:function(){return t={entityKey:this.$form.entityKey,instanceId:this.$form.instanceId,fieldKey:this.downloadId,fileName:this.fileName},e=t.entityKey,n=t.instanceId,a=t.fieldKey,r=t.fileName,Se("form/download/".concat(a,"/").concat(e,"/").concat(n),{params:{fileName:r}});var t,e,n,a,r},showThumbnail:function(){return this.imageSrc},hasInitialCrop:function(){return!(!this.ratioX||!this.ratioY)&&this.isCroppable},isCroppable:function(){return!this.croppableFileTypes||this.croppableFileTypes.includes(this.fileExtension)}},methods:{setPending:function(t){this.actionsBus.$emit("setPendingJob",{key:this.pendingKey,origin:"upload",value:t})},onStatusAdded:function(){this.$emit("reset"),this.setPending(!0)},onStatusError:function(){var t=this.file.errorMessage;this.remove(),this.$emit("error",t)},onStatusSuccess:function(){var t=this,e={};try{e=JSON.parse(this.file.xhrResponse.responseText)}catch(t){console.log(t)}e.uploaded=!0,this.$emit("success",e),this.$emit("input",e),this.setPending(!1),this.allowCrop=!0,this.$nextTick((function(e){t.isCropperReady()&&t.onCropperReady()}))},remove:function(){this.canDownload=!1,this.removeFile(this.file),this.files.splice(0,1),this.setPending(!1),this.resetEdit(),this.$emit("input",null),this.$emit("reset"),this.$emit("removed")},resetEdit:function(){this.croppedImg=null,this.resized=!1},onEditButtonClick:function(){this.$emit("active"),this.showEditModal=!0,this.allowCrop=!0},handleImageLoaded:function(){this.isNew&&this.$emit("image-updated")},onEditModalShown:function(){var t=this;this.resized||this.$nextTick((function(){var e=t.$refs.cropper.cropper;e.resize(),e.reset(),t.resized=!0}))},onEditModalHidden:function(){var t=this;this.$emit("inactive"),setTimeout((function(){return t.$refs.cropper.cropper.reset()}),300)},onEditModalOk:function(){this.updateCroppedImage(),this.updateCropData()},isCropperReady:function(){return this.$refs.cropper&&this.$refs.cropper.cropper.ready},onCropperReady:function(){this.hasInitialCrop&&(this.updateCroppedImage(),this.updateCropData())},updateCropData:function(){var t=this.getCropData(),e=this.getImageData(),n=e.naturalWidth,a=e.naturalHeight;Math.abs(t.rotate)%180&&(n=e.naturalHeight,a=e.naturalWidth);var r={width:t.width/n,height:t.height/a,x:t.x/n,y:t.y/a,rotate:-1*t.rotate};if(this.allowCrop){var i=ba({},this.value,{cropData:r});this.$emit("input",i),this.$emit("updated",i)}},updateCroppedImage:function(){this.allowCrop&&(this.isNew=!0,this.croppedImg=this.$refs.cropper.getCroppedCanvas().toDataURL())},getCropData:function(){return this.$refs.cropper.getData(!0)},getImageData:function(){return this.$refs.cropper.getImageData()},rotate:function(t){!function(t,e){var n=t.getCropBoxData(),a=t.getContainerData();n.width=2,n.height=2,n.top=0;var r=a.width/2-1;n.left=r,t.setCropBoxData(n),t.rotate(e);var i=t.getCanvasData(),o=i.height,s=a.height,l=s/o,c=i.width*l;i.height=s,i.width=c,i.top=0,i.width>=a.width?i.left=0:i.left=(a.width-i.width)/2,t.setCanvasData(i),n.left=0,n.top=0,n.width=i.width,n.height=i.height,t.setCropBoxData(n)}(this.$refs.cropper.cropper,t)}},created:function(){this.options.thumbnailWidth=null,this.options.thumbnailHeight=null,this.options.maxFiles=1,this.value&&(this.addedFile(ba({},this.value,{upload:{}})),this.file.thumbnail=this.value.thumbnail,this.file.status="exist")},beforeDestroy:function(){this.setPending(!1),this.uploader._uploader.destroy()}},wa=Object($.a)(_a,(function(){var t,e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"SharpUpload",class:[{"SharpUpload--empty":!e.file,"SharpUpload--disabled":e.readOnly},e.modifiersClasses]},[a("div",{staticClass:"SharpUpload__inner"},[a("div",{staticClass:"SharpUpload__content"},[a("form",{directives:[{name:"show",rawName:"v-show",value:!e.file,expression:"!file"}],staticClass:"dropzone"},[a("button",{staticClass:"dz-message SharpButton SharpButton--ghost SharpUpload__upload-button",attrs:{type:"button",disabled:e.readOnly}},[e._v("\n                    "+e._s(e.l("form.upload.browse_button"))+"\n                ")])]),e._v(" "),e.file?[a("div",{staticClass:"SharpUpload__container",class:{row:e.showThumbnail}},[e.showThumbnail?a("div",{staticClass:"SharpUpload__thumbnail",class:[e.modifiers.compacted?"col-4 col-sm-3 col-xl-2":"col-4 col-md-4"]},[a("img",{attrs:{src:e.imageSrc},on:{load:e.handleImageLoaded}})]):e._e(),e._v(" "),a("div",{staticClass:"SharpUpload__infos",class:(t={},t[e.modifiers.compacted?"col-8 col-sm-9 col-xl-10":"col-8 col-md-8"]=e.showThumbnail,t)},[a("div",{staticClass:"mb-3 text-truncate"},[a("label",{staticClass:"SharpUpload__filename"},[e._v(e._s(e.fileName))]),e._v(" "),a("div",{staticClass:"SharpUpload__info mt-2"},[e.size?[a("span",{staticClass:"mr-2"},[e._v(e._s(e.size))])]:e._e(),e._v(" "),e.canDownload?[a("a",{staticClass:"SharpUpload__download-link",attrs:{href:e.downloadUrl,download:e.fileName}},[a("i",{staticClass:"fas fa-download"}),e._v("\n                                        "+e._s(e.l("form.upload.download_link"))+"\n                                    ")])]:e._e()],2),e._v(" "),a("transition",{attrs:{name:"SharpUpload__progress"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.inProgress,expression:"inProgress"}],staticClass:"SharpUpload__progress mt-2"},[a("div",{staticClass:"SharpUpload__progress-bar",style:{width:e.progress+"%"},attrs:{role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"}})])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.readOnly,expression:"!readOnly"}]},[a("button",{directives:[{name:"show",rawName:"v-show",value:!!e.originalImageSrc&&!e.inProgress,expression:"!!originalImageSrc && !inProgress"}],staticClass:"SharpButton SharpButton--sm SharpButton--secondary",attrs:{type:"button",disabled:!e.isCroppable},on:{click:e.onEditButtonClick}},[e._v("\n                                "+e._s(e.l("form.upload.edit_button"))+"\n                            ")]),e._v(" "),a("button",{staticClass:"SharpButton SharpButton--sm SharpButton--secondary SharpButton--danger SharpUpload__remove-button",attrs:{type:"button",disabled:e.readOnly},on:{click:function(t){return e.remove()}}},[e._v("\n                                "+e._s(e.l("form.upload.remove_button"))+"\n                            ")])])]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.readOnly,expression:"!readOnly"}],staticClass:"SharpUpload__close-button",attrs:{type:"button"},on:{click:function(t){return e.remove()}}},[a("svg",{staticClass:"SharpUpload__close-icon",attrs:{"aria-label":"close",width:"10",height:"10",viewBox:"0 0 10 10","fill-rule":"evenodd"}},[a("path",{attrs:{d:"M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z"}})])])])]:e._e(),e._v(" "),a("div",{ref:"clip-preview-template",staticClass:"clip-preview-template",staticStyle:{display:"none"}},[a("div")])],2)]),e._v(" "),e.originalImageSrc&&e.isCroppable?[a("Modal",{ref:"modal",attrs:{visible:e.showEditModal,"no-close-on-backdrop":"",title:e.l("modals.cropper.title"),static:""},on:{"update:visible":function(t){e.showEditModal=t},ok:e.onEditModalOk,shown:e.onEditModalShown,hidden:e.onEditModalHidden}},[a("vue-cropper",{ref:"cropper",staticClass:"SharpUpload__modal-vue-cropper",attrs:{"view-mode":2,"drag-mode":"crop","aspect-ratio":e.ratioX/e.ratioY,"auto-crop-area":1,zoomable:!1,guides:!1,background:!0,rotatable:!0,src:e.originalImageSrc,ready:e.onCropperReady,alt:"Source image"}}),e._v(" "),a("div",[a("button",{staticClass:"SharpButton SharpButton--primary",on:{click:function(t){return e.rotate(-90)}}},[a("i",{staticClass:"fas fa-undo"})]),e._v(" "),a("button",{staticClass:"SharpButton SharpButton--primary",on:{click:function(t){return e.rotate(90)}}},[a("i",{staticClass:"fas fa-redo"})])])],1)]:e._e(),e._v(" "),a("a",{ref:"dlLink",staticStyle:{display:"none"}})],2)}),[],!1,null,null,null);wa.options.__file="VueClip.vue";var Sa=wa.exports,Ca=["Backspace","Enter"],xa=["ArrowLeft","ArrowUp","ArrowDown","ArrowRight","Escape","Tab"],Oa=r.a.extend({mixins:[Tt,va],inject:["xsrfToken"],components:{VueClip:Sa},props:{downloadId:String,pendingKey:String,id:Number,value:Object,maxImageSize:Number,ratioX:Number,ratioY:Number,croppableFileTypes:Array},data:function(){return{show:this.value,marker:null}},computed:{options:function(){return this.patchXsrf({url:ae,uploadMultiple:!1,acceptedFiles:{extensions:["image/*"],message:Mt("form.upload.message.bad_extension")},maxFilesize:{limit:this.maxImageSize,message:Mt("form.upload.message.file_too_big")}})},dropzone:function(){return this.$refs.vueclip.uploader._uploader},fileInput:function(){return this.dropzone.hiddenFileInput}},methods:{handleAdded:function(){this.show=!0,this.$emit("added")},inputClick:function(){this.fileInput.click()}},mounted:function(){var t=this;this.$on("delete-intent",(function(){var e=t.$el.querySelector(".SharpUpload__remove-button");e.focus(),e.addEventListener("keydown",(function(e){Ca.includes(e.key)?t.$emit("remove"):xa.includes(e.key)&&t.$emit("escape")}))}))}}),ka=Object($.a)(Oa,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("VueClip",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"vueclip",staticClass:"SharpMarkdownUpload",attrs:{"pending-key":t.pendingKey,"download-id":t.downloadId,options:t.options,value:t.value,ratioX:t.ratioX,ratioY:t.ratioY,"croppable-file-types":t.croppableFileTypes,modifiers:t.modifiers,"on-added-file":t.handleAdded},on:{success:function(e){return t.$emit("success",e)},removed:function(e){return t.$emit("remove")},updated:function(e){return t.$emit("update",e)},active:function(e){return t.$emit("active")},inactive:function(e){return t.$emit("inactive")},"image-updated":function(e){return t.$emit("refresh")}}})}),[],!1,null,null,null);ka.options.__file="MarkdownUpload.vue";var ja=ka.exports;function La(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pa=function(t){var e=t.textProp;return{_localizedEditor:{textProp:e},mixins:[xn],computed:{localizedText:function(){return this.isLocalized?null!==this.value[e]?this.value[e][this.locale]:"":this.value[e]}},methods:{localizedValue:function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){La(t,e,n[e])}))}return t}({},this.value,La({},e,this.isLocalized?Bn({localeObject:this.value[e],locale:this.locale,value:t}):t))}}}},$a={bold:"fas fa-bold",italic:"fas fa-italic",strike:"fas fa-strikethrough",link:"fas fa-link",h1:"fas fa-heading",h2:"fas fa-heading fa-sm",h3:"fas fa-heading fa-xs",quote:"fas fa-quote-right",code:"fas fa-code",ul:"fas fa-list-ul",ol:"fas fa-list-ol",indent:"fas fa-indent","de-indent":"fas fa-outdent",undo:"fas fa-undo",redo:"fas fa-redo",hr:"fas fa-minus",image:"far fa-image"};function Ba(t){return $a[t]||null}var Ea={bold:{name:"bold",action:ha.a.toggleBold,className:Ba("bold"),title:"Bold"},italic:{name:"italic",action:ha.a.toggleItalic,className:Ba("italic"),title:"Italic"},"heading-1":{name:"heading-1",action:ha.a.toggleHeading1,className:Ba("h1"),title:"Big Heading"},"heading-2":{name:"heading-2",action:ha.a.toggleHeading2,className:Ba("h2"),title:"Medium Heading"},"heading-3":{name:"heading-3",action:ha.a.toggleHeading3,className:Ba("h3"),title:"Small Heading"},code:{name:"code",action:ha.a.toggleCodeBlock,className:Ba("code"),title:"Code"},quote:{name:"quote",action:ha.a.toggleBlockquote,className:Ba("quote"),title:"Quote"},"unordered-list":{name:"unordered-list",action:ha.a.toggleUnorderedList,className:Ba("ul"),title:"Generic List"},"ordered-list":{name:"ordered-list",action:ha.a.toggleOrderedList,className:Ba("ol"),title:"Numbered List"},link:{name:"link",action:ha.a.drawLink,className:Ba("link"),title:"Create Link"},image:{name:"image",action:ha.a.drawImage,className:Ba("image"),title:"Insert Image"},"horizontal-rule":{name:"horizontal-rule",action:ha.a.drawHorizontalRule,className:Ba("hr"),title:"Insert Horizontal Line"},undo:{name:"undo",action:ha.a.undo,className:Ba("undo"),title:"Undo"},redo:{name:"redo",action:ha.a.redo,className:Ba("redo"),title:"Redo"}};function Aa(t){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Da(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Ia(t,e,n[e])}))}return t}function Ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fa=function(){},Ta=Symbol("fileIdSymbol"),Ma={name:"SharpMarkdown",mixins:[Pa({textProp:"text"})],props:{uniqueIdentifier:String,fieldConfigIdentifier:String,value:{type:Object,default:function(){return{}}},placeholder:String,toolbar:Array,height:{type:Number,default:300},innerComponents:Object,readOnly:Boolean},inject:["$tab"],data:function(){return{simplemdeInstances:{},cursorPos:{line:0,ch:0},uploaderId:(this.value.files||[]).length}},watch:{locale:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLocalized){t.next=4;break}return t.next=3,ct.a.awrap(this.$nextTick());case 3:this.refreshOnExternalChange();case 4:case"end":return t.stop()}}),null,this)}},computed:{simplemde:function(){return this.isLocalized?this.simplemdeInstances[this.locale]:this.simplemdeInstances},codemirror:function(){return(this.simplemde||{}).codemirror},idSymbol:function(){return Ta},filesByName:function(){return this.value.files.reduce((function(t,e){return t[e.name]=e,t}),{})},indexByFileId:function(){var t=this;return this.value.files.reduce((function(e,n,a){return e[n[t.idSymbol]]=a,e}),{})},text:function(){return this.localizedText},transformedToolbar:function(){return(this.toolbar||[]).map((function(t){return"|"!==t?Ea[t]:t}))}},methods:{localizedTextareaRef:function(t){return"textarea_".concat(t)},indexedFiles:function(){var t=this;return(this.value.files||[]).map((function(e,n){return Da(Ia({},t.idSymbol,n),e)}))},createUploader:function(t){var e,n=this,a=t.id,r=t.value,i=t.removeOptions,o=new ja({mixins:[(e=this,{parent:e})],propsData:Da({id:a,value:r},this.innerComponents.upload,{downloadId:this.fieldConfigIdentifier,pendingKey:"".concat(this.uniqueIdentifier,".upload.").concat(a)})});return o.$on("success",(function(t){return n.updateUploaderData(o,t)})),o.$on("refresh",(function(){return n.refreshCodemirror()})),o.$on("remove",(function(){return n.removeMarker(o,i)})),o.$on("update",(function(t){return n.updateFileData(o,t)})),o.$on("active",(function(){return n.setMarkerActive(o)})),o.$on("inactive",(function(){return n.setMarkerInactive(o)})),o.$on("escape",(function(){return n.escapeMarker()})),o.$mount(),o},createUserUploader:function(t){var e=this,n=null;return this.lastUploader&&this.lastUploader.$destroy(),(n=this.lastUploader=this.createUploader(t)).inputClick(),new Promise((function(t){n.$on("added",(function(){e.lastUploader=null,t(n)}))}))},refreshCodemirror:function(){console.log("refresh codemirror"),this.codemirror.refresh(),this.codemirror.focus()},removeMarker:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.isCMEvent,r=n.relativeFallbackLine,i=t.id,o=t.marker;if(!o.explicitlyCleared){if(!a){o.inclusiveLeft=o.inclusiveRight=!1;var s=o.find(),l=s.from.line,c=l-r;this.codemirror.replaceRange("",{line:c},{line:l+1,ch:0}),o.inclusiveLeft=o.inclusiveRight=!0,o.clear(),this.codemirror.focus()}t.$destroy(),this.value.files=this.value.files.filter((function(t){return t[e.idSymbol]!==i}))}},escapeMarker:function(){this.codemirror.focus()},updateUploaderData:function(t,e){var n=t.id,a=t.marker.find(),r=this.codemirror.getLine(a.from.line);this.codemirror.replaceRange(r.replace(/\(.*?\)/,"(".concat(e.name,")")),a.from,a.to),this.value.files.push(Da(Ia({},this.idSymbol,n),e))},setMarkerActive:function(t){var e=t.marker;this.codemirror.addLineClass(e.lines[0],"wrap","SharpMarkdown__line--active")},setMarkerInactive:function(t){var e=t.marker;this.codemirror.removeLineClass(e.lines[0],"wrap","SharpMarkdown__line--active")},updateFileData:function(t,e){var n=t.id,a=this.indexByFileId[n],r=this.value.files[a];this.$set(this.value.files,a,Da({},r,{},e))},insertUploadImage:function(){var t,e,n,a,r,i,o,s,l,c,u,d,h=this,f=arguments;return ct.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{},e=t.replaceBySelection,n=t.data,a=t.isInsertion,r=this.codemirror.getSelection(" "),i=this.codemirror.getLine(this.cursorPos.line)||"",o={id:n?this.filesByName[n.name][this.idSymbol]:this.uploaderId++,value:n&&this.filesByName[n.name],removeOptions:{relativeFallbackLine:1}},!a){p.next=10;break}return p.next=7,ct.a.awrap(this.createUserUploader(o));case 7:p.t0=p.sent,p.next=11;break;case 10:p.t0=this.createUploader(o);case 11:return s=p.t0,r&&(this.codemirror.replaceSelection(""),i=this.codemirror.getLine(this.cursorPos.line)),(i.length||0===this.cursorPos.line&&0===this.cursorPos.ch||this.codemirror.findMarksAt({line:this.cursorPos.line-1,ch:0}).length)&&this.codemirror.replaceRange("\n",this.cursorPos),this.codemirror.getInputField().blur(),l=e?r:"![]()",c=a||this.cursorPos.line===this.codemirror.lineCount()-1?1:0,l+="\n".repeat(c),this.codemirror.replaceRange(l,this.cursorPos),this.codemirror.setCursor(this.cursorPos.line-c,0,{scroll:!!a}),u=this.cursorPos,d={line:this.cursorPos.line,ch:this.cursorPos.ch+l.length},s.marker=this.codemirror.markText(u,d,{replacedWith:s.$el,clearWhenEmpty:!1,inclusiveRight:!0,inclusiveLeft:!0,$component:s}),this.codemirror.addLineClass(s.marker.lines[0],"wrap","SharpMarkdown__upload-line"),s.marker.lines[0].on("delete",(function(){return h.removeMarker(s,{isCMEvent:!0,relativeFallbackLine:1})})),p.abrupt("return",s);case 25:case"end":return p.stop()}}),null,this)},onCursorActivity:function(){this.codemirror&&(this.cursorPos=this.codemirror.getCursor())},onChange:function(){this.codemirror&&this.$emit("input",this.localizedValue(this.codemirror.getValue()))},onBeforeChange:function(t,e){if(e&&e.origin&&e.origin.includes("delete")){var n=t.findMarks(e.from,e.to);console.log(n),n.length&&n.forEach((function(t){t.$component&&(e.cancel(),t.$component.$emit("delete-intent"))}))}},codemirrorOn:function(t,e,n,a){a&&n(t),t.on(e,n)},localizeToolbar:function(t){t.toolbar.forEach((function(t){if("object"===Aa(t)){var e=t.name.replace(/-/g,"_");t.title=Mt("form.markdown.icons.".concat(e,".title"))}})),t.gui.toolbar.remove(),t.createToolbar()},setReadOnly:function(t){t.codemirror.setOption("readOnly",!0),t.toolbar.forEach((function(t){return"object"===Aa(t)&&(t.action=Fa)}))},bindImageAction:function(t){var e=this;(t.toolbar.find((function(t){return"image"===t.name}))||{}).action=function(){return e.insertUploadImage({isInsertion:!0})}},parse:function(){var t=this,e=[];return this.codemirror.eachLine((function(n){var a=n.text,r=t.codemirror.getLineNumber(n),i=/!\[(.*?)\]\((.*?)\)/g.exec(a);if(i){var o=i.index,s=i[0].length,l=i[1],c=i[2];e.push({range:{start:{ch:o,line:r},end:{ch:o+s,line:r}},data:{name:c,title:l}})}})),e.reverse().forEach((function(e){var n=e.range,a=e.data;t.codemirror.setSelection(n.start,n.end,{scroll:!1}),t.insertUploadImage({replaceBySelection:!0,data:a})})),e},refreshOnExternalChange:function(){var t=this;if(!this.simplemde.parsed){var e=this.parse();this.simplemde.parsed=!0,e.length&&this.$nextTick((function(){return window.scrollTo(0,0)}))}setTimeout((function(){return t.codemirror.refresh()}),50)},createSimpleMDE:function(t){var e=t.element,n=t.initialValue,a=new ha.a({element:e,initialValue:n,placeholder:this.placeholder,spellChecker:!1,toolbar:this.transformedToolbar,autoDownloadFontAwesome:!1,status:!1});return this.readOnly&&this.setReadOnly(a),this.localizeToolbar(a),this.bindImageAction(a),this.initCM(a.codemirror),a},initCM:function(t){t.setSize("auto",this.height),this.codemirrorOn(t,"cursorActivity",this.onCursorActivity,!0),this.codemirrorOn(t,"change",this.onChange),this.codemirrorOn(t,"beforeChange",this.onBeforeChange)}},mounted:function(){var t=this;this.isLocalized?this.simplemdeInstances=this.locales.reduce((function(e,n){return Da({},e,Ia({},n,t.createSimpleMDE({element:t.$refs[t.localizedTextareaRef(n)][0],initialValue:(t.value.text||{})[n]})))}),{}):this.simplemdeInstances=this.createSimpleMDE({element:this.$refs.textarea,initialValue:this.value.text}),this.value.files=this.indexedFiles(),this.$tab?this.$tab.$once("active",(function(){return t.refreshOnExternalChange()})):this.$nextTick((function(){return t.refreshOnExternalChange()}))}},Va=Object($.a)(Ma,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpMarkdown",class:{"SharpMarkdown--read-only":t.readOnly}},[n("div",{staticClass:"SharpModule__inner"},[t.isLocalized?t._l(t.locales,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.locale===e,expression:"locale === loc"}]},[n("textarea",{ref:t.localizedTextareaRef(e),refInFor:!0,attrs:{id:t.localizedTextareaRef(e)}})])})):[n("textarea",{ref:"textarea"})]],2)])}),[],!1,null,null,null);Va.options.__file="Markdown.vue";var Na=Va.exports;function za(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Ra(t,e,n[e])}))}return t}function Ra(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ka={name:"SharpNumber",functional:!0,render:function(t,e){var n=e.props,a=n.step,r=n.min,i=n.max,o=n.showControls,s=e.data;return t(ua,za({},s,{class:za({"hide-controls":!o},s.class),props:za({inputType:"number"},s.props),attrs:za({step:a,min:r,max:i},s.attrs)}))}},qa=Object($.a)(Ka,void 0,void 0,!1,null,null,null);qa.options.__file="Number.vue";var Ua=qa.exports,Ha={name:"SharpUpload",components:{VueClip:Sa},mixins:[Tt,va],inject:["$field","xsrfToken"],props:{uniqueIdentifier:String,fieldConfigIdentifier:String,value:Object,fileFilter:Array,maxFileSize:Number,thumbnail:String,croppableFileTypes:Array,ratioX:Number,ratioY:Number,readOnly:Boolean},computed:{options:function(){var t={};return t.url=ae,t.uploadMultiple=!1,this.fileFilter&&(t.acceptedFiles={extensions:this.fileFilter,message:Mt("form.upload.message.bad_extension")}),this.maxFileSize&&(t.maxFilesize={limit:this.maxFileSize,message:Mt("form.upload.message.file_too_big")}),this.patchXsrf(t),t}},methods:{}},Ga=Object($.a)(Ha,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("VueClip",{attrs:{"pending-key":t.uniqueIdentifier,"download-id":t.fieldConfigIdentifier,options:t.options,value:t.value,ratioX:t.ratioX,ratioY:t.ratioY,"croppable-file-types":t.croppableFileTypes,"read-only":t.readOnly,modifiers:t.modifiers},on:{input:function(e){return t.$emit("input",e)},error:function(e){return t.$field.$emit("error",e)},reset:function(e){return t.$field.$emit("clear")}}})}),[],!1,null,null,null);Ga.options.__file="Upload.vue";var Wa=Ga.exports,Ya={mixins:[xn],methods:{localizeLabel:function(t){return this.isLocalized?t[this.locale]:t},localizedOptionLabel:function(t){return this.localizeLabel(t.label)}}},Qa={extends:Ya,methods:{localizeLabel:function(t){return this.isLocalized?t[this.locale]||Mt("form.tags.unknown_label"):t},localizedTagLabel:function(t){var e,n,a,r,i=this;return this.isLocalized?(e={locales:this.locales,resolve:function(e){return e===i.locale?t:null}},n=e.locales,a=e.resolve,r=void 0===a?function(){return null}:a,n.reduce((function(t,e){return On({},t,kn({},e,r(e)))}),{})):t},localizedCustomLabel:function(t){return this.localizeLabel(t.label)}}};function Ja(t){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xa(t,e){return!e||"object"!==Ja(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Za(t){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ar(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var rr=function(){function t(e){nr(this,t),this.id=e.id,this.label=e.label}var e,n,a;return e=t,(n=[{key:"internalId",set:function(t){this._internalId=t},get:function(){return this._internalId}}])&&ar(e.prototype,n),a&&ar(e,a),t}(),ir=function(t){function e(){return nr(this,e),Xa(this,Za(e).apply(this,arguments))}return tr(e,t),e}(rr),or=function(t){function e(){return nr(this,e),Xa(this,Za(e).apply(this,arguments))}return tr(e,t),e}(rr),sr={name:"SharpTags",mixins:[Qa],components:{Multiselect:Je},props:{value:Array,options:Array,placeholder:String,maxTagCount:Number,createText:String,creatable:{type:Boolean,default:!0},readOnly:Boolean},data:function(){return{tags:[],lastIndex:0}},computed:{indexedOptions:function(){return this.options.map(this.patchOption)},dynamicPlaceholder:function(){return this.tags.length<(this.maxTagCount||1/0)?this.placeholder:""},ids:function(){return this.tags.map((function(t){return t.internalId}))}},watch:{tags:"onTagsChanged"},methods:{patchOption:function(t,e){var n=new ir(t);return n.internalId=e,n},patchTag:function(t){var e=this.indexedOptions.find((function(e){return e.id===t.id})),n=new or(e);return n.internalId=e.internalId,n},handleNewTag:function(t){var e=new or({id:null,label:this.localizedTagLabel(t)});e.internalId=this.lastIndex++,this.tags.push(e)},handleInput:function(t){this.tags=t},handleTextInput:function(t){t.length>0&&this.$refs.multiselect.filteredOptions.length>1?this.$refs.multiselect.pointer=1:this.$refs.multiselect.pointer=0},onTagsChanged:function(){this.$emit("input",this.tags.map((function(t){return new or(t)})))}},created:function(){this.lastIndex+=this.options.length,this.tags=(this.value||[]).map(this.patchTag)}},lr=Object($.a)(sr,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("Multiselect",{ref:"multiselect",staticClass:"SharpTags",attrs:{value:t.tags,options:t.indexedOptions,placeholder:t.dynamicPlaceholder,"tag-placeholder":t.createText,max:t.maxTagCount,taggable:t.creatable,"close-on-select":!1,disabled:t.readOnly,"track-by":"_internalId",label:"label","custom-label":t.localizedCustomLabel,multiple:"",searchable:"","hide-selected":"","show-labels":!1},on:{"search-change":t.handleTextInput,input:t.handleInput,tag:t.handleNewTag}})}),[],!1,null,null,null);lr.options.__file="Tags.vue";var cr=lr.exports,ur=n("OCip"),dr=n("oihH"),hr={name:"SharpDatepicker",extends:n.n(dr).a,computed:{remainingDays:function(){var t=this.days.length+this.blankDays;return t>35?42-t:35-t}},methods:{init:function(){this.value&&this.setValue(this.value),this.showDayCalendar()},clickOutside:function(){}}},fr=Object($.a)(hr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpDate__datepicker",class:t.wrapperClass},[n("input",{class:t.inputClass,attrs:{type:t.inline?"hidden":"text",name:t.name,id:t.id,placeholder:t.placeholder,"clear-button":t.clearButton,disabled:t.disabledPicker,required:t.required,readonly:""},domProps:{value:t.formattedValue},on:{click:function(e){return t.showCalendar()}}}),t._v(" "),t.clearButton&&t.selectedDate?n("i",{staticClass:"vdp-datepicker__clear-button",on:{click:function(e){return t.clearDate()}}},[t._v("×")]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDayView,expression:"showDayView"}],staticClass:"SharpDate__calendar",class:{open:t.showDayView},style:t.calendarStyle},[n("header",[n("span",{staticClass:"prev",class:{disabled:t.previousMonthDisabled(t.pageTimestamp)},on:{click:t.previousMonth}},[n("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M7.5 10.6L2.8 6l4.7-4.6L6.1 0 0 6l6.1 6z"}})])]),t._v(" "),n("span",{staticClass:"up",on:{click:t.showMonthCalendar}},[n("span",{staticClass:"SharpDate__cur-month"},[t._v(t._s(t.currMonthName))]),t._v(" "),n("span",{staticClass:"SharpDate__cur-year"},[t._v(t._s(t.currYear))])]),t._v(" "),n("span",{staticClass:"next",class:{disabled:t.nextMonthDisabled(t.pageTimestamp)},on:{click:t.nextMonth}},[n("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M0 10.6L4.7 6 0 1.4 1.4 0l6.1 6-6.1 6z"}})])])]),t._v(" "),n("div",{staticClass:"SharpDate__innerContainer"},[n("div",{staticClass:"SharpDate__rContainer"},[n("div",{staticClass:"SharpDate__weekdays"},t._l(t.daysOfWeek,(function(e){return n("span",{staticClass:"cell day-header"},[t._v(t._s(e))])})),0),t._v(" "),n("div",{staticClass:"SharpDate__days"},[n("div",{staticClass:"SharpDate__dayContainer"},[t._l(t.blankDays,(function(t){return n("span",{staticClass:"cell day blank"})})),t._v(" "),t._l(t.days,(function(e){return n("span",{staticClass:"cell day",class:t.dayClasses(e),on:{click:function(n){return t.selectDate(e)}}},[t._v(t._s(e.date)+"\n                        ")])})),t._v(" "),t._l(t.remainingDays,(function(t){return n("span",{staticClass:"cell day blank"})}))],2)])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showMonthView,expression:"showMonthView"}],staticClass:"SharpDate__calendar",class:{open:t.showMonthView},style:t.calendarStyle},[n("header",[n("span",{staticClass:"prev",class:{disabled:t.previousYearDisabled(t.pageTimestamp)},on:{click:t.previousYear}},[n("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M7.5 10.6L2.8 6l4.7-4.6L6.1 0 0 6l6.1 6z"}})])]),t._v(" "),n("span",{staticClass:"up",on:{click:t.showYearCalendar}},[n("span",{staticClass:"SharpDate__cur-year"},[t._v(t._s(t.getPageYear()))])]),t._v(" "),n("span",{staticClass:"next",class:{disabled:t.nextYearDisabled(t.pageTimestamp)},on:{click:t.nextYear}},[n("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M0 10.6L4.7 6 0 1.4 1.4 0l6.1 6-6.1 6z"}})])])]),t._v(" "),n("div",{staticClass:"SharpDate__innerContainer"},[n("div",{staticClass:"SharpDate__rContainer"},[n("div",{staticClass:"SharpDate__monthContainer"},t._l(t.months,(function(e){return n("span",{staticClass:"cell month",class:{selected:e.isSelected,disabled:e.isDisabled},on:{click:function(n){return n.stopPropagation(),t.selectMonth(e)}}},[t._v(t._s(e.month))])})),0)])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showYearView,expression:"showYearView"}],staticClass:"SharpDate__calendar",class:{open:t.showYearView},style:t.calendarStyle},[n("header",[n("span",{staticClass:"prev",class:{disabled:t.previousDecadeDisabled(t.pageTimestamp)},on:{click:t.previousDecade}},[n("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M7.5 10.6L2.8 6l4.7-4.6L6.1 0 0 6l6.1 6z"}})])]),t._v(" "),n("span",{staticClass:"up"},[n("span",{staticClass:"SharpDate__cur-decade"},[t._v(t._s(t.getPageDecade()))])]),t._v(" "),n("span",{staticClass:"next",class:{disabled:t.nextMonthDisabled(t.pageTimestamp)},on:{click:t.nextDecade}},[n("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M0 10.6L4.7 6 0 1.4 1.4 0l6.1 6-6.1 6z"}})])])]),t._v(" "),n("div",{staticClass:"SharpDate__innerContainer"},[n("div",{staticClass:"SharpDate__rContainer"},[n("div",{staticClass:"SharpDate__yearContainer"},t._l(t.years,(function(e){return n("span",{staticClass:"cell year",class:{selected:e.isSelected,disabled:e.isDisabled},on:{click:function(n){return n.stopPropagation(),t.selectYear(e)}}},[t._v(t._s(e.year))])})),0)])])])])}),[],!1,null,null,null);fr.options.__file="Datepicker.vue";var pr=fr.exports,mr=n("UX8W"),vr=n.n(mr),yr=vr.a.methods.renderFormat,br={name:"SharpTimePicker",mixins:[vr.a,Gt],props:{active:Boolean,min:String,max:String,minMaxFormat:{type:String,default:"HH:mm"}},data:function(){return{showDropdown:!0,isSelection:!1}},watch:{minute:function(){var t=this;this.$nextTick((function(e){return t.updateScroll("minutes")}))},hour:function(){var t=this;this.$nextTick((function(e){return t.updateScroll("hours")}))},active:function(t){var e=this;t&&["minutes","hours"].forEach((function(t){return e.updateScroll(t)}))}},computed:{minMoment:function(){var t=this.min?Pe()(this.min,this.minMaxFormat):Pe()("0:0",this.minMaxFormat);return{minutes:t.minutes(),hours:t.hours()}},maxMoment:function(){var t=this.max?Pe()(this.max,this.minMaxFormat):Pe()("23:59",this.minMaxFormat);return{minutes:t.minutes(),hours:t.hours()}},croppedHours:function(){var t=this;return this.hours.filter((function(e){return(e=parseInt(e))>=t.minMoment.hours&&e<=t.maxMoment.hours}))},croppedMinutes:function(){var t=this,e=parseInt(this.hour);return e===this.minMoment.hours?this.minutes.filter((function(e){return(e=parseInt(e))>=t.minMoment.minutes})):e===this.maxMoment.hours?this.minutes.filter((function(e){return(e=parseInt(e))<=t.maxMoment.minutes})):this.minutes},autoScrollOptions:function(){var t=this;return function(e){return t.isSelection?t.isSelection=!1:{list:t.$refs[e],item:function(){return t.$refs[e].querySelector(".active")}}}}},methods:{select2:function(t,e){this.select(t,e),this.isSelection=!0},renderFormat:function(){yr.apply(this,arguments)}}},gr=Object($.a)(br,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"time-picker"},[n("header",[n("span",{staticClass:"hint",domProps:{textContent:t._s(t.hourType)}}),t._v(" "),n("span",{staticClass:"hint",domProps:{textContent:t._s(t.minuteType)}})]),t._v(" "),n("div",{staticClass:"dropdown"},[n("div",{staticClass:"select-list"},[n("ul",{ref:"hours",staticClass:"hours"},t._l(t.croppedHours,(function(e){return n("li",{class:{active:t.value&&t.hour===e},domProps:{textContent:t._s(e)},on:{click:function(n){return n.stopPropagation(),t.select2("hour",e)}}})})),0),t._v(" "),n("ul",{ref:"minutes",staticClass:"minutes"},t._l(t.croppedMinutes,(function(e){return n("li",{class:{active:t.value&&t.minute===e},domProps:{textContent:t._s(e)},on:{click:function(n){return n.stopPropagation(),t.select2("minute",e)}}})})),0)])])])}),[],!1,null,null,null);gr.options.__file="Timepicker.vue";var _r={name:"SharpDate",components:{DatePicker:pr,TimePicker:gr.exports,BPopover:ur.a},inject:["$field"],mixins:[Ft,Vt],props:{value:{type:[Object,String]},hasDate:{type:Boolean,default:!0},hasTime:{type:Boolean,default:!1},displayFormat:{type:String,default:"DD/MM/YYYY HH:mm"},mondayFirst:Boolean,stepTime:{type:Number,default:30},minTime:String,maxTime:String,readOnly:Boolean},data:function(){return{showPicker:!1,localInputValue:null}},computed:{moment:function(){return this.value&&Pe()(this.value,this.hasTime&&!this.hasDate?"HH:mm":null)},dateObject:function(){return this.moment?this.moment.toDate():null},timeObject:function(){return this.moment?{HH:this.moment.format("HH"),mm:this.moment.format("mm")}:null},inputValue:function(){return"string"==typeof this.localInputValue?this.localInputValue:this.moment?this.moment.format(this.displayFormat):""},popoverBoundary:function(){return document.querySelector("[data-popover-boundary]")}},methods:{popoverTarget:function(){return this.$refs.input},getMoment:function(){return this.moment||Pe()()},handleDateSelect:function(t){var e=this.getMoment();e.set({year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),this.$emit("input",e)},handleTimeSelect:function(t){var e=t.data,n=this.getMoment();n.set({hour:e.HH,minute:e.mm,second:e.ss}),this.$emit("input",n)},handleInput:function(t){var e=Pe()(t.target.value,this.displayFormat,!0);this.localInputValue=t.target.value,e.isValid()?(this.rollback(),this.$emit("input",e),this.showPicker=!0):(this.$field.$emit("error","".concat(Mt("form.date.validation_error.format")," (").concat(this.displayFormat,")")),this.showPicker=!1)},increase:function(t){this.translate(t.target,1)},decrease:function(t){this.translate(t.target,-1)},translate:function(t,e){var n=this.changeOnArrowPressed(t.selectionStart,e);n&&this.$nextTick((function(e){return t.setSelectionRange(n.start,n.end)}))},add:function(t,e){this.moment.add.apply(this.moment,arguments),this.$emit("input",this.moment)},nearestMinutesDist:function(t){var e=this.moment.minutes();if(e%this.stepTime==0)return t*this.stepTime;var n=t<0?"floor":"ceil";return this.stepTime*Math[n](e/this.stepTime)-e},updateMoment:function(t,e){switch(t){case"H":this.add(e,"hours");break;case"m":this.add(this.nearestMinutesDist(e),"minutes");break;case"s":this.add(e,"seconds");break;case"Y":this.add(e,"years");break;case"M":this.add(e,"months");break;case"D":this.add(e,"days");break;default:return!1}return!0},changeOnArrowPressed:function(t,e){var n=t;if(!this.updateMoment(this.displayFormat[n],e)&&t&&(n--,!this.updateMoment(this.displayFormat[n],e)))return null;var a=this.displayFormat[n];return{start:this.displayFormat.indexOf(a),end:this.displayFormat.lastIndexOf(a)+1}},rollback:function(){this.$field.$emit("clear"),this.localInputValue=null},clear:function(){this.rollback(),this.$emit("input",null)},handleBlur:function(){this.rollback()}},mounted:function(){this.setFocusable(this.$refs.input)}},wr=Object($.a)(_r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpDate",class:{"SharpDate--open":t.showPicker}},[n("div",{staticClass:"SharpDate__input-wrapper"},[n("input",{ref:"input",staticClass:"SharpDate__input",attrs:{id:"date",placeholder:t.displayFormat,disabled:t.readOnly,autocomplete:"off"},domProps:{value:t.inputValue},on:{input:t.handleInput,blur:t.handleBlur,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.increase(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.decrease(e))}]}}),t._v(" "),n("button",{ref:"clearButton",staticClass:"SharpDate__clear-button",attrs:{type:"button"},on:{click:function(e){return t.clear()}}},[n("svg",{staticClass:"SharpDate__clear-button-icon",attrs:{"aria-label":"close",width:"10",height:"10",viewBox:"0 0 10 10","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z"}})])])]),t._v(" "),n("b-popover",{attrs:{target:t.popoverTarget,show:t.showPicker,boundary:t.popoverBoundary,"no-fade":"",triggers:"focus",placement:"bottom"},on:{"update:show":function(e){t.showPicker=e}}},[n("div",{staticClass:"SharpDate__picker position-static"},[t.hasDate?[n("DatePicker",{ref:"datepicker",staticClass:"SharpDate__date",attrs:{language:t.language,"monday-first":t.mondayFirst,inline:"",value:t.dateObject},on:{selected:t.handleDateSelect}})]:t._e(),t._v(" "),t.hasTime?[n("TimePicker",{ref:"timepicker",staticClass:"SharpDate__time",attrs:{value:t.timeObject,active:t.showPicker,format:t.displayFormat,"minute-interval":t.stepTime,min:t.minTime,max:t.maxTime},on:{change:t.handleTimeSelect}})]:t._e()],2)])],1)}),[],!1,null,null,null);wr.options.__file="Date.vue";var Sr=wr.exports,Cr={name:"SharpCheck",props:{value:Boolean,text:String,readOnly:Boolean},methods:{handleCheck:function(t){this.$emit("input",t.target.checked)}}},xr=Object($.a)(Cr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpCheck"},[n("label",{staticClass:"SharpCheck__label"},[n("input",{staticClass:"SharpCheck__input",attrs:{type:"checkbox",disabled:t.readOnly},domProps:{checked:t.value},on:{change:t.handleCheck}}),t._v(" "),n("span",{staticClass:"SharpCheck__appearance"},[n("svg",{staticClass:"SharpCheck__checkmark",attrs:{width:"12",height:"9",viewBox:"0 0 12 9","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M4.1 6.1L1.4 3.4 0 4.9 4.1 9l7.6-7.6L10.3 0z"}})])]),t._v(" "),n("span",{staticClass:"SharpCheck__label-text"},[t._v(t._s(t.text))])])])}),[],!1,null,null,null);xr.options.__file="Check.vue";var Or=xr.exports,kr={name:"FieldsLayout",components:{Grid:jt},props:{layout:{type:Array,required:!0},visible:{type:Object,default:function(){return{}}}},data:function(){return{fieldsetMap:{}}},methods:{isFieldset:function(t){return!!t.legend},isFieldsetVisible:function(t){var e=this;return t.fields.some((function(t){return e.visible[t.key]}))}}},jr=Object($.a)(kr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Grid",{attrs:{rows:t.layout},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.itemLayout;return[t.isFieldset(a)?[n("fieldset",{directives:[{name:"show",rawName:"v-show",value:t.isFieldsetVisible(a),expression:"isFieldsetVisible(fieldLayout)"}],staticClass:"SharpForm__fieldset"},[n("div",{staticClass:"SharpModule__inner"},[n("div",{staticClass:"SharpModule__header"},[n("div",{staticClass:"SharpModule__title"},[t._v(t._s(a.legend))])]),t._v(" "),n("div",{staticClass:"SharpModule__content"},[n("FieldsLayout",{attrs:{layout:a.fields},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.fieldLayout;return[t._t("default",null,{fieldLayout:n})]}}],null,!0)})],1)])])]:[t._t("default",null,{fieldLayout:a})]]}}])})}),[],!1,null,null,null);jr.options.__file="FieldsLayout.vue";var Lr=jr.exports,Pr={name:"SharpListItem",extends:Lr,mixins:[It]},$r=Object($.a)(Pr,void 0,void 0,!1,null,null,null);$r.options.__file="ListItem.vue";var Br=$r.exports;function Er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ar=function(t){return{_localizedForm:t,methods:{fieldLocalizedValue:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.data,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.fieldLocale,i=this[t][e];return this.localized&&i.localized&&$n(i)?Bn({localeObject:a[e],locale:r[e],value:n}):n},defaultFieldLocaleMap:function(t,e){var n=t.fields,a=t.locales;return Object.values(n).filter((function(t){return t.localized})).reduce((function(t,n){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Er(t,e,n[e])}))}return t}({},t,Er({},n.key,e||a&&a[0]))}),{})}}}};function Dr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ir(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Fr(t,e,n[e])}))}return t}function Fr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tr(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Mr={name:"SharpList",inject:["$form"],mixins:[Vt,Ut("itemFields"),Ar("itemFields")],components:{Draggable:at.a,ListItem:Br,TemplateRenderer:gn},props:{fieldKey:String,fieldLayout:Object,value:Array,addable:{type:Boolean,default:!0},sortable:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},addText:{type:String,default:"Ajouter un élément"},itemFields:{type:Object,required:!0},collapsedItemTemplate:String,maxItemCount:Number,itemIdAttribute:String,readOnly:Boolean,locale:String},data:function(){return{list:[],itemFieldsLocale:[],dragActive:!1,lastIndex:0}},computed:{classes:function(){return{"SharpList--can-sort":this.showSortButton}},disabled:function(){return this.readOnly||this.dragActive},dragOptions:function(){return{disabled:!this.dragActive,handle:".SharpList__overlay-handle"}},showAddButton:function(){return this.addable&&(this.list.length<this.maxItemCount||!this.maxItemCount)&&!this.disabled},showInsertButton:function(){return this.showAddButton&&this.sortable&&!this.disabled},showSortButton:function(){return!this.hasPendingActions&&this.sortable&&this.list.length>1},showRemoveButton:function(){return this.removable&&!this.disabled},dragIndexSymbol:function(){return Symbol("dragIndex")},indexSymbol:function(){return Symbol("index")},hasPendingActions:function(){var t=this;return this.$form.pendingJobs.filter((function(e){return e.startsWith(t.fieldKey)})).length>0}},methods:{itemData:function(t){t.id,t._fieldsLocale;return Tr(t,["id","_fieldsLocale"])},transformedFields:function(t){var e=this.list[t],n=this.itemData(e);return ea(this.readOnly||this.dragActive?this.readOnlyFields:this.itemFields,n)},indexedList:function(){var t=this;return(this.value||[]).map((function(e,n){return t.withLocale(Ir(Fr({},t.indexSymbol,n),e))}))},createItem:function(){var t;return Object.entries(this.itemFields).reduce((function(t,e){var n=Dr(e,2),a=n[0],r=n[1];return t[a]="markdown"===r.type?{}:null,t}),this.withLocale((Fr(t={},this.itemIdAttribute,null),Fr(t,this.indexSymbol,this.lastIndex++),t)))},insertNewItem:function(t,e){e.target&&e.target.blur(),this.list.splice(t+1,0,this.createItem())},add:function(){this.list.push(this.createItem())},remove:function(t){this.list.splice(t,1)},update:function(t){var e=this;return function(n,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.forced,o=Ir({},e.list[t]),s=Ir({},i?null:Qn(e.itemFields,n,(function(){return e.fieldLocalizedValue(n,null,o,o._fieldsLocale)})),Fr({},n,e.fieldLocalizedValue(n,a,o,o._fieldsLocale)));Object.assign(e.list[t],s)}},updateLocale:function(t,e,n){this.$set(this.list[t]._fieldsLocale,e,n)},collapsedItemData:function(t){return Ir({$index:t[this.dragIndexSymbol]},t)},toggleDrag:function(){var t=this;this.dragActive=!this.dragActive,this.list.forEach((function(e,n){return e[t.dragIndexSymbol]=n}))},withLocale:function(t){return Ir({},t,{_fieldsLocale:this.defaultFieldLocaleMap({fields:this.itemFields,locales:this.$form.locales})})},initList:function(){this.list=this.indexedList(),this.lastIndex=this.list.length,this.$emit("input",this.list)}},created:function(){this.localized=this.$form.localized,this.initList()}},Vr=Object($.a)(Mr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpList",class:t.classes},[t.showSortButton?[n("button",{staticClass:"SharpButton SharpButton--ghost SharpList__sort-button",class:{"SharpButton--active":t.dragActive},attrs:{type:"button","data-inactive-text":t.l("form.list.sort_button.inactive"),"data-active-text":t.l("form.list.sort_button.active")},on:{click:t.toggleDrag}},[n("svg",{staticClass:"SharpButton__icon",attrs:{width:"24",height:"22",viewBox:"0 0 24 22","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M20 14V0h-4v14h-4l6 8 6-8zM4 8v14h4V8h4L6 0 0 8z"}})])])]:t._e(),t._v(" "),n("Draggable",{ref:"draggable",attrs:{options:t.dragOptions,list:t.list},scopedSlots:t._u([t.showAddButton?{key:"footer",fn:function(){return[n("button",{key:-1,staticClass:"SharpButton SharpButton--ghost SharpList__add-button",attrs:{type:"button"},on:{click:t.add}},[t._v("\n                "+t._s(t.addText)+"\n            ")])]},proxy:!0}:null],null,!0)},[n("transition-group",{attrs:{name:"expand",tag:"div"}},t._l(t.list,(function(e,a){return n("div",{key:e[t.indexSymbol],staticClass:"SharpList__item",class:{"SharpList__item--collapsed":t.dragActive}},[n("div",{staticClass:"SharpModule__inner"},[n("div",{staticClass:"SharpModule__content"},[t.dragActive&&t.collapsedItemTemplate?[n("TemplateRenderer",{attrs:{name:"CollapsedItem",template:t.collapsedItemTemplate,"template-data":t.collapsedItemData(e)}})]:[n("ListItem",{attrs:{layout:t.fieldLayout.item,"error-identifier":a},scopedSlots:t._u([{key:"default",fn:function(r){var i=r.fieldLayout;return[n("FieldDisplay",{attrs:{"field-key":i.key,"context-fields":t.transformedFields(a),"context-data":e,"error-identifier":i.key,"config-identifier":i.key,"update-data":t.update(a),locale:e._fieldsLocale[i.key]},on:{"locale-change":function(e,n){return t.updateLocale(a,e,n)}}})]}}],null,!0)}),t._v(" "),t.showRemoveButton?[n("button",{staticClass:"SharpButton SharpButton--danger SharpButton--sm mt-3",on:{click:function(e){return t.remove(a)}}},[t._v("\n                                    "+t._s(t.l("form.list.remove_button"))+"\n                                ")])]:t._e()],t._v(" "),t.dragActive?[n("div",{staticClass:"SharpList__overlay-handle"})]:t._e()],2)]),t._v(" "),t.showInsertButton&&a<t.list.length-1?[n("div",{staticClass:"SharpList__new-item-zone"},[n("button",{staticClass:"SharpButton SharpButton--sm",on:{click:function(e){return t.insertNewItem(a,e)}}},[t._v(t._s(t.l("form.list.insert_button")))])])]:t._e()],2)})),0)],1),t._v(" "),t.readOnly&&!t.list.length?[n("em",{staticClass:"SharpList__empty-alert"},[t._v(t._s(t.l("form.list.empty")))])]:t._e()],2)}),[],!1,null,null,null);Vr.options.__file="List.vue";var Nr=Vr.exports,zr={name:"SharpSelect",mixins:[Ya],components:{Multiselect:Je,Check:Or},props:{value:[Array,String,Number],uniqueIdentifier:String,options:{type:Array,required:!0,default:function(){return[]}},multiple:{type:Boolean,default:!1},display:{type:String,default:"dropdown"},clearable:{type:Boolean,default:!1},placeholder:{type:String,default:"-"},maxSelected:Number,readOnly:Boolean,inline:{type:Boolean,default:!0}},data:function(){return{checkboxes:this.value}},watch:{options:function(){this.init()}},computed:{multiselectOptions:function(){return this.options.map((function(t){return t.id}))},optionsLabel:function(){var t=this;return this.options.reduce((function(e,n){return e[n.id]=t.localizedOptionLabel(n),e}),{})},itemClasses:function(){return{"SharpSelect__item--inline":this.inline}},hasClearButton:function(){return this.clearable&&!this.multiple&&null!=this.value}},methods:{remove:function(){this.$emit("input",null)},multiselectLabel:function(t){return this.optionsLabel[t]},handleInput:function(t){this.$emit("input",t)},checked:function(t){return-1!==this.value.indexOf(t)},handleCheckboxChanged:function(t,e){var n=this.value;t?n.push(e):n=this.value.filter((function(t){return t!==e})),this.$emit("input",n)},handleRadioChanged:function(t){this.$emit("input",t)},setDefault:function(){!this.clearable&&null==this.value&&this.options.length>0&&this.$emit("input",this.options[0].id,{force:!0})},init:function(){Jn(this,this.setDefault,{dependantAttributes:["options"]})}},created:function(){this.init()}},Rr=Object($.a)(zr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpSelect",class:[{"SharpSelect--multiple":t.multiple},"SharpSelect--"+t.display]},["dropdown"===t.display?n("Multiselect",{ref:"multiselect",attrs:{value:t.value,searchable:!1,options:t.multiselectOptions,multiple:t.multiple,"hide-selected":t.multiple,"close-on-select":!t.multiple,"custom-label":t.multiselectLabel,placeholder:t.placeholder,disabled:t.readOnly,max:t.maxSelected,"allow-empty":t.clearable},on:{input:t.handleInput,open:function(e){return t.$emit("open")},close:function(e){return t.$emit("close")}},scopedSlots:t._u([t.hasClearButton?{key:"caret",fn:function(){return[n("button",{staticClass:"SharpSelect__clear-button",attrs:{type:"button"},on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.remove()}}},[n("svg",{staticClass:"SharpSelect__clear-button-icon",attrs:{"aria-label":"close",width:"10",height:"10",viewBox:"0 0 10 10","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z"}})])])]},proxy:!0}:null,{key:"tag",fn:function(e){var a=e.option,r=e.remove;return[n("span",{key:a,staticClass:"multiselect__tag"},[n("span",[t._v(t._s(t.multiselectLabel(a)))]),t._v(" "),n("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),r(a))},mousedown:function(t){return t.preventDefault(),t.stopPropagation(),r(a)}}})])]}},{key:"option",fn:function(){return[t._t("option")]},proxy:!0}],null,!0)}):[n("div",{staticClass:"SharpSelect__group",class:{"SharpSelect__group--block":!t.inline}},[t.multiple?[t._l(t.options,(function(e){return[n("div",{key:e.id,staticClass:"SharpSelect__item",class:t.itemClasses},[n("Check",{attrs:{value:t.checked(e.id),text:t.optionsLabel[e.id],"read-only":t.readOnly},on:{input:function(n){return t.handleCheckboxChanged(n,e.id)}}})],1)]}))]:[t._l(t.options,(function(e,a){return[n("div",{key:e.id,staticClass:"SharpSelect__item",class:t.itemClasses},[n("input",{staticClass:"SharpRadio",attrs:{type:"radio",tabindex:"0",id:""+t.uniqueIdentifier+a,disabled:t.readOnly,name:t.uniqueIdentifier},domProps:{checked:t.value===e.id,value:e.id},on:{change:function(n){return t.handleRadioChanged(e.id)}}}),t._v(" "),n("label",{staticClass:"SharpRadio__label",attrs:{for:""+t.uniqueIdentifier+a}},[n("span",{staticClass:"SharpRadio__appearance"}),t._v("\n                            "+t._s(t.optionsLabel[e.id])+"\n                        ")])])]}))]],2)]],2)}),[],!1,null,null,null);Rr.options.__file="Select.vue";var Kr=Rr.exports,qr={name:"SharpHtml",components:{TemplateRenderer:gn},props:{value:Object,template:String}},Ur=Object($.a)(qr,(function(){var t=this.$createElement;return(this._self._c||t)("TemplateRenderer",{attrs:{name:"Html",template:this.template,"template-data":this.value}})}),[],!1,null,null,null);Ur.options.__file="Html.vue";var Hr=Ur.exports;function Gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wr(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var Yr={mapTypeControl:!1,streetViewControl:!1};function Qr(t){var e=t;return Array.isArray(e)?new google.maps.LatLngBounds(e[0],e[1]):null}function Jr(t){var e=t.maxBounds,n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Gr(t,e,n[e])}))}return t}({},Wr(t,["maxBounds"]));return Array.isArray(e)&&(n.restriction={latLngBounds:Qr(e)}),n}function Xr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zr={name:"SharpGmaps",components:{GmapMap:c.Map,GmapMarker:c.Marker},props:{markerPosition:Object,center:Object,zoom:Number},computed:{options:function(){return Jr(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Xr(t,e,n[e])}))}return t}({},Yr,{maxBounds:this.maxBounds}))}}},ti=Object($.a)(Zr,(function(){var t=this.$createElement,e=this._self._c||t;return e("GmapMap",{ref:"map",attrs:{center:this.center,zoom:this.zoom,options:this.options}},[e("GmapMarker",{attrs:{position:this.markerPosition}})],1)}),[],!1,null,null,null);ti.options.__file="Gmaps.vue";var ei=ti.exports;function ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ai={name:"SharpGmapsEditable",components:{GmapMap:c.Map,GmapMarker:c.Marker},props:{markerPosition:Object,bounds:Array,center:Object,zoom:Number,maxBounds:Array},computed:{options:function(){return Jr(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){ni(t,e,n[e])}))}return t}({},Yr,{maxBounds:this.maxBounds,draggableCursor:"crosshair"}))},hasMarker:function(){return!!this.markerPosition}},watch:{bounds:function(t){var e=Qr(t);e&&this.$refs.map.$mapObject.fitBounds(e)}},methods:{handleMapClicked:function(t){this.$emit("change",t.latLng.toJSON())},handleMarkerDragEnd:function(t){this.$emit("change",t.latLng.toJSON())}}},ri=Object($.a)(ai,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("GmapMap",{ref:"map",attrs:{center:t.center,zoom:t.zoom,options:t.options},on:{click:t.handleMapClicked}},[t.hasMarker?[n("GmapMarker",{attrs:{position:t.markerPosition,draggable:""},on:{dragend:t.handleMarkerDragEnd}})]:t._e()],2)}),[],!1,null,null,null);ri.options.__file="GmapsEditable.vue";var ii=ri.exports,oi=n("HZII"),si=n.n(oi)()((function(t){var e=t.apiKey,n={v:3};return e&&(n.key=e),Object(c.loadGmapApi)(n),r.a.$gmapApiPromiseLazy()})),li=null;var ci=n("JpmB"),ui=n("Tith"),di=n("pArE"),hi=n("4R65");function fi(t){var e=t;return Array.isArray(e)?Object(hi.latLngBounds)(e[0],e[1]):null}var pi={name:"SharpOsm",components:{LMap:ci.a,LMarker:ui.a,LTileLayer:di.a},props:{markerPosition:Object,zoom:Number,center:Object,maxBounds:Array,tilesUrl:{type:String,default:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}},computed:{transformedMaxBounds:function(){return fi(this.maxBounds)}}},mi=Object($.a)(pi,(function(){var t=this.$createElement,e=this._self._c||t;return e("LMap",{attrs:{zoom:this.zoom,center:this.center,"max-bounds":this.transformedMaxBounds}},[e("LTileLayer",{attrs:{url:this.tilesUrl}}),this._v(" "),e("LMarker",{attrs:{"lat-lng":this.markerPosition}})],1)}),[],!1,null,null,null);mi.options.__file="Osm.vue";var vi=mi.exports,yi={name:"SharpOsmEditable",components:{LMap:ci.a,LMarker:ui.a,LTileLayer:di.a},props:{markerPosition:Object,center:Object,zoom:Number,bounds:Array,maxBounds:Array,tilesUrl:{type:String,default:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}},computed:{hasMarker:function(){return!!this.markerPosition},transformedBounds:function(){return fi(this.bounds)},transformedMaxBounds:function(){return fi(this.maxBounds)}},methods:{handleMapClicked:function(t){this.$emit("change",t.latlng)},handleMarkerDragEnd:function(t){this.$emit("change",t.target.getLatLng())}}},bi=Object($.a)(yi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("LMap",{attrs:{zoom:t.zoom,center:t.center,bounds:t.transformedBounds,"max-bounds":t.transformedMaxBounds},on:{click:t.handleMapClicked}},[n("LTileLayer",{attrs:{url:t.tilesUrl}}),t._v(" "),t.hasMarker?[n("LMarker",{attrs:{"lat-lng":t.markerPosition,draggable:""},on:{dragend:t.handleMarkerDragEnd}})]:t._e()],2)}),[],!1,null,null,null);bi.options.__file="OsmEditable.vue";var gi=bi.exports;function _i(t){return k.a.get("https://nominatim.openstreetmap.org/search",{params:{q:t,format:"json"}}).then((function(t){return t.data}))}function wi(t){return k.a.get("https://nominatim.openstreetmap.org/reverse",{params:{lat:t.lat,lon:t.lng,format:"json"}}).then((function(t){return[t.data]}))}var Si=function(t){var e,n,a;return ct.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.address,!(n=t.latLng)){r.next=7;break}return r.next=4,ct.a.awrap(wi(n));case 4:r.t0=r.sent,r.next=10;break;case 7:return r.next=9,ct.a.awrap(_i(e));case 9:r.t0=r.sent;case 10:return a=r.t0,r.abrupt("return",a.map((function(t){return{location:{lat:Number(t.lat),lng:Number(t.lon)},bounds:[{lat:Number(t.boundingbox[0]),lng:Number(t.boundingbox[2])},{lat:Number(t.boundingbox[1]),lng:Number(t.boundingbox[3])}],address:t.display_name}})));case 12:case"end":return r.stop()}}))};function Ci(t,e,n){return"gmaps"===t?(r=(a=e).address,i=a.latLng,li||(li=new google.maps.Geocoder),new Promise((function(t,e){li.geocode({address:r,location:i},(function(n,a){"OK"===a?t(n.map((function(t){return{location:t.geometry.location.toJSON(),bounds:(e=t.geometry.viewport,[e.getSouthWest().toJSON(),e.getNorthEast().toJSON()]),address:t.formatted_address};var e}))):"ZERO_RESULTS"===a?t([]):e(a)}))}))):"osm"===t?Si(e):Promise.resolve([]);var a,r,i}function xi(t,e){var n=t<0?e?"W":"S":e?"E":"N",a=0|(t<0?t=-t:t),r=0|t%1*60,i=(0|60*t%1*6e3)/100;return"".concat(a,"°").concat(r,'"').concat(i,"' ").concat(n)}function Oi(t){return t?t.name:null}function ki(t){return t&&t.options||{}}function ji(t){return t?t.tilesUrl:null}var Li={mixins:[Nt("form.geolocation.modal")],components:{Loading:At,Modal:fe,Text:ua,Button:I},props:{location:Object,center:Object,bounds:Object,zoom:Number,maxBounds:Array,geocoding:Boolean,mapsProvider:{type:String,default:"gmaps"},mapsOptions:Object,geocodingProvider:{type:String,default:"gmaps"},geocodingOptions:Object},data:function(){return{loading:!1,search:null,message:null,currentLocation:this.location,currentBounds:this.bounds}},computed:{editableMapComponent:function(){return"gmaps"===(t=this.mapsProvider)?ii:"osm"===t?gi:void 0;var t},hasGeocoding:function(){return this.geocoding},classes:function(){return{"SharpGeolocationEdit--loading":this.loading}},mapClasses:function(){return["SharpGeolocationEdit__map--".concat(this.mapsProvider)]},tilesUrl:function(){return ji(this.mapsOptions)}},methods:{handleSearchInput:function(t){this.search=t},handleMarkerPositionChanged:function(t){var e=this;this.currentLocation=t,this.message="",this.$emit("change",this.currentLocation),this.hasGeocoding&&(this.loading=!0,Ci(this.geocodingProvider,{latLng:t},this.geocodingOptions).then((function(t){t.length>0&&(e.search=t[0].address)})).finally((function(){e.loading=!1})))},handleSearchSubmitted:function(){var t=this,e=this.search;this.message="",this.loading=!0,Ci(this.geocodingProvider,{address:e},this.geocodingOptions).then((function(n){n.length>0?(t.currentLocation=n[0].location,t.currentBounds=n[0].bounds,t.$emit("change",t.currentLocation)):t.message=t.lSub("geocode_input.message.no_results").replace(":query",e||"")})).catch((function(e){t.message="".concat(t.lSub("geocode_input.message.error")).concat(e?" (".concat(e,")"):"")})).finally((function(){t.loading=!1}))}}},Pi=Object($.a)(Li,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpGeolocationEdit",class:t.classes},[t.hasGeocoding?[n("div",{staticClass:"mb-2"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.handleSearchSubmitted(e)}}},[n("div",{staticClass:"row no-gutters"},[n("div",{staticClass:"col position-relative"},[n("Text",{staticClass:"SharpGeolocationEdit__input",attrs:{value:t.search,placeholder:t.lSub("geocode_input.placeholder")},on:{input:t.handleSearchInput}}),t._v(" "),t.loading?[n("Loading",{staticClass:"SharpGeolocationEdit__loading",attrs:{visible:"",small:"",inline:""}})]:t._e()],2),t._v(" "),n("div",{staticClass:"col-auto pl-2"},[n("Button",{attrs:{outline:""}},[t._v(t._s(t.lSub("search_button")))])],1)])]),t._v(" "),t.message?[n("small",[t._v(t._s(t.message))])]:t._e()],2)]:t._e(),t._v(" "),n(t.editableMapComponent,{tag:"component",staticClass:"SharpGeolocationEdit__map",class:t.mapClasses,attrs:{"marker-position":t.currentLocation,center:t.center,bounds:t.currentBounds,zoom:t.zoom,"max-bounds":t.maxBounds,"tiles-url":t.tilesUrl},on:{change:t.handleMarkerPositionChanged}})],2)}),[],!1,null,null,null);Pi.options.__file="GeolocationEdit.vue";var $i={name:"SharpGeolocation",mixins:[Vt],inject:{$tab:{default:null}},components:{GeolocationEdit:Pi.exports,Card:M,Button:I,Modal:fe},props:{value:Object,readOnly:Boolean,uniqueIdentifier:String,geocoding:Boolean,apiKey:String,boundaries:Object,zoomLevel:{type:Number,default:4},initialPosition:{type:Object,default:function(){return{lat:46.1445458,lng:-2.4343779}}},displayUnit:{type:String,default:"DD",validator:function(t){return"DMS"===t||"DD"===t}},mapsProvider:{type:Object,default:function(){return{name:"gmaps"}}},geocodingProvider:{type:Object,default:function(){return{name:"gmaps"}}}},data:function(){return{ready:!1,modalVisible:!1,location:this.value}},computed:{isLoading:function(){return!this.ready},isEmpty:function(){return!this.value},latLngString:function(){return"DMS"===this.displayUnit?{lat:xi(this.value.lat),lng:xi(this.value.lng,!0)}:"DD"===this.displayUnit?this.value:void 0},mapComponent:function(){return"gmaps"===(t=Oi(this.mapsProvider))?ei:"osm"===t?vi:void 0;var t},mapClasses:function(){return["SharpGeolocation__map--".concat(Oi(this.mapsProvider))]},tilesUrl:function(){return ji(ki(this.mapsProvider))},maxBounds:function(){return this.boundaries?[this.boundaries.sw,this.boundaries.ne]:null},modalTitle:function(){return this.geocoding?this.l("form.geolocation.modal.title"):this.l("form.geolocation.modal.title-no-geocoding")}},methods:{providerName:Oi,providerOptions:ki,handleModalSubmitted:function(){this.$emit("input",this.location)},handleRemoveButtonClicked:function(){this.$emit("input",null)},handleShowModalButtonClicked:function(){this.modalVisible=!0},handleEditButtonClicked:function(){this.modalVisible=!0},handleLocationChanged:function(t){this.location=t},loadProvider:function(t){var e,n=Oi(t),a=ki(t).apiKey;return e={apiKey:a},"gmaps"===n?Promise.resolve(si(e)):Promise.resolve()},init:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct.a.awrap(this.loadProvider(this.mapsProvider));case 2:if(!this.geocodingProvider){t.next=5;break}return t.next=5,ct.a.awrap(this.loadProvider(this.geocodingProvider));case 5:this.ready=!0;case 6:case"end":return t.stop()}}),null,this)}},created:function(){this.init()},mounted:function(){this.$tab&&this.$tab.$once("active",(function(){!function(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}}()}))}},Bi=Object($.a)($i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpGeolocation"},[t.isLoading?[t._v("\n        "+t._s(t.l("form.geolocation.loading"))+"\n    ")]:t.isEmpty?[n("Button",{staticClass:"w-100",attrs:{outline:""},on:{click:t.handleShowModalButtonClicked}},[t._v("\n            "+t._s(t.l("form.geolocation.browse_button"))+"\n        ")])]:[n("Card",{staticClass:"SharpModule--closeable",attrs:{light:"","has-close":!t.readOnly},on:{"close-click":t.handleRemoveButtonClicked}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-7"},[n(t.mapComponent,{tag:"component",staticClass:"SharpGeolocation__map",class:t.mapClasses,attrs:{"marker-position":t.value,center:t.value,zoom:t.zoomLevel,"max-bounds":t.maxBounds,"tiles-url":t.tilesUrl}})],1),t._v(" "),n("div",{staticClass:"col-5 pl-0"},[n("div",{staticClass:"d-flex flex-column justify-content-between h-100"},[n("div",[n("div",[n("small",[t._v("Latitude : "+t._s(t.latLngString.lat))])]),t._v(" "),n("div",[n("small",[t._v("Longitude : "+t._s(t.latLngString.lng))])])]),t._v(" "),n("div",[n("Button",{staticClass:"remove-button",attrs:{small:"",outline:"",type:"danger",disabled:t.readOnly},on:{click:t.handleRemoveButtonClicked}},[t._v("\n                                "+t._s(t.l("form.geolocation.remove_button"))+"\n                            ")]),t._v(" "),n("Button",{attrs:{small:"",outline:"",disabled:t.readOnly},on:{click:t.handleEditButtonClicked}},[t._v("\n                                "+t._s(t.l("form.geolocation.edit_button"))+"\n                            ")])],1)])])])])],t._v(" "),n("Modal",{attrs:{title:t.modalTitle,visible:t.modalVisible,"no-close-on-backdrop":""},on:{"update:visible":function(e){t.modalVisible=e},ok:t.handleModalSubmitted}},[n("transition",{attrs:{duration:300}},[t.modalVisible?[n("GeolocationEdit",{attrs:{location:t.value,center:t.value||t.initialPosition,zoom:t.zoomLevel,"max-bounds":t.maxBounds,"maps-provider":t.providerName(t.mapsProvider),"maps-options":t.providerOptions(t.mapsProvider),geocoding:t.geocoding,"geocoding-provider":t.providerName(t.geocodingProvider),"geocoding-options":t.providerOptions(t.geocodingProvider)},on:{change:t.handleLocationChanged}})]:t._e()],2)],1)],2)}),[],!1,null,null,null);Bi.options.__file="Geolocation.vue";var Ei=Bi.exports,Ai={bold:{attribute:"bold",icon:Ba("bold")},italic:{attribute:"italic",icon:Ba("italic")},strike:{attribute:"strike",icon:Ba("strike")},link:{action:"link",attribute:"href",icon:Ba("link")},heading1:{attribute:"heading1",icon:Ba("h1")},quote:{attribute:"quote",icon:Ba("quote")},code:{attribute:"code",icon:Ba("code")},bullet:{attribute:"bullet",icon:Ba("ul")},number:{attribute:"number",icon:Ba("ol")},increaseNestingLevel:{action:"increaseNestingLevel",icon:Ba("indent")},decreaseNestingLevel:{action:"decreaseNestingLevel",icon:Ba("de-indent")},undo:{action:"undo",icon:Ba("undo")},redo:{action:"redo",icon:Ba("redo")}},Di={mixins:[Nt("form.wysiwyg")],props:{toolbar:Array},data:function(){return{buttons:Ai}},directives:{buttonData:function(t,e){var n=e.value,a=n.attribute,r=n.action;a&&t.setAttribute("data-trix-attribute",a),r&&t.setAttribute("data-trix-action",r)}}},Ii=Object($.a)(Di,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"editor-toolbar"},[t._l(t.toolbar,(function(e){return["|"===e?n("i",{staticClass:"separator"},[t._v("|")]):t.buttons[e]?n("button",{directives:[{name:"button-data",rawName:"v-button-data",value:t.buttons[e],expression:"buttons[part]"}],staticClass:"fa",class:t.buttons[e].icon,attrs:{tabindex:"-1"}}):t._e()]}))],2),t._v(" "),n("div",{staticClass:"trix-dialogs",attrs:{"data-trix-dialogs":""}},[n("div",{staticClass:"trix-dialog trix-dialog--link",attrs:{"data-trix-dialog":"href","data-trix-dialog-attribute":"href"}},[n("div",{staticClass:"trix-dialog__link-fields"},[n("input",{staticClass:"trix-input trix-input--dialog",attrs:{type:"url",name:"href",placeholder:t.lSub("dialogs.add_link.input_placeholder"),required:"","data-trix-input":""}}),t._v(" "),n("div",{staticClass:"trix-button-group"},[n("input",{staticClass:"trix-button trix-button--dialog",attrs:{type:"button",value:t.lSub("dialogs.add_link.link_button"),"data-trix-method":"setAttribute"}}),t._v(" "),n("input",{staticClass:"trix-button trix-button--dialog",attrs:{type:"button",value:t.lSub("dialogs.add_link.unlink_button"),"data-trix-method":"removeAttribute"}})])])])])])}),[],!1,null,null,null);Ii.options.__file="TrixCustomToolbar.vue";var Fi=Ii.exports,Ti={name:"SharpTrix",mixins:[Pa({textProp:"text"})],components:{TrixCustomToolbar:Fi},props:{value:Object,toolbar:Array,height:{type:Number,default:250},placeholder:String,readOnly:Boolean,uniqueIdentifier:String},watch:{locale:function(){this.localized&&this.$refs.trix.editor.loadHTML(this.text)}},computed:{inputId:function(){return"trix-input-".concat(this.uniqueIdentifier)},toolbarId:function(){return"trix-toolbar-".concat(this.uniqueIdentifier)},text:function(){return this.localized?this.localizedText:this.value.text}},methods:{handleChanged:function(t){this.$emit("input",this.localizedValue(t.target.value))}},created:function(){window.Trix.config.toolbar.getDefaultHTML=function(){return""}}},Mi=Object($.a)(Ti,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpTrix",class:{"SharpTrix--read-only":t.readOnly}},[n("div",{staticClass:"SharpModule__inner"},[n("input",{attrs:{id:t.inputId,type:"hidden"},domProps:{value:t.text}}),t._v(" "),t.toolbar?n("trix-toolbar",{staticClass:"SharpModule__header",attrs:{id:t.toolbarId}},[n("trix-custom-toolbar",{attrs:{toolbar:t.toolbar}})],1):t._e(),t._v(" "),n("trix-editor",{ref:"trix",staticClass:"SharpModule__content",style:{height:t.height+"px",maxHeight:t.height+"px"},attrs:{input:t.inputId,toolbar:t.toolbarId,placeholder:t.placeholder},on:{"trix-change":t.handleChanged}})],1)])}),[],!1,null,null,null);Mi.options.__file="TrixEditor.vue";var Vi=Mi.exports,Ni=n("wmP1"),zi={components:{ElDatePicker:n.n(Ni).a},props:{value:{default:function(){return{start:null,end:null}}},displayFormat:{type:String,default:"DD/MM/YYYY"},startPlaceholder:{type:String,default:function(){return Mt("form.daterange.start_placeholder")}},endPlaceholder:{type:String,default:function(){return Mt("form.daterange.end_placeholder")}},clearable:{type:Boolean,default:!0},readOnly:Boolean,mondayFirst:Boolean},computed:{transformedValue:function(){var t=this.value||{};return t.start||t.end?[t.start,t.end]:null},transformedFormat:function(){return this.displayFormat.replace(/D/g,"d").replace(/Y/g,"y")},pickerOptions:function(){return{firstDayOfWeek:this.mondayFirst?1:7}},classes:function(){return{"SharpDateRange--clearable":this.clearable}}},methods:{handleChanged:function(t){var e=t||[];this.$emit("input",{start:e[0],end:e[1]})},handleFocused:function(){this.$emit("focus")},handleBlur:function(){this.$emit("blur")}}},Ri=Object($.a)(zi,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-date-picker",{ref:"picker",staticClass:"SharpDateRange",class:t.classes,attrs:{value:t.transformedValue,format:t.transformedFormat,"start-placeholder":t.startPlaceholder,"end-placeholder":t.endPlaceholder,disabled:t.readOnly,clearable:t.clearable,"picker-options":t.pickerOptions,type:"daterange","popper-class":"SharpDateRange__popper"},on:{input:t.handleChanged,focus:t.handleFocused,blur:t.handleBlur}})}),[],!1,null,null,null);Ri.options.__file="DateRange.vue";var Ki=Ri.exports,qi={autocomplete:ra,text:ua,textarea:sa,markdown:Na,number:Ua,upload:Wa,tags:cr,date:Sr,check:Or,list:Nr,select:Kr,html:Hr,geolocation:Ei,wysiwyg:Vi,daterange:Ki};function Ui(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Hi(t,e,n[e])}))}return t}function Hi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Yi=/^custom-(.+)$/,Qi={name:"SharpField",inheritAttrs:!1,provide:function(){return{$field:this}},props:{fieldKey:String,fieldType:String,fieldProps:Object,fieldLayout:Object,value:[String,Number,Boolean,Object,Array],locale:String,uniqueIdentifier:String,fieldConfigIdentifier:String,updateData:Function},computed:{isCustom:function(){return Yi.test(this.fieldType)},component:function(){if(this.isCustom){var t=Wi(this.fieldType.match(Yi)||[],2),e=(t[0],t[1]);return e="SharpCustomField_".concat(e),r.a.options.components[e]}return qi[this.fieldType]}},render:function(t){var e=this;if(!this.component){var n=this.isCustom?"unknown custom field type '".concat(this.fieldType,"', make sure you register it correctly"):"unknown type '".concat(this.fieldType,"'");return Kt("SharpField '".concat(this.fieldKey,"': ").concat(n),this.fieldProps),null}var a=this.fieldProps,r=(a.key,Gi(a,["key"]));return t(this.component,{props:Ui({fieldKey:this.fieldKey,fieldLayout:this.fieldLayout,value:this.value,locale:this.locale,uniqueIdentifier:this.uniqueIdentifier,fieldConfigIdentifier:this.fieldConfigIdentifier},r),attrs:{dynamicAttributes:r.dynamicAttributes},on:{input:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.fieldProps.readOnly&&!n.force?Rt("SharpField '".concat(e.fieldKey,"', can't update because is readOnly")):e.updateData(e.fieldKey,t,{forced:n.force})},blur:function(){e.fieldProps.focused=!1}}})}},Ji=Object($.a)(Qi,void 0,void 0,!1,null,null,null);Ji.options.__file="Field.vue";var Xi=Ji.exports,Zi={props:{locales:{type:Array,required:!0},currentLocale:{type:String,required:!0},fieldValue:[String,Number,Boolean,Object,Array],isLocaleObject:Boolean},methods:{isActive:function(t){return this.currentLocale===t},isEmpty:function(t){var e=this.isLocaleObject?(this.fieldValue||{})[t]:this.fieldValue;return Array.isArray(e)?!e.length:!e},handleButtonClicked:function(t){this.$emit("change",t)}}},to=Object($.a)(Zi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpFieldLocaleSelect"},[t._l(t.locales,(function(e){return[n("button",{staticClass:"SharpFieldLocaleSelect__btn ml-2",class:{"SharpFieldLocaleSelect__btn--active":t.isActive(e),"SharpFieldLocaleSelect__btn--empty":t.isEmpty(e)},on:{click:function(n){return t.handleButtonClicked(e)}}},[t._v("\n            "+t._s(e)+"\n        ")])]}))],2)}),[],!1,null,null,null);function eo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){no(t,e,n[e])}))}return t}function no(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}to.options.__file="FieldLocaleSelect.vue";var ao={name:"SharpFieldContainer",mixins:[It,Jt],components:{Field:Xi,FieldLocaleSelect:to.exports},inject:["$tab","$form"],props:eo({},Xi.props,{label:String,helpMessage:String,originalValue:[String,Number,Boolean,Object,Array]}),data:function(){return{state:"classic",stateMessage:""}},watch:{value:function(){"error"===this.state&&this.clear()},"$form.errors":function(t){this.updateError(t)},locale:function(){this.updateError(this.$form.errors)}},computed:{formGroupClasses:function(){return["SharpForm__form-item--type-".concat(this.fieldType),{"SharpForm__form-item--danger":"error"===this.state,"SharpForm__form-item--success":"ok"===this.state,"SharpForm__form-item--no-label":!this.showLabel}]},extraStyle:function(){return this.fieldProps.extraStyle},exposedProps:function(){return eo({},this.$props,{uniqueIdentifier:this.mergedErrorIdentifier,fieldConfigIdentifier:this.mergedConfigIdentifier})},showLabel:function(){return!!this.label||""===this.label},resolvedOriginalValue:function(){return t={field:this.fieldProps,value:this.originalValue},e=t.field,n=t.value,"markdown"===e.type||"wysiwyg"===e.type?(n||{}).text:n;var t,e,n},isLocaleObject:function(){return $n(this.fieldProps)}},methods:{updateError:function(t){var e=t[this.mergedErrorIdentifier];null==e?this.clear():Array.isArray(e)?this.setError(e[0]):Kt('FieldContainer : Not processable error "'.concat(this.mergedErrorIdentifier,'" : '),e)},setError:function(t){this.state="error",this.stateMessage=t,this.$tab&&this.$tab.$emit("error",this.mergedErrorIdentifier)},setOk:function(){this.state="ok",this.stateMessage=""},clear:function(){this.state="classic",this.stateMessage="",this.$tab&&this.$tab.$emit("clear",this.mergedErrorIdentifier),this.$form.$emit("error-cleared",this.mergedErrorIdentifier)},triggerFocus:function(){this.$set(this.fieldProps,"focused",!0)},handleBlur:function(){this.$set(this.fieldProps,"focused",!1)},handleLocaleChanged:function(t){this.$emit("locale-change",this.fieldKey,t)}},mounted:function(){}},ro=Object($.a)(ao,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpFieldContainer SharpForm__form-item",class:t.formGroupClasses,style:t.extraStyle},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t.showLabel?n("label",{staticClass:"SharpForm__label",on:{click:t.triggerFocus}},[t._v("\n                "+t._s(t.label)+"\n            ")]):t._e()]),t._v(" "),t.fieldProps.localized?[n("div",{staticClass:"col-auto"},[n("FieldLocaleSelect",{attrs:{locales:t.$form.locales,"current-locale":t.locale,"field-value":t.resolvedOriginalValue,"is-locale-object":t.isLocaleObject},on:{change:t.handleLocaleChanged}})],1)]:t._e()],2),t._v(" "),n("Field",t._b({ref:"field",on:{error:t.setError,ok:t.setOk,clear:t.clear,blur:t.handleBlur}},"Field",t.exposedProps,!1)),t._v(" "),n("div",{staticClass:"SharpForm__form-requirement"},[t._v(t._s(t.stateMessage))]),t._v(" "),n("small",{staticClass:"SharpForm__help-message"},[t._v(t._s(t.helpMessage))])],1)}),[],!1,null,null,null);ro.options.__file="FieldContainer.vue";var io=ro.exports,oo={computeSelectCondition:function(t){var e=t.condValues,n=t.fieldValue,a=t.isSingleSelect;if(Array.isArray(e))return a?e.some((function(t){return t==n})):e.some((function(t){return n.some((function(e){return e==t}))}));if("!"===e[0]){var r=e.substring(1);return a?r!=n:!n.some((function(t){return t==r}))}return a?e==n:n.some((function(t){return t==e}))}};function so(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){lo(t,e,n[e])}))}return t}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function co(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uo(t,e,n){return!n||function(t,e,n){var a=!0,r=n.operator;if("or"!==r&&"and"!==r)return Kt("Conditional display : unknown operator '".concat(r,"'"),n),!0;var i=!0,o=!1,s=void 0;try{for(var l,c=n.fields[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;u.key in t||(Kt("Conditional display : can't find a field with key '".concat(n.key,"' in 'fields'"),n),a=!0);var d=t[u.key],h=e[u.key];if("autocomplete"===d.type||"select"===d.type||"tags"===d.type?a=oo.computeSelectCondition({condValues:u.values,fieldValue:"autocomplete"===d.type?h&&h.id:h,isSingleSelect:"select"===d.type&&!d.multiple||"autocomplete"===d.type}):"check"===d.type?"boolean"!=typeof u.values?(Kt("Conditional display : 'values' must be a boolean for a 'check' field ('".concat(u.key,"')"),n,d),a=!0):a=!!h===u.values:(Kt("Conditional display : unprocessable field type '".concat(d.type,"'"),d),a=!0),"and"===r&&!a)return!1;if("or"===r&&a)return!0}}catch(t){o=!0,s=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return a}(t,e,n)}var ho=function(t,e,n,a){return t.localized&&e.localized&&n&&$n(e)?n[a]:n},fo=function(t,e,n){return e.localized?"".concat(t,".").concat(n):t},po={name:"SharpFieldDisplay",functional:!0,inject:["$form"],render:function(t,e){var n=e.props,a=e.injections,r=e.data,i=n.fieldKey,o=n.contextFields,s=n.contextData,l=n.errorIdentifier,c=n.updateVisibility,u=co(n,["fieldKey","contextFields","contextData","errorIdentifier","updateVisibility"]),d=a.$form,h=o[i],f=s[i];if(!(i in o))return Kt("Field display ('layout') : Can't find a field with key '".concat(i,"' in 'fields'"),o),t(Sn,{props:{name:i}});var p=uo(o,s,h.conditionalDisplay);return c&&c(i,p),p?t(io,so({},r,{attrs:so({fieldKey:i,fieldProps:h,fieldType:h.type,value:ho(d,h,f,n.locale),originalValue:f,label:h.label,helpMessage:h.helpMessage,errorIdentifier:fo(l,h,n.locale)},u)})):null}},mo={components:{Dropdown:mt,DropdownItem:bt},props:{locale:String,locales:Array},methods:{handleChanged:function(t){this.$emit("change",t)}}},vo=Object($.a)(mo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dropdown",{staticClass:"SharpForm__locale-dropdown",scopedSlots:t._u([{key:"text",fn:function(){return[t.locale?[t._v(t._s(t.locale))]:[t._v("-")]]},proxy:!0}])},[t._v(" "),t._l(t.locales,(function(e){return[n("DropdownItem",{key:e,on:{click:function(n){return t.handleChanged(e)}}},[t._v("\n            "+t._s(e)+"\n        ")])]}))],2)}),[],!1,null,null,null);vo.options.__file="LocaleSelect.vue";var yo=vo.exports;function bo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){go(t,e,n[e])}))}return t}function go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var wo={name:"SharpForm",extends:se,mixins:[qt,Ut("fields"),Vt,Ar("fields")],components:{TabbedLayout:mn,FieldsLayout:Lr,Grid:jt,Dropdown:mt,DropdownItem:bt,LocaleSelect:yo},props:{entityKey:String,instanceId:String,independant:{type:Boolean,default:!1},ignoreAuthorizations:Boolean,props:Object},inject:["actionsBus"],provide:function(){return{$form:this}},data:function(){return{ready:!1,fields:null,authorizations:null,breadcrumb:null,config:null,errors:{},fieldLocale:{},locales:null,fieldVisible:{},curFieldsetId:0,pendingJobs:[]}},computed:{apiPath:function(){var t="form/".concat(this.entityKey);return this.instanceId&&(t+="/".concat(this.instanceId)),t},localized:function(){return Array.isArray(this.locales)&&!!this.locales.length},isSingle:function(){return!!this.config&&this.config.isSingle},isCreation:function(){return!this.isSingle&&!this.instanceId},isReadOnly:function(){return!this.ignoreAuthorizations&&(this.isCreation?!this.authorizations.create:!this.authorizations.update)},synchronous:function(){return this.independant},hasErrors:function(){var t=this;return Object.keys(this.errors).some((function(e){return!t.errors[e].cleared}))},baseEntityKey:function(){return this.entityKey.split(":")[0]},downloadLinkBase:function(){return"/download/".concat(this.entityKey,"/").concat(this.instanceId)},listUrl:function(){return"".concat(ee,"/list/").concat(this.baseEntityKey,"?restore-context=1")},transformedFields:function(){return ea(this.isReadOnly?this.readOnlyFields:this.fields,this.data)},currentLocale:function(){var t=_o(new Set(Object.values(this.fieldLocale)));return 1===t.length?t[0]:null}},methods:{updateData:function(t,e){var n,a,r=this,i=arguments;return ct.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:n=i.length>2&&void 0!==i[2]?i[2]:{},a=n.forced,this.data=bo({},this.data,{},a?null:Qn(this.fields,t,(function(t){return r.fieldLocalizedValue(t.key,null)})),go({},t,this.fieldLocalizedValue(t,e)));case 2:case"end":return o.stop()}}),null,this)},updateVisibility:function(t,e){this.$set(this.fieldVisible,t,e)},updateLocale:function(t,e){this.$set(this.fieldLocale,t,e)},handleLocaleChanged:function(t){this.fieldLocale=this.defaultFieldLocaleMap({fields:this.fields,locales:this.locales},t)},mount:function(t){var e=t.fields,n=t.layout,a=t.data,r=void 0===a?{}:a,i=t.authorizations,o=void 0===i?{}:i,s=t.locales,l=t.breadcrumb,c=t.config;this.fields=e,this.data=r,this.layout=this.patchLayout(n),this.locales=s,this.authorizations=o,this.breadcrumb=l,this.config=c,e&&(this.fieldVisible=Object.keys(this.fields).reduce((function(t,e){return t[e]=!0,t}),{}),this.fieldLocale=this.defaultFieldLocaleMap({fields:e,locales:s})),this.validate()},validate:function(){var t,e=this;Object.keys(this.fieldLocale).length>0&&!this.locales.length&&(t="Some fields are localized but the form hasn't any locales configured",e.actionsBus.$emit("showMainModal",{title:"Data error",text:t,isError:!0,okCloseOnly:!0}))},handleError:function(t){var e=t.response;422===e.status&&(this.errors=e.data.errors||{})},patchLayout:function(t){if(t){var e=0,n=function t(n){n.legend?n.id="".concat(e++,"#").concat(n.legend):n.fields&&n.fields.forEach((function(e){e.forEach(t)}))};return t.tabs.forEach((function(t){return t.columns.forEach(n)})),t}},init:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.independant){t.next=5;break}this.mount(this.props),this.ready=!0,t.next=13;break;case 5:if(!this.entityKey){t.next=12;break}return t.next=8,ct.a.awrap(this.get());case 8:this.setupActionBar(),this.ready=!0,t.next=13;break;case 12:Kt("no entity key provided");case 13:case"end":return t.stop()}}),null,this)},setupActionBar:function(){this.actionsBus.$emit("setup",{showSubmitButton:this.isCreation?this.authorizations.create:this.authorizations.update,showDeleteButton:!this.isCreation&&!this.isSingle&&this.authorizations.delete,showBackButton:this.isReadOnly,opType:this.isCreation?"create":"update"})},redirectToList:function(){location.href=Ne(this.breadcrumb.find((function(t){return"entityList"===t.type})).url)},redirectToParentPage:function(){location.href=ze(this.breadcrumb)},submit:function(){var t,e,n,a=arguments;return ct.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},e=t.postFn,!this.pendingJobs.length){r.next=3;break}return r.abrupt("return");case 3:if(r.prev=3,!e){r.next=10;break}return r.next=7,ct.a.awrap(e(this.data));case 7:r.t0=r.sent,r.next=13;break;case 10:return r.next=12,ct.a.awrap(this.post());case 12:r.t0=r.sent;case 13:if(n=r.t0,!this.independant){r.next=19;break}return this.$emit("submit",n),r.abrupt("return",n);case 19:n.data.ok&&(this.mainLoading.$emit("show"),this.redirectToParentPage());case 20:r.next=26;break;case 22:return r.prev=22,r.t1=r.catch(3),this.handleError(r.t1),r.abrupt("return",Promise.reject(r.t1));case 26:case"end":return r.stop()}}),null,this,[[3,22]])}},actions:{submit:function(){this.submit().catch((function(){}))},delete:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ct.a.awrap(this.axiosInstance.delete(this.apiPath));case 3:this.redirectToList(),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),null,this,[[0,6]])},cancel:function(){this.redirectToParentPage()},setPendingJob:function(t){var e=t.key,n=t.origin;t.value?this.pendingJobs.push(e):this.pendingJobs=this.pendingJobs.filter((function(t){return t!==e})),this.pendingJobs.length?this.actionsBus.$emit("updateActionsState",{state:"pending",modifier:n}):this.actionsBus.$emit("updateActionsState",null)}},created:function(){var t=this;this.$on("error-cleared",(function(e){t.errors[e]&&t.$set(t.errors[e],"cleared",!0)}))},mounted:function(){this.init()}},So=Object($.a)(wo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpForm",attrs:{"data-popover-boundary":""}},[t.ready?[n("div",{staticClass:"container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasErrors,expression:"hasErrors"}],staticClass:"SharpNotification SharpNotification--error",attrs:{role:"alert"}},[n("div",{staticClass:"SharpNotification__details"},[n("div",{staticClass:"SharpNotification__text-wrapper"},[n("p",{staticClass:"SharpNotification__title"},[t._v(t._s(t.l("form.validation_error.title")))]),t._v(" "),n("p",{staticClass:"SharpNotification__subtitle"},[t._v(t._s(t.l("form.validation_error.description")))])])])]),t._v(" "),n("TabbedLayout",{ref:"tabbedLayout",attrs:{layout:t.layout},scopedSlots:t._u([t.localized?{key:"nav-prepend",fn:function(){return[n("LocaleSelect",{attrs:{locale:t.currentLocale,locales:t.locales},on:{change:t.handleLocaleChanged}})]},proxy:!0}:null,{key:"default",fn:function(e){var a=e.tab;return[n("Grid",{ref:"columnsGrid",attrs:{rows:[a.columns]},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.itemLayout;return[n("FieldsLayout",{ref:"fieldLayout",attrs:{layout:a.fields,visible:t.fieldVisible},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.fieldLayout;return[n("FieldDisplay",{ref:"field",attrs:{"field-key":a.key,"context-fields":t.transformedFields,"context-data":t.data,"field-layout":a,locale:t.fieldLocale[a.key],"error-identifier":a.key,"config-identifier":a.key,"update-data":t.updateData,"update-visibility":t.updateVisibility},on:{"locale-change":t.updateLocale}})]}}],null,!0)})]}}],null,!0)})]}}],null,!0)})],1)]:t._e()],2)}),[],!1,null,null,null);So.options.__file="Form.vue";var Co=So.exports,xo={name:"SharpActionBarForm",mixins:[qt],components:{ActionBar:E,Collapse:R},data:function(){return{ready:!1,showSubmitButton:!1,showDeleteButton:!1,showBackButton:!1,deleteButtonOpened:!1,opType:"create",actionsState:null}},methods:{focusDelete:function(){this.$refs.openDelete&&this.$refs.openDelete.focus()},label:function(t,e){var n,a="action_bar.form.".concat(t);if(this.actionsState){var r=this.actionsState,i=r.state,o=r.modifier;n=Mt("".concat(a,".").concat(i,".").concat(o))}return!n&&e&&(a+=".".concat(e)),n||Mt(a)},emitAction:function(){var t;(t=this.actionsBus).$emit.apply(t,arguments)}},mounted:function(){var t=this;this.actionsBus.$on("setup",(function(){t.ready=!0}))},actions:{setup:function(t){var e=t.showSubmitButton,n=t.showDeleteButton,a=t.showBackButton,r=t.opType;this.showSubmitButton=e,this.showDeleteButton=n,this.showBackButton=a,this.opType=r},updateActionsState:function(t){this.actionsState=t}}},Oo=Object($.a)(xo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionBar",{attrs:{ready:t.ready,container:""},scopedSlots:t._u([{key:"left",fn:function(){return[n("button",{staticClass:"SharpButton SharpButton--secondary-accent",on:{click:function(e){return t.emitAction("cancel")}}},[t._v("\n            "+t._s(t.showBackButton?t.label("back_button"):t.label("cancel_button"))+"\n        ")]),t._v(" "),t.showDeleteButton?n("div",{staticClass:"w-100 h-100"},[n("Collapse",{attrs:{"transition-class":"SharpButton__collapse-transition"},scopedSlots:t._u([{key:"frame-0",fn:function(e){var a=e.next;return[n("button",{staticClass:"SharpButton SharpButton--danger",on:{click:function(e){return a(t.focusDelete)}}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 24","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M4 0h8v2H4zM0 3v4h1v17h14V7h1V3H0zm13 18H3V8h10v13z"}}),t._v(" "),n("path",{attrs:{d:"M5 10h2v9H5zm4 0h2v9H9z"}})])])]}},{key:"frame-1",fn:function(e){var a=e.next;return[n("button",{ref:"openDelete",staticClass:"SharpButton SharpButton--danger",on:{click:function(e){return t.emitAction("delete")},blur:function(t){return a()}}},[t._v("\n                        "+t._s(t.label("delete_button"))+"\n                    ")])]}}],null,!1,2673621014)})],1):t._e()]},proxy:!0},{key:"right",fn:function(){return[t.showSubmitButton?n("button",{staticClass:"SharpButton SharpButton--accent",on:{click:function(e){return t.emitAction("submit")}}},[t._v("\n            "+t._s(t.label("submit_button",t.opType))+"\n        ")]):t._e()]},proxy:!0}])})}),[],!1,null,null,null);Oo.options.__file="ActionBar.vue";var ko={components:{Form:Co,ActionBarForm:Oo.exports},computed:{entityKey:function(){return this.$route.params.entityKey},instanceId:function(){return this.$route.params.instanceId}}},jo=Object($.a)(ko,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"FormPage"},[e("ActionBarForm"),this._v(" "),e("Form",{attrs:{"entity-key":this.entityKey,"instance-id":this.instanceId}})],1)}),[],!1,null,null,null);jo.options.__file="FormPage.vue";var Lo=[{name:"form",path:"/form/:entityKey/:instanceId?",component:jo.exports}],Po={components:{Modal:fe,Form:Co},props:{form:Object},data:function(){return{visible:!1}},watch:{form:function(t){this.visible=!!t}},methods:{submit:function(){var t;return(t=this.$refs.form).submit.apply(t,arguments)},handleSubmitButtonClicked:function(t){t.preventDefault(),this.$emit("submit")},handleClosed:function(){this.$emit("close")}}},$o=Object($.a)(Po,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{visible:t.visible},on:{"update:visible":function(e){t.visible=e},ok:t.handleSubmitButtonClicked,hidden:t.handleClosed}},[n("transition",[t.visible?n("Form",{ref:"form",staticStyle:{"transition-duration":"300ms"},attrs:{props:t.form,independant:"","ignore-authorizations":""}}):t._e()],1)],1)}),[],!1,null,null,null);$o.options.__file="CommandFormModal.vue";var Bo=$o.exports,Eo={name:"SharpCommandsDropdown",components:{Dropdown:mt,DropdownItem:bt,DropdownSeparator:wt},props:{commands:{type:Array}},computed:{commandGroups:function(){return this.commands.filter((function(t){return t.length>0}))}},methods:{handleCommandClicked:function(t){this.$emit("select",t)}}},Ao=Object($.a)(Eo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dropdown",{staticClass:"SharpCommandsDropdown",scopedSlots:t._u([{key:"text",fn:function(){return[t._t("text")]},proxy:!0}],null,!0)},[t._v(" "),t._l(t.commandGroups,(function(e){return[t._l(e,(function(e){return[n("DropdownItem",{key:e.key,on:{click:function(n){return t.handleCommandClicked(e)}}},[t._v("\n                "+t._s(e.label)+"\n                "),e.description?[n("div",{staticClass:"SharpCommandsDropdown__description mt-1"},[t._v("\n                        "+t._s(e.description)+"\n                    ")])]:t._e()],2)]})),t._v(" "),n("DropdownSeparator")]}))],2)}),[],!1,null,null,null);Ao.options.__file="CommandsDropdown.vue";var Do=Ao.exports,Io={name:"SharpViewPanel",props:{content:String},computed:{visible:function(){return!!this.content}},methods:{handleBackdropClicked:function(){this.$emit("close")}},directives:{srcdoc:{inserted:function(t,e){var n=e.value;t.contentWindow.document.write(n)}}}},Fo=Object($.a)(Io,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"SharpViewPanel__glasspane",on:{click:this.handleBackdropClicked}}),this._v(" "),e("transition",{attrs:{"enter-class":"SharpViewPanel--collapsed","enter-active-class":"SharpViewPanel--expanding","enter-to-class":"SharpViewPanel--expanded","leave-class":"SharpViewPanel--expanded","leave-active-class":"SharpViewPanel--collapsing","leave-to-class":"SharpViewPanel--collapsed"}},[this.visible?[e("div",{staticClass:"SharpViewPanel"},[e("iframe",{directives:[{name:"srcdoc",rawName:"v-srcdoc",value:this.content,expression:"content"}],attrs:{src:"about:blank",sandbox:"allow-forms allow-scripts allow-same-origin allow-popups"}})])]:this._e()],2)],1)}),[],!1,null,null,null);Fo.options.__file="CommandViewPanel.vue";var To=Fo.exports;var Mo,Vo,No,zo={namespaced:!0,state:{commands:null},mutations:(Mo={},Vo="SET_COMMANDS",No=function(t,e){t.commands=e},Vo in Mo?Object.defineProperty(Mo,Vo,{value:No,enumerable:!0,configurable:!0,writable:!0}):Mo[Vo]=No,Mo),getters:{forType:function(t){return function(e){return t.commands?t.commands[e]:null}}},actions:{update:function(t,e){(0,t.commit)("SET_COMMANDS",e.commands)}}};function Ro(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Ko(t,e,n[e])}))}return t}function Ko(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Uo(t,e,n[e])}))}return t}function Uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ho(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Go,Wo="filter_",Yo=new RegExp("^".concat(Wo));function Qo(t){return"".concat(Wo).concat(t)}function Jo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Xo(t,e,n[e])}))}return t}function Xo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zo={namespaced:!0,state:function(){return{filters:null,values:{}}},mutations:(Go={},Xo(Go,"SET_FILTERS",(function(t,e){t.filters=e})),Xo(Go,"SET_FILTER_VALUE",(function(t,e){var n=e.key,a=e.value;r.a.set(t.values,n,a)})),Go),getters:{value:function(t){return function(e){return t.values[e]}},filters:function(t){return t.filters||[]},values:function(t){return t.values},filter:function(t){return function(e){return(t.filters||[]).find((function(t){return t.key===e}))}},defaultValue:function(){return function(t){return(t||{}).default}},isDateRange:function(){return function(t){return"daterange"===(t||{}).type}},filterQueryKey:function(){return function(t){return Qo(t)}},getQueryParams:function(t,e){return function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return Object.entries(t).reduce((function(t,n){var a=Ho(n,2),r=a[0],i=a[1];return qo({},t,Uo({},Qo(r),e(i,r)))}),{})}(t,(function(t,n){return e.serializeValue({filter:e.filter(n),value:t})}))}},getValuesFromQuery:function(){return function(t){return function(t){return Object.entries(t||{}).filter((function(t){var e=Ho(t,1)[0];return Yo.test(e)})).reduce((function(t,e){var n=Ho(e,2),a=n[0],r=n[1];return qo({},t,Uo({},a.replace(Yo,""),r))}),{})}(t)}},resolveFilterValue:function(t,e){return function(t){var n,a,r,i=t.filter,o=t.value;return null==o?e.defaultValue(i):i.multiple&&!Array.isArray(o)?[o]:e.isDateRange(i)?(n=$e((o||"").split(".."),2),a=n[0],r=n[1],{start:a?Pe()(a,Be).toDate():null,end:r?Pe()(r,Be).toDate():null}):o}},serializeValue:function(t,e){return function(t){var n=t.filter,a=t.value;return e.isDateRange(n)?function(t){if("string"==typeof t)return t;var e=(t||{}).start,n=(t||{}).end;return e&&(e=Pe()(e).format(Be)),n&&(n=Pe()(n).format(Be)),e||n?"".concat(e||"","..").concat(n||""):null}(a):a}},nextValues:function(t){return function(e){var n=e.filter,a=e.value,r=t.values;return n.master&&(r=Object.keys(t.values).reduce((function(t,e){return Jo({},t,Xo({},e,null))}),{})),Jo({},r,Xo({},n.key,a))}},nextQuery:function(t,e){return function(t){var n=t.filter,a=t.value;return e.getQueryParams(e.nextValues({filter:n,value:a}))}}},actions:{update:function(t,e){var n=t.commit,a=t.dispatch,r=e.filters,i=e.values;return n("SET_FILTERS",r),Promise.all((r||[]).map((function(t){a("setFilterValue",{filter:t,value:(i||{})[t.key]})})))},setFilterValue:function(t,e){var n=t.commit,a=t.getters,r=e.filter,i=e.value;n("SET_FILTER_VALUE",{key:r.key,value:a.resolveFilterValue({filter:r,value:i})})}}};var ts={namespaced:!0,modules:{filters:Zo},actions:{get:function(t){var e,n;return ct.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.dispatch,a.next=3,ct.a.awrap(we.get("filters").then((function(t){return t.data})));case 3:n=a.sent,e("filters/update",{filters:n.filters});case 5:case"end":return a.stop()}}))},post:function(t,e){!function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(t);var n=e.filter,a=e.value;return function(t){var e=t.filterKey,n=t.value;return we.post("filters/".concat(e),{value:n})}({filterKey:n.key,value:a})}}},es={name:"SharpFilterControl",props:{opened:Boolean,label:String,noCaret:Boolean},components:{DropdownArrow:ht},computed:{classes:function(){return{"SharpFilterControl--open":this.opened}}},methods:{handleClicked:function(){this.$emit("click")}}},ns=Object($.a)(es,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpFilterControl",class:t.classes,on:{click:t.handleClicked}},[n("span",{staticClass:"SharpFilterControl__text"},[t._v("\n        "+t._s(t.label)+"\n    ")]),t._v(" "),t._t("default"),t._v(" "),t.noCaret?t._e():[n("span",{staticClass:"SharpFilterControl__caret-container"},[n("DropdownArrow",{staticClass:"SharpFilterControl__caret"})],1)]],2)}),[],!1,null,null,null);ns.options.__file="FilterControl.vue";var as=ns.exports,rs={name:"SharpFilterDateRange",components:{DateRange:Ki,FilterControl:as},props:{value:{required:!0},required:Boolean,displayFormat:String,mondayFirst:Boolean,label:String},data:function(){return{opened:!1}},computed:{empty:function(){return!this.value},noCaret:function(){return!!this.value&&!this.required},classes:function(){return{"SharpFilterDateRange--empty":this.empty}}},methods:{handleClicked:function(){this.$refs.range.$refs.picker.focus()},handleInput:function(t){this.$emit("input",t)},handlePickerFocused:function(){this.opened=!0},handlePickerBlur:function(){this.opened=!1}}},is=Object($.a)(rs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpFilterDateRange",class:t.classes},[n("FilterControl",{attrs:{opened:t.opened,label:t.label,"no-caret":t.noCaret},on:{click:t.handleClicked}},[n("DateRange",{ref:"range",staticClass:"SharpFilterDateRange__field",attrs:{value:t.value,"display-format":t.displayFormat,"monday-first":t.mondayFirst,clearable:!t.required},on:{input:t.handleInput,focus:t.handlePickerFocused,blur:t.handlePickerBlur}})],1)],1)}),[],!1,null,null,null);is.options.__file="FilterDateRange.vue";var os=is.exports;function ss(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ls={name:"SharpFilterSelect",mixins:[Vt],components:{Select:Kr,Autocomplete:ra,FilterControl:as},props:{label:{type:String,required:!0},values:{type:Array,required:!0},value:{type:[String,Number,Array]},multiple:Boolean,required:Boolean,searchable:Boolean,searchKeys:Array,template:String},data:function(){return{opened:!1,debug:!1}},computed:{optionById:function(){return this.values.reduce((function(t,e){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){ss(t,e,n[e])}))}return t}({},t,ss({},e.id,e))}),{})},empty:function(){return null==this.value||this.multiple&&!this.value.length},autocompleteValue:function(){var t=this;return this.multiple?(this.value||[]).map((function(e){return t.optionById[e]})):this.optionById[this.value]}},methods:{handleSelect:function(t){this.$emit("input",t)},handleAutocompleteInput:function(t){this.$emit("input",this.multiple?t.map((function(t){return t.id})):(t||{}).id)},handleClick:function(){this.opened?this.close():this.open()},open:function(){this.opened=!0,this.$emit("open"),this.$nextTick(this.showDropdown)},close:function(){this.debug||(this.opened=!1,this.$emit("close"),this.$nextTick(this.blur))},showDropdown:function(){var t=this.$refs.autocomplete.$refs.multiselect;t.activate(),this.debug&&(this.unwatch&&this.unwatch(),this.unwatch=t.$watch("isOpen",(function(t){t||(this.isOpen=!0)}),{sync:!0}))},blur:function(){this.$refs.select.$refs.multiselect.deactivate()}}},cs=Object($.a)(ls,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpFilterSelect",class:{"SharpFilterSelect--open":t.opened,"SharpFilterSelect--empty":t.empty,"SharpFilterSelect--multiple":t.multiple,"SharpFilterSelect--searchable":t.searchable},attrs:{tabindex:"0"}},[n("Autocomplete",{ref:"autocomplete",staticClass:"SharpFilterSelect__select",attrs:{value:t.autocompleteValue,"local-values":t.values,"search-keys":t.searchKeys,"list-item-template":t.template,placeholder:t.l("entity_list.filter.search_placeholder"),multiple:t.multiple,"hide-selected":t.multiple,"allow-empty":!t.required,"preserve-search":!1,"show-pointer":!1,searchable:t.searchable,"no-result-item":"",mode:"local"},on:{"multiselect-input":t.handleAutocompleteInput,close:t.close}}),t._v(" "),n("FilterControl",{attrs:{label:t.label,"no-caret":""},on:{click:t.handleClick}},[n("Select",{ref:"select",staticClass:"SharpFilterSelect__select",attrs:{value:t.value,options:t.values,multiple:t.multiple,clearable:!t.required,inline:!1,placeholder:" "},on:{input:t.handleSelect}})],1)],1)}),[],!1,null,null,null);cs.options.__file="FilterSelect.vue";var us=cs.exports;var ds={name:"SharpFilter",props:{filter:{type:Object,required:!0},value:[Object,Array,String,Number]},computed:{filterComp:function(){return"select"===(t=this.filter.type)?us:"daterange"===t?os:void 0;var t}},methods:{handleInput:function(t){this.$emit("input",t)}}},hs=Object($.a)(ds,(function(){var t=this.$createElement;return(this._self._c||t)(this.filterComp,this._b({tag:"component",attrs:{value:this.value},on:{input:this.handleInput}},"component",this.filter,!1))}),[],!1,null,null,null);hs.options.__file="Filter.vue";var fs=hs.exports;function ps(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ms(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vs={inject:{mainLoading:{default:new r.a}},components:{FilterSelect:us},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){ms(t,e,n[e])}))}return t}({},Object(i.b)("global-filters",{filters:"filters/filters",filterValue:"filters/value"})),methods:{handleFilterChanged:function(t,e){var n=this;this.$store.dispatch("global-filters/post",{filter:t,value:e}).then((function(){n.mainLoading.$emit("show"),location.href=ee}))},handleOpened:function(){this.$emit("open")},handleClosed:function(){this.$emit("close")},updateLayout:Yt()((function(){var t=this;ps(this.$el.querySelectorAll(".SharpFilterSelect")).forEach((function(e){var n=t.$el.parentElement,a=n.offsetHeight-e.offsetHeight-(e.offsetTop-n.offsetTop);e.querySelector(".SharpAutocomplete .multiselect__content").style.height="".concat(a,"px")}))}),300)},mounted:function(){this.updateLayout(),window.addEventListener("resize",this.updateLayout)},destroyed:function(){window.removeEventListener("resize",this.updateLayout)}},ys=Object($.a)(vs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpGlobalFilters"},[t._l(t.filters,(function(e){return[n("FilterSelect",{key:e.key,attrs:{label:e.label,values:e.values,value:t.filterValue(e.key),multiple:e.multiple,required:e.required,template:e.template,"search-keys":e.searchKeys,searchable:e.searchable},on:{input:function(n){return t.handleFilterChanged(e,n)},open:function(n){return t.handleOpened(e)},close:function(n){return t.handleClosed(e)}}})]}))],2)}),[],!1,null,null,null);ys.options.__file="GlobalFilters.vue";var bs,gs=ys.exports;function _s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ws={namespaced:!0,modules:{filters:Zo,commands:zo},state:{dashboardKey:null,data:null,widgets:null,config:null,layout:null},mutations:(bs={},_s(bs,"UPDATE",(function(t,e){var n=e.data,a=e.layout,r=e.widgets,i=e.config;t.data=n,t.widgets=r,t.layout=a,t.config=i})),_s(bs,"SET_DASHBOARD_KEY",(function(t,e){t.dashboardKey=e})),bs),actions:{update:function(t,e){var n=t.commit,a=t.dispatch,r=e.data,i=e.widgets,o=e.layout,s=e.config,l=e.filtersValues;return n("UPDATE",{data:r,widgets:i,layout:o,config:s}),Promise.all([a("filters/update",{filters:s.filters,values:l}),a("commands/update",{commands:s.commands})])},get:function(t,e){var n,a,r,i,o;return ct.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.state,a=t.dispatch,r=t.getters,i=e.filtersValues,s.next=4,ct.a.awrap((l={dashboardKey:n.dashboardKey,filters:r["filters/getQueryParams"](i)},c=void 0,u=void 0,c=l.dashboardKey,u=l.filters,we.get("dashboard/".concat(c),{params:Ro({},u)}).then((function(t){return t.data}))));case 4:return o=s.sent,s.next=7,ct.a.awrap(a("update",{data:o.data,widgets:o.widgets,layout:o.layout,config:o.config,filtersValues:i}));case 7:case"end":return s.stop()}var l,c,u}))},postCommand:function(t,e){var n=t.state,a=e.command,r=e.data,i=e.query;return function(t){var e=t.dashboardKey,n=t.commandKey,a=t.query,r=t.data;return we.post("dashboard/".concat(e,"/command/").concat(n),{query:a,data:r},{responseType:"blob"})}({dashboardKey:n.dashboardKey,commandKey:a.key,data:r,query:i})},getCommandFormData:function(t,e){var n=t.state,a=e.command,r=e.query;return function(t){var e=t.dashboardKey,n=t.commandKey,a=t.query;return we.get("dashboard/".concat(e,"/command/").concat(n,"/data"),{params:Ro({},a)}).then((function(t){return t.data.data}))}({dashboardKey:n.dashboardKey,commandKey:a.key,query:r})},setDashboardKey:function(t,e){(0,t.commit)("SET_DASHBOARD_KEY",e)}}},Ss={name:"SharpWidgetPanel",components:{TemplateRenderer:gn},props:{value:Object,template:String}},Cs=Object($.a)(Ss,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"SharpWidgetPanel"},[e("TemplateRenderer",{attrs:{name:"WidgetPanel",template:this.template,"template-data":this.value.data}})],1)}),[],!1,null,null,null);Cs.options.__file="Panel.vue";var xs=Cs.exports,Os={name:"SharpWidgetOrderedList",components:{DataList:st,DataListRow:et},props:{value:Object,withCounts:{type:Boolean,default:!0},title:String},computed:{items:function(){return this.value.data},columns:function(){return[{key:"label",size:12,sizeXS:12}]}},methods:{hasCount:function(t){return this.withCounts&&"number"==typeof t.count}}},ks=Object($.a)(Os,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpWidgetOrderedList w-100"},[n("h2",{staticClass:"mb-3"},[t._v("\n        "+t._s(t.title)+"\n    ")]),t._v(" "),n("DataList",{staticClass:"SharpWidgetOrderedList__list",attrs:{items:t.items,columns:t.columns,"hide-header":""},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[n("DataListRow",{attrs:{url:a.url,columns:t.columns,row:a},scopedSlots:t._u([t.hasCount(a)?{key:"append",fn:function(){return[n("span",{staticClass:"SharpTag SharpTag--default"},[t._v(t._s(a.count))])]},proxy:!0}:null],null,!0)})]}}])})],1)}),[],!1,null,null,null);ks.options.__file="OrderedList.vue";var js=ks.exports,Ls=n("H8ri"),Ps={extends:Ls.b,mixins:[Ls.d.reactiveProp],props:{chartData:Object},computed:{options:function(){return{title:{display:!1},legend:{display:!1},maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMin:0},gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1}}]}}}},mounted:function(){this.renderChart(this.chartData,this.options)}},$s=Object($.a)(Ps,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{ref:"canvas"})])}),[],!1,null,null,null);$s.options.__file="Line.vue";var Bs=$s.exports;var Es={extends:Ls.a,mixins:[Ls.d.reactiveProp],props:{chartData:Object},computed:{options:function(){return{title:{display:!1},legend:{display:!1},maintainAspectRatio:!1,scales:{yAxes:[{ticks:{suggestedMin:0},gridLines:{display:!1}}],xAxes:[{gridLines:{display:!1},categoryPercentage:.5,barPercentage:.2}]}}}},mounted:function(){this.renderChart(this.chartData,this.options)}},As=Object($.a)(Es,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{ref:"canvas"})])}),[],!1,null,null,null);As.options.__file="Bar.vue";var Ds=As.exports;var Is={extends:Ls.c,mixins:[Ls.d.reactiveProp],props:{chartData:Object},computed:{options:function(){return{title:{display:!1},legend:{display:!1},maintainAspectRatio:!1,cutoutPercentage:0}}},mounted:function(){this.renderChart(this.chartData,this.options)}},Fs=Object($.a)(Is,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{ref:"canvas"})])}),[],!1,null,null,null);Fs.options.__file="Pie.vue";var Ts=Fs.exports;function Ms(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Vs(t,e){return"line"===t?(a=(n=e).datasets,r=n.labels,{datasets:a.map((function(t){return{data:t.data,label:t.label,borderColor:t.color,fill:!1}})),labels:r}):"bar"===t?function(t){var e=t.datasets,n=t.labels;return{datasets:e.map((function(t){return{data:t.data,label:t.label,backgroundColor:t.color}})),labels:n}}(e):"pie"===t?function(t){var e=t.datasets;return{datasets:[e.reduce((function(t,e){return{data:[].concat(Ms(t.data||[]),[e.data[0]]),backgroundColor:[].concat(Ms(t.backgroundColor||[]),[e.color])}}),{})],labels:e.reduce((function(t,e){return[].concat(Ms(t),[e.label])}),[])}}(e):void 0;var n,a,r}var Ns={name:"SharpLegend",props:{datasets:Array}},zs=Object($.a)(Ns,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpLegend"},[n("div",{staticClass:"SharpLegend__list row"},t._l(t.datasets,(function(e){return n("div",{staticClass:"SharpLegend__item col-sm"},[n("span",{staticClass:"SharpLegend__color",style:{background:e.color}}),t._v(" "),n("span",{staticClass:"SharpLegend__text"},[t._v(t._s(e.label))])])})),0)])}),[],!1,null,null,null);zs.options.__file="Legend.vue";var Rs={name:"SharpWidgetChart",components:{ChartLegend:zs.exports},props:{display:String,title:String,value:Object,ratioX:Number,ratioY:Number},computed:{chartComp:function(){return"line"===(t=this.display)?Bs:"bar"===t?Ds:"pie"===t?Ts:void 0;var t},chartData:function(){return Vs(this.display,this.value)},classes:function(){return"SharpWidgetChart SharpWidgetChart--".concat(this.display)},style:function(){return{"padding-top":"".concat(this.ratioY/this.ratioX*100,"%")}}}},Ks=Object($.a)(Rs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.title?[n("h2",{staticClass:"mb-2"},[t._v(t._s(t.title))])]:t._e(),t._v(" "),n("ChartLegend",{attrs:{datasets:t.value.datasets}}),t._v(" "),n("div",{class:t.classes,style:t.style},[n(t.chartComp,{tag:"component",staticClass:"SharpWidgetChart__inner",attrs:{"chart-data":t.chartData}})],1)],2)}),[],!1,null,null,null);Ks.options.__file="Chart.vue";var qs=Ks.exports;function Us(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hs={name:"SharpWidget",props:{widgetType:String,widgetProps:Object,value:Object},computed:{widgetComp:function(){return t=this.widgetType,this.widgetProps.display,"graph"===t?qs:"panel"===t?xs:"list"===t?js:void 0;var t},exposedProps:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Us(t,e,n[e])}))}return t}({},this.widgetProps,{value:this.value})},hasLink:function(){return!!this.widgetProps.link}}},Gs=Object($.a)(Hs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"SharpWidget SharpCard",class:{"SharpWidget--chart":"graph"===t.widgetType,"SharpWidget--link":t.hasLink}},[n(t.hasLink?"a":"div",{tag:"component",class:{SharpWidget__link:t.hasLink},attrs:{href:t.widgetProps.link}},[n("div",{staticClass:"SharpCard__overview"},[n("div",{staticClass:"SharpCard__overview-about"},[n(t.widgetComp,t._b({tag:"component"},"component",t.exposedProps,!1))],1)])])],1)}),[],!1,null,null,null);Gs.options.__file="Widget.vue";var Ws=Gs.exports;function Ys(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Qs(t,e,n[e])}))}return t}function Qs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Js={name:"SharpActionBarDashboard",mixins:[Vt],components:{ActionBar:E,FilterDropdown:fs,CommandsDropdown:Do},props:{commands:Array},computed:Ys({},Object(i.b)("dashboard",{filters:"filters/filters",filterValue:"filters/value",filterNextQuery:"filters/nextQuery"})),methods:{filterKey:function(t){return"actionbardashboard_".concat(t.key)},handleFilterChanged:function(t,e){this.$router.push({query:Ys({},this.$route.query,{},this.filterNextQuery({filter:t,value:e}))})},handleCommandSelected:function(t){this.$emit("command",t)}}},Xs=Object($.a)(Js,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionBar",{scopedSlots:t._u([{key:"extras",fn:function(){return[n("div",{staticClass:"row mx-n2"},[t._l(t.filters,(function(e){return[n("div",{staticClass:"col-auto px-2"},[n("FilterDropdown",{key:e.id,attrs:{filter:e,value:t.filterValue(e.key)},on:{input:function(n){return t.handleFilterChanged(e,n)}}})],1)]}))],2)]},proxy:!0},t.commands.length?{key:"extras-right",fn:function(){return[n("CommandsDropdown",{staticClass:"SharpActionBar__actions-dropdown SharpActionBar__actions-dropdown--commands",attrs:{commands:t.commands},on:{select:t.handleCommandSelected},scopedSlots:t._u([{key:"text",fn:function(){return[t._v("\n                "+t._s(t.l("dashboard.commands.dashboard.label"))+"\n            ")]},proxy:!0}],null,!1,3867860828)})]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null);function Zs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){tl(t,e,n[e])}))}return t}function tl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Xs.options.__file="ActionBar.vue";var el={name:"SharpDashboardPage",mixins:[oe,ue],components:{Grid:jt,Widget:Ws,ActionBarDashboard:Xs.exports,CommandFormModal:Bo,CommandViewPanel:To},data:function(){return{ready:!1}},watch:{$route:"init"},computed:Zs({},Object(i.c)("dashboard",{data:function(t){return t.data},widgets:function(t){return t.widgets},layout:function(t){return t.layout}}),{},Object(i.b)("dashboard",{filtersValues:"filters/values",getFiltersQueryParams:"filters/getQueryParams",getFiltersValuesFromQuery:"filters/getValuesFromQuery",commandsForType:"commands/forType"}),{commands:function(){return this.commandsForType("dashboard")||[]},commandsQuery:function(){return Zs({},this.getFiltersQueryParams(this.filtersValues),{},this.$route.query)}}),methods:{handleCommandRequested:function(t){var e=this,n=this.commandsQuery;this.sendCommand(t,{postCommand:function(){return e.$store.dispatch("dashboard/postCommand",{command:t,query:n})},postForm:function(a){return e.$store.dispatch("dashboard/postCommand",{command:t,query:n,data:a})},getFormData:function(){return e.$store.dispatch("dashboard/getCommandFormData",{command:t,query:n})}})},init:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct.a.awrap(this.$store.dispatch("dashboard/setDashboardKey",this.$route.params.id));case 2:return t.next=4,ct.a.awrap(this.$store.dispatch("dashboard/get",{filtersValues:this.getFiltersValuesFromQuery(this.$route.query)}));case 4:this.ready=!0;case 5:case"end":return t.stop()}}),null,this)}},created:function(){this.init()}},nl=Object($.a)(el,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpDashboardPage"},[t.ready?[n("div",{staticClass:"container"},[n("ActionBarDashboard",{attrs:{commands:t.commands},on:{command:t.handleCommandRequested}}),t._v(" "),n("Grid",{attrs:{rows:t.layout.rows},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.itemLayout;return[n("Widget",{attrs:{"widget-type":t.widgets[a.key].type,"widget-props":t.widgets[a.key],value:t.data[a.key]}})]}}],null,!1,1993281933)})],1)]:t._e(),t._v(" "),n("CommandFormModal",{ref:"commandForm",attrs:{form:t.commandCurrentForm}}),t._v(" "),n("CommandViewPanel",{attrs:{content:t.commandViewContent},on:{close:t.handleCommandViewPanelClosed}})],2)}),[],!1,null,null,null);nl.options.__file="DashboardPage.vue";var al,rl=[{name:"dashboard",path:"/dashboard/:id",component:nl.exports}];function il(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ol={namespaced:!0,modules:{filters:Zo},state:function(){return{entityKey:null,query:{}}},mutations:(al={},il(al,"SET_ENTITY_KEY",(function(t,e){t.entityKey=e})),il(al,"SET_QUERY",(function(t,e){t.query=e})),al),getters:{query:function(t){return t.query}},actions:{update:function(t,e){var n=t.dispatch,a=(e.data,e.layout,e.config),r=e.filtersValues;return Promise.all([n("filters/update",{filters:a.filters,values:r})])},reorder:function(t,e){var n=t.state,a=e.instances;return function(t){var e=t.entityKey,n=t.instances;return we.post("list/".concat(e,"/reorder"),{instances:n})}({entityKey:n.entityKey,instances:a})},setEntityKey:function(t,e){(0,t.commit)("SET_ENTITY_KEY",e)},setQuery:function(t,e){(0,t.commit)("SET_QUERY",e)}}},sl=n("Y+p1"),ll=n.n(sl);function cl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ul(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){dl(t,e,n[e])}))}return t}function dl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hl={name:"SharpEntityList",mixins:[se,Vt,ue],components:{DataList:st,DataListRow:et,StateIcon:an,CommandsDropdown:Do,Dropdown:mt,DropdownItem:bt,CommandFormModal:Bo,CommandViewPanel:To},props:{entityKey:String,module:String,inline:Boolean,showCreateButton:{type:Boolean,default:!0},showReorderButton:{type:Boolean,default:!0},showSearchField:{type:Boolean,default:!0},showEntityState:{type:Boolean,default:!0},hiddenCommands:Object,hiddenFilters:Object},data:function(){return{ready:!1,page:0,search:"",sortedBy:null,sortDir:null,sortDirs:{},reorderActive:!1,reorderedItems:null,containers:null,layout:null,data:null,config:null,authorizations:null,forms:null}},watch:{query:"init"},computed:{filters:function(){return this.storeGetter("filters/filters")},filtersValues:function(){return this.storeGetter("filters/values")},filterNextQuery:function(){return this.storeGetter("filters/nextQuery")},getFiltersValuesFromQuery:function(){return this.storeGetter("filters/getValuesFromQuery")},query:function(){return this.storeGetter("query")},commandsQuery:function(){return ul({},this.storeGetter("filters/getQueryParams")(this.filtersValues),{},this.query)},hasMultiforms:function(){return!!this.forms},hasShowPage:function(){return!!this.config.hasShowPage},apiParams:function(){return this.query},apiPath:function(){return"list/".concat(this.entityKey)},actionBarProps:function(){return{count:this.totalCount,search:this.search,filters:this.visibleFilters,filtersValues:this.filtersValues,commands:this.allowedEntityCommands,forms:this.multiforms,reorderActive:this.reorderActive,canCreate:this.canCreate,canReorder:this.canReorder,canSearch:this.canSearch}},actionBarListeners:function(){return{"search-change":this.handleSearchChanged,"search-submit":this.handleSearchSubmitted,"filter-change":this.handleFilterChanged,"reorder-click":this.handleReorderButtonClicked,"reorder-submit":this.handleReorderSubmitted,command:this.handleEntityCommandRequested,create:this.handleCreateButtonClicked}},allowedEntityCommands:function(){var t=this;return(this.config.commands.entity||[]).map((function(e){return e.filter((function(e){return t.isEntityCommandAllowed(e)}))}))},visibleFilters:function(){var t=this;return this.hiddenFilters?this.filters.filter((function(e){return!t.hiddenFilters[e.key]})):this.filters},multiforms:function(){return this.forms?Object.values(this.forms):null},canCreate:function(){return this.showCreateButton&&!!this.authorizations.create},canReorder:function(){return this.showReorderButton&&this.config.reorderable&&this.authorizations.update&&this.data.items.length>1},canSearch:function(){return this.showSearchField&&!!this.config.searchable},items:function(){return this.data.items||[]},columns:function(){var t=this;return this.layout.map((function(e){return ul({},e,{},t.containers[e.key])}))},paginated:function(){return!!this.config.paginated},totalCount:function(){return this.data.totalCount||this.items.length},pageSize:function(){return this.data.pageSize},hasActionsColumn:function(){var t=this;return this.items.some((function(e){return t.instanceHasState(e)||t.instanceHasCommands(e)}))}},methods:{storeGetter:function(t){return this.$store.getters["".concat(this.module,"/").concat(t)]},storeDispatch:function(t,e){return this.$store.dispatch("".concat(this.module,"/").concat(t),e)},handleSearchChanged:function(t){this.search=t},handleSearchSubmitted:function(){this.storeDispatch("setQuery",ul({},this.query,{search:this.search,page:1}))},handleFilterChanged:function(t,e){this.storeDispatch("setQuery",ul({},this.query,{},this.filterNextQuery({filter:t,value:e}),{page:1}))},handleReorderButtonClicked:function(){this.reorderActive=!this.reorderActive,this.reorderedItems=this.reorderActive?cl(this.data.items):null},handleReorderSubmitted:function(){var t=this;return this.storeDispatch("reorder",{instances:this.reorderedItems.map((function(e){return t.instanceId(e)}))}).then((function(){t.$set(t.data,"items",cl(t.reorderedItems)),t.reorderedItems=null,t.reorderActive=!1}))},handleEntityCommandRequested:function(t){this.handleCommandRequested(t,{endpoint:this.commandEndpoint(t.key)})},handleCreateButtonClicked:function(t){var e=t?this.formUrl({formKey:t.key}):this.formUrl();location.href=e},instanceId:function(t){var e=this.config.instanceIdAttribute;return e?t[e]:t.id},instanceState:function(t){if(!this.instanceHasState(t))return null;var e=this.config.state.attribute;return e?t[e]:t.state},instanceHasState:function(t){return!!this.config.state&&this.showEntityState},instanceHasCommands:function(t){return this.instanceCommands(t).flat().length>0},instanceHasStateAuthorization:function(t){if(!this.instanceHasState(t))return!1;var e=this.config.state.authorization,n=this.instanceId(t);return Array.isArray(e)?e.includes(n):!!e},instanceCommands:function(t){var e=this;return(this.config.commands.instance||[]).reduce((function(n,a){return[].concat(cl(n),[a.filter((function(n){return e.isInstanceCommandAllowed(t,n)}))])}),[])},instanceStateIconColor:function(t){var e=this.instanceState(t);return this.instanceStateOptions(e).color},instanceStateLabel:function(t){var e=this.instanceState(t);return this.instanceStateOptions(e).label},instanceStateOptions:function(t){return this.config.state?this.config.state.values.find((function(e){return e.value===t})):null},instanceForm:function(t){var e=this.instanceId(t);return this.multiforms.find((function(t){return t.instances.includes(e)}))},instanceUrl:function(t){var e=this.instanceId(t);if(!this.instanceHasViewAuthorization(t))return null;if(this.hasShowPage)return this.showUrl({instanceId:e});if(this.hasMultiforms){var n=this.instanceForm(t)||{};return this.formUrl({formKey:n.key,instanceId:e})}return this.formUrl({instanceId:e})},instanceHasViewAuthorization:function(t){var e=this.instanceId(t),n=this.authorizations.view;return Array.isArray(n)?n.includes(e):!!n},filterByKey:function(t){return(this.config.filters||[]).find((function(e){return e.key===t}))},setState:function(t,e){var n=this,a=this.instanceId(t);return this.axiosInstance.post("".concat(this.apiPath,"/state/").concat(a),{attribute:this.config.state.attribute,value:e}).then((function(t){var e=t.data;n.handleCommandActionRequested(e.action,e)})).catch((function(t){var e=t.response.data;422===t.response.status&&n.actionsBus.$emit("showMainModal",{title:n.l("modals.state.422.title"),text:e.message,isError:!0,okCloseOnly:!0})}))},handleInstanceStateChanged:function(t,e){this.setState(t,e)},handleInstanceCommandRequested:function(t,e){var n=this.instanceId(t);this.handleCommandRequested(e,{endpoint:this.commandEndpoint(e.key,n)})},handleSortChanged:function(t){var e=t.prop,n=t.dir;this.storeDispatch("setQuery",ul({},this.query,{page:1,sort:e,dir:n}))},handleReorderedItemsChanged:function(t){this.reorderedItems=t},handlePageChanged:function(t){this.storeDispatch("setQuery",ul({},this.query,{page:t}))},formUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.formKey,n=t.instanceId;return He({entityKey:e?"".concat(this.entityKey,":").concat(e):this.entityKey,instanceId:n})},showUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.instanceId;return Ge({entityKey:this.entityKey,instanceId:e})},tryParseNumber:function(t){if(Array.isArray(t))return t.map(this.tryParseNumber);var e=Number(t);return isNaN(Number(e))?t:e},filterValueOrDefault:function(t,e){return null!=t&&""!==t?this.tryParseNumber(t):e.default||(e.multiple?[]:null)},initCommands:function(){this.addCommandActionHandlers({refresh:this.handleRefreshCommand})},handleCommandRequested:function(t,e){var n=this,a=e.endpoint,r=this.commandsQuery;this.sendCommand(t,{postCommand:function(){return n.axiosInstance.post(a,{query:r},{responseType:"blob"})},postForm:function(t){return n.axiosInstance.post(a,{query:r,data:t},{responseType:"blob"})},getFormData:function(){return n.axiosInstance.get("".concat(a,"/data"),{params:r}).then((function(t){return t.data.data}))}})},handleRefreshCommand:function(t){var e=this;this.data.items=this.data.items.map((function(n){return a=t.items,r=n,a.find((function(t){return e.instanceId(r)===e.instanceId(t)}))||n;var a,r}))},commandEndpoint:function(t,e){return"".concat(this.apiPath,"/command/").concat(t).concat(e?"/".concat(e):"")},isEntityCommandAllowed:function(t){var e=this.hiddenCommands?this.hiddenCommands.entity:null;return!!t.authorization&&!(e||[]).includes(t.key)},isInstanceCommandAllowed:function(t,e){var n=this.instanceId(t),a=this.hiddenCommands?this.hiddenCommands.instance:null;return(Array.isArray(e.authorization)?e.authorization.includes(n):!!e.authorization)&&!(a||[]).includes(e.key)},mount:function(t){var e=t.containers,n=t.layout,a=t.data,r=void 0===a?{}:a,i=t.config,o=void 0===i?{}:i,s=t.authorizations,l=t.forms;this.containers=e,this.layout=n,this.data=r,this.config=o,this.authorizations=s,this.forms=l,this.config.commands=o.commands||{},this.config.filters=o.filters||[],this.page=this.data.page,!this.sortDir&&(this.sortDir=this.config.defaultSortDir),!this.sortedBy&&(this.sortedBy=this.config.defaultSort)},bindParams:function(t){var e=t.search,n=t.page,a=t.sort,r=t.dir;this.search=e,n&&(this.page=Number(n)),a&&(this.sortedBy=a),r&&(this.sortDir=r)},init:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct.a.awrap(this.storeDispatch("setEntityKey",this.entityKey));case 2:return t.next=4,ct.a.awrap(this.get());case 4:return this.bindParams(this.query),this.$emit("change",{data:this.data,layout:this.layout,config:this.config,containers:this.containers,authorizations:this.authorizations,forms:this.forms}),t.next=8,ct.a.awrap(this.storeDispatch("update",{config:this.config,filtersValues:this.getFiltersValuesFromQuery(this.query)}));case 8:this.ready=!0;case 9:case"end":return t.stop()}}),null,this)}},beforeMount:function(){this.init(),this.initCommands()}},fl=Object($.a)(hl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpEntityList"},[t.ready?[t._t("action-bar",null,{props:t.actionBarProps,listeners:t.actionBarListeners}),t._v(" "),n("DataList",{attrs:{items:t.items,columns:t.columns,page:t.page,paginated:t.paginated,"total-count":t.totalCount,"page-size":t.pageSize,"reorder-active":t.reorderActive,sort:t.sortedBy,dir:t.sortDir},on:{change:t.handleReorderedItemsChanged,"sort-change":t.handleSortChanged,"page-change":t.handlePageChanged},scopedSlots:t._u([{key:"empty",fn:function(){return[t._v("\n                "+t._s(t.l("entity_list.empty_text"))+"\n            ")]},proxy:!0},{key:"item",fn:function(e){var a=e.item;return[n("DataListRow",{attrs:{url:t.instanceUrl(a),columns:t.columns,row:a},scopedSlots:t._u([t.hasActionsColumn?{key:"append",fn:function(){return[n("div",{staticClass:"row justify-content-end justify-content-md-start mx-n2"},[t.instanceHasState(a)?[n("div",{staticClass:"col-auto col-md-12 my-1 px-2"},[n("Dropdown",{staticClass:"SharpEntityList__state-dropdown",attrs:{disabled:!t.instanceHasStateAuthorization(a)},scopedSlots:t._u([{key:"text",fn:function(){return[n("StateIcon",{attrs:{color:t.instanceStateIconColor(a)}}),t._v(" "),n("span",{staticClass:"text-truncate"},[t._v("\n                                                    "+t._s(t.instanceStateLabel(a))+"\n                                                ")])]},proxy:!0}],null,!0)},[t._v(" "),t._l(t.config.state.values,(function(e){return n("DropdownItem",{key:e.value,on:{click:function(n){return t.handleInstanceStateChanged(a,e.value)}}},[n("StateIcon",{attrs:{color:e.color}}),t._v(" \n                                                "+t._s(e.label)+"\n                                            ")],1)}))],2)],1)]:t._e(),t._v(" "),t.instanceHasCommands(a)?[n("div",{staticClass:"col-auto col-md-12 my-1 px-2"},[n("CommandsDropdown",{staticClass:"SharpEntityList__commands-dropdown",attrs:{commands:t.instanceCommands(a)},on:{select:function(e){return t.handleInstanceCommandRequested(a,e)}},scopedSlots:t._u([{key:"text",fn:function(){return[t._v("\n                                                "+t._s(t.l("entity_list.commands.instance.label"))+"\n                                            ")]},proxy:!0}],null,!0)})],1)]:t._e()],2)]},proxy:!0}:null],null,!0)})]}},{key:"append-head",fn:function(){return[t._t("append-head",null,{props:t.actionBarProps,listeners:t.actionBarListeners})]},proxy:!0}],null,!0)})]:t._e(),t._v(" "),n("CommandFormModal",{ref:"commandForm",attrs:{form:t.commandCurrentForm}}),t._v(" "),n("CommandViewPanel",{attrs:{content:t.commandViewContent},on:{close:t.handleCommandViewPanelClosed}})],2)}),[],!1,null,null,null);fl.options.__file="EntityList.vue";var pl=fl.exports,ml={name:"SharpActionBarList",mixins:[Vt],components:{ActionBar:E,Dropdown:mt,DropdownItem:bt,ItemVisual:$t,CommandsDropdown:Do,FilterDropdown:fs,Search:tn},props:{count:Number,search:String,filters:Array,filtersValues:Object,commands:Array,forms:Array,canCreate:Boolean,canReorder:Boolean,canSearch:Boolean,reorderActive:Boolean},data:function(){return{searchActive:!1}},computed:{hasForms:function(){return this.forms&&this.forms.length>0},hasCommands:function(){return this.commands&&this.commands.some((function(t){return t&&t.length>0}))}},methods:{handleSearchInput:function(t){this.$emit("search-change",t)},handleSearchSubmitted:function(){this.$emit("search-submit")},handleFilterChanged:function(t,e){this.$emit("filter-change",t,e)},handleReorderButtonClicked:function(){this.$emit("reorder-click"),document.activeElement.blur()},handleReorderSubmitButtonClicked:function(){this.$emit("reorder-submit")},handleCommandSelected:function(t){this.$emit("command",t)},handleCreateButtonClicked:function(){this.$emit("create")},handleCreateFormSelected:function(t){this.$emit("create",t)}}},vl=Object($.a)(ml,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionBar",{staticClass:"SharpActionBarList",class:{"SharpActionBarList--search-active":t.searchActive},attrs:{"right-class":"d-block"},scopedSlots:t._u([{key:"left",fn:function(){return[n("span",{staticClass:"text-content text-nowrap"},[t._v(t._s(t.count)+" "+t._s(t.l("action_bar.list.items_count")))])]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticClass:"row justify-content-end"},[t.canSearch&&!t.reorderActive?[n("div",{staticClass:"col col-lg-auto"},[n("Search",{staticClass:"h-100",attrs:{value:t.search,active:t.searchActive,placeholder:t.l("action_bar.list.search.placeholder")},on:{"update:active":function(e){t.searchActive=e},input:t.handleSearchInput,submit:t.handleSearchSubmitted}})],1)]:t._e(),t._v(" "),t.canReorder?[n("div",{staticClass:"col-auto"},[t.reorderActive?[n("button",{staticClass:"SharpButton SharpButton--secondary-accent h-100",on:{click:t.handleReorderButtonClicked}},[t._v("\n                            "+t._s(t.l("action_bar.list.reorder_button.cancel"))+"\n                        ")]),t._v(" "),n("button",{staticClass:"SharpButton SharpButton--accent h-100",on:{click:t.handleReorderSubmitButtonClicked}},[t._v("\n                            "+t._s(t.l("action_bar.list.reorder_button.finish"))+"\n                        ")])]:[n("button",{staticClass:"SharpButton SharpButton--secondary-accent h-100",on:{click:t.handleReorderButtonClicked}},[t._v("\n                            "+t._s(t.l("action_bar.list.reorder_button"))+"\n                        ")])]],2)]:t._e(),t._v(" "),t.canCreate&&!t.reorderActive?[n("div",{staticClass:"col-auto"},[t.hasForms?[n("Dropdown",{staticClass:"SharpActionBar__forms-dropdown h-100",attrs:{text:t.l("action_bar.list.forms_dropdown")}},t._l(t.forms,(function(e,a){return n("DropdownItem",{key:a,on:{click:function(n){return t.handleCreateFormSelected(e)}}},[n("ItemVisual",{attrs:{item:e,"icon-class":"fa-fw"}}),t._v(t._s(e.label)+"\n                            ")],1)})),1)]:[n("button",{staticClass:"SharpButton SharpButton--accent h-100",on:{click:t.handleCreateButtonClicked}},[t._v("\n                            "+t._s(t.l("action_bar.list.create_button"))+"\n                        ")])]],2)]:t._e()],2)]},proxy:!0},t.reorderActive?null:{key:"extras",fn:function(){return[n("div",{staticClass:"row mx-n2"},[t._l(t.filters,(function(e){return[n("div",{staticClass:"col-auto px-2"},[n("FilterDropdown",{key:e.id,attrs:{filter:e,value:t.filtersValues[e.key]},on:{input:function(n){return t.handleFilterChanged(e,n)}}})],1)]}))],2)]},proxy:!0},t.reorderActive?null:{key:"extras-right",fn:function(){return[t.hasCommands?[n("CommandsDropdown",{staticClass:"SharpActionBar__actions-dropdown SharpActionBar__actions-dropdown--commands",attrs:{commands:t.commands},on:{select:t.handleCommandSelected},scopedSlots:t._u([{key:"text",fn:function(){return[t._v("\n                    "+t._s(t.l("entity_list.commands.entity.label"))+"\n                ")]},proxy:!0}],null,!1,2635357281)})]:t._e()]},proxy:!0}],null,!0)})}),[],!1,null,null,null);function yl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){bl(t,e,n[e])}))}return t}function bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}vl.options.__file="ActionBar.vue";var gl={name:"SharpEntityListPage",components:{EntityList:pl,ActionBarList:vl.exports},data:function(){return{ready:!1}},watch:{query:"handleQueryChanged","$route.query":"init"},computed:yl({},Object(i.b)("entity-list",["query"]),{entityKey:function(){return this.$route.params.id}}),methods:{handleQueryChanged:function(t,e){ll()(t,e)||this.$router.push({query:yl({},t)})},init:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct.a.awrap(this.$store.dispatch("entity-list/setQuery",yl({},this.$route.query)));case 2:this.ready=!0;case 3:case"end":return t.stop()}}),null,this)}},created:function(){this.init()}},_l=Object($.a)(gl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpEntityListPage"},[n("div",{staticClass:"container"},[t.ready?[n("EntityList",{attrs:{"entity-key":t.entityKey,module:"entity-list"},scopedSlots:t._u([{key:"action-bar",fn:function(e){var a=e.props,r=e.listeners;return[n("ActionBarList",t._g(t._b({},"ActionBarList",a,!1),r))]}}],null,!1,4144326494)})]:t._e()],2)])}),[],!1,null,null,null);_l.options.__file="EntityListPage.vue";var wl,Sl=[{name:"entity-list",path:"/list/:id",component:_l.exports}];function Cl(t){var e=t.entityKey,n=t.instanceId;return we.get("show/".concat(e,"/").concat(n||"")).then((function(t){return t.data}))}function xl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ol={namespaced:!0,modules:{filters:Zo,"entity-lists":{namespaced:!0}},state:{entityKey:null,instanceId:null,show:null},mutations:(wl={},xl(wl,"SET_SHOW_VIEW",(function(t,e){t.show=e})),xl(wl,"SET_ENTITY_KEY",(function(t,e){t.entityKey=e})),xl(wl,"SET_INSTANCE_ID",(function(t,e){t.instanceId=e})),wl),getters:{entityKey:function(t){return t.entityKey},instanceId:function(t){return t.instanceId},config:function(t){return t.show.config},fields:function(t){return t.show.fields},layout:function(t){return t.show.layout},data:function(t){return t.show.data},breadcrumb:function(t){return t.show.breadcrumb},authorizations:function(t){return t.show.authorizations},canEdit:function(t,e){return e.authorizations.update},canChangeState:function(t,e){return!!e.config.state&&e.config.state.authorization},authorizedCommands:function(t,e){return((e.config.commands||{}).instance||[]).map((function(t){return t.filter((function(t){return t.authorization}))}))},instanceState:function(t,e){var n=e.config.state;if(n){var a=e.data[n.attribute];return n.values.find((function(t){return t.value===a}))}return null},stateValues:function(t,e){return e.config.state?e.config.state.values:null}},actions:{get:function(t){var e,n,a;return ct.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.state,n=t.commit,r.next=3,ct.a.awrap(Cl({entityKey:e.entityKey,instanceId:e.instanceId}));case 3:a=r.sent,n("SET_SHOW_VIEW",a);case 5:case"end":return r.stop()}}))},postCommand:function(t,e){var n=t.state,a=e.command,r=e.data;return function(t){var e=t.entityKey,n=t.instanceId,a=t.commandKey,r=t.data;return we.post("show/".concat(e,"/command/").concat(a,"/").concat(n||""),{data:r},{responseType:"blob"})}({entityKey:n.entityKey,instanceId:n.instanceId,commandKey:a.key,data:r})},getCommandFormData:function(t,e){var n,a,r,i,o=t.state,s=e.command;return n={entityKey:o.entityKey,instanceId:o.instanceId,commandKey:s.key},a=n.entityKey,r=n.instanceId,i=n.commandKey,we.get("show/".concat(a,"/command/").concat(i).concat(r?"/".concat(r):"","/data")).then((function(t){return t.data.data}))},postState:function(t,e){var n=t.state,a=t.getters;return function(t){var e=t.entityKey,n=t.instanceId,a=t.value;return we.post("show/".concat(e,"/state/").concat(n||""),{value:a}).then((function(t){return t.data}))}({entityKey:n.entityKey,instanceId:n.instanceId,attribute:a.config.state.attribute,value:e})},setEntityKey:function(t,e){(0,t.commit)("SET_ENTITY_KEY",e)},setInstanceId:function(t,e){(0,t.commit)("SET_INSTANCE_ID",e)}}},kl={mixins:[Vt],components:{ActionBar:E,CommandsDropdown:Do,Dropdown:mt,DropdownItem:bt,StateIcon:an},props:{commands:Array,formUrl:String,backUrl:String,canEdit:Boolean,canChangeState:Boolean,showBackButton:Boolean,state:Object,stateValues:Array},computed:{hasCommands:function(){return this.commands&&this.commands.some((function(t){return t&&t.length>0}))},hasState:function(){return!!this.state}},methods:{handleEditButtonClicked:function(){this.$emit("edit")},handleCommandSelected:function(t){this.$emit("command",t)},handleStateChanged:function(t){this.$emit("state-change",t)}}},jl=Object($.a)(kl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ActionBar",{scopedSlots:t._u([{key:"left",fn:function(){return[t.showBackButton?[n("a",{staticClass:"SharpButton SharpButton--secondary-accent",attrs:{href:t.backUrl}},[t._v("\n                "+t._s(t.l("action_bar.show.back_button"))+"\n            ")])]:t._e()]},proxy:!0},{key:"right",fn:function(){return[t.canEdit?[n("a",{staticClass:"SharpButton SharpButton--accent",attrs:{href:t.formUrl}},[t._v("\n                "+t._s(t.l("action_bar.show.edit_button"))+"\n            ")])]:t._e()]},proxy:!0},{key:"extras-right",fn:function(){return[n("div",{staticClass:"row mx-n1"},[t.hasState?[n("div",{staticClass:"col-auto px-1"},[n("Dropdown",{staticClass:"SharpActionBar__actions-dropdown SharpActionBar__actions-dropdown--state",attrs:{disabled:!t.canChangeState},scopedSlots:t._u([{key:"text",fn:function(){return[n("StateIcon",{attrs:{color:t.state.color}}),t._v(" "),n("span",{staticClass:"text-truncate"},[t._v(t._s(t.state.label))])]},proxy:!0}],null,!1,3350467533)},[t._v(" "),t._l(t.stateValues,(function(e){return[n("DropdownItem",{key:e.value,on:{click:function(n){return t.handleStateChanged(e.value)}}},[n("StateIcon",{attrs:{color:e.color}}),t._v(" \n                                "+t._s(e.label)+"\n                            ")],1)]}))],2)],1)]:t._e(),t._v(" "),t.hasCommands?[n("div",{staticClass:"col-auto px-1"},[n("CommandsDropdown",{staticClass:"SharpActionBar__actions-dropdown SharpActionBar__actions-dropdown--commands",attrs:{commands:t.commands},on:{select:t.handleCommandSelected},scopedSlots:t._u([{key:"text",fn:function(){return[t._v("\n                            "+t._s(t.l("entity_list.commands.instance.label"))+"\n                        ")]},proxy:!0}],null,!1,2971469203)})],1)]:t._e()],2)]},proxy:!0}])})}),[],!1,null,null,null);jl.options.__file="ActionBar.vue";var Ll=jl.exports,Pl={mixins:[Vt],components:{ItemVisual:$t,Search:tn,Dropdown:mt,DropdownItem:bt,FilterDropdown:fs},props:{count:Number,search:String,filters:Array,filtersValues:Object,commands:Array,forms:Array,canCreate:Boolean,canReorder:Boolean,canSearch:Boolean,reorderActive:Boolean},data:function(){return{searchActive:!1}},computed:{hasForms:function(){return this.forms&&this.forms.length>0},hasLeftControls:function(){var t=this.filters||[];return this.count>0&&(t.length>0||this.canSearch)}},methods:{handleSearchInput:function(t){this.$emit("search-change",t)},handleSearchSubmitted:function(){this.$emit("search-submit")},handleFilterChanged:function(t,e){this.$emit("filter-change",t,e)},handleReorderButtonClicked:function(){this.$emit("reorder-click"),document.activeElement.blur()},handleReorderSubmitButtonClicked:function(){this.$emit("reorder-submit")},handleCommandSelected:function(t){this.$emit("command",t)},handleCreateButtonClicked:function(){this.$emit("create")},handleCreateFormSelected:function(t){this.$emit("create",t)}}},$l=Object($.a)(Pl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"action-bar"},[t.hasLeftControls&&t.$slots.default?[n("div",{staticClass:"mb-2"},[t._t("default")],2)]:t._e(),t._v(" "),n("div",{staticClass:"row action-bar__row"},[t.hasLeftControls?[n("div",{staticClass:"col-sm action-bar__col"},[t.reorderActive?t._e():[n("div",{staticClass:"row action-bar__row"},[t._l(t.filters,(function(e){return[n("div",{staticClass:"col-auto action-bar__col mb-2"},[n("div",{staticClass:"action-bar__element"},[n("FilterDropdown",{key:e.id,staticClass:"h-100",attrs:{filter:e,value:t.filtersValues[e.key]},on:{input:function(n){return t.handleFilterChanged(e,n)}}})],1)])]})),t._v(" "),t.canSearch?[n("div",{staticClass:"col-auto action-bar__col mb-2"},[n("div",{staticClass:"action-bar__element"},[n("Search",{staticClass:"h-100",attrs:{value:t.search,active:t.searchActive,placeholder:t.l("action_bar.list.search.placeholder")},on:{"update:active":function(e){t.searchActive=e},input:t.handleSearchInput,submit:t.handleSearchSubmitted}})],1)])]:t._e()],2)]],2)]:[n("div",{staticClass:"col-sm align-self-center action-bar__col mb-2"},[t._t("default")],2)],t._v(" "),n("div",{staticClass:"col-sm-auto action-bar__col"},[n("div",{staticClass:"row flex-nowrap justify-content-end action-bar__row"},[t.canReorder?[n("div",{staticClass:"col-auto action-bar__col mb-2"},[t.reorderActive?[n("div",{staticClass:"row action-bar__row"},[n("div",{staticClass:"col-auto action-bar__col"},[n("button",{staticClass:"SharpButton SharpButton--secondary-accent",on:{click:t.handleReorderButtonClicked}},[t._v("\n                                        "+t._s(t.l("action_bar.list.reorder_button.cancel"))+"\n                                    ")])]),t._v(" "),n("div",{staticClass:"col-auto action-bar__col"},[n("button",{staticClass:"SharpButton SharpButton--accent",on:{click:t.handleReorderSubmitButtonClicked}},[t._v("\n                                        "+t._s(t.l("action_bar.list.reorder_button.finish"))+"\n                                    ")])])])]:[n("button",{staticClass:"SharpButton SharpButton--secondary-accent",on:{click:t.handleReorderButtonClicked}},[t._v("\n                                "+t._s(t.l("action_bar.list.reorder_button"))+"\n                            ")])]],2)]:t._e(),t._v(" "),t.canCreate&&!t.reorderActive?[n("div",{staticClass:"col-auto action-bar__col mb-2"},[n("div",{staticClass:"action-bar__element"},[t.hasForms?[n("Dropdown",{staticClass:"SharpActionBar__forms-dropdown h-100",attrs:{text:t.l("action_bar.list.forms_dropdown")}},t._l(t.forms,(function(e,a){return n("DropdownItem",{key:a,on:{click:function(n){return t.handleCreateFormSelected(e)}}},[n("ItemVisual",{attrs:{item:e,"icon-class":"fa-fw"}}),t._v(t._s(e.label)+"\n                                    ")],1)})),1)]:[n("button",{staticClass:"SharpButton SharpButton--accent",on:{click:t.handleCreateButtonClicked}},[t._v("\n                                    "+t._s(t.l("action_bar.list.create_button"))+"\n                                ")])]],2)])]:t._e()],2)])],2)],2)}),[],!1,null,null,null);function Bl(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).lazy;t.$watch(e,(function(e){t.$emit("visible-change",e)}),{immediate:!n})}$l.options.__file="ActionBar.vue";var El={mixins:[Vt],components:{EntityList:pl,CommandsDropdown:Do,ActionBar:$l.exports},props:{entityListKey:String,showCreateButton:Boolean,showReorderButton:Boolean,showSearchField:Boolean,showEntityState:Boolean,hiddenFilters:Object,hiddenCommands:Object,label:String},data:function(){return{list:null}},computed:{storeModule:function(){return"show/entity-lists/".concat(this.entityListKey)},getFiltersQueryParams:function(){return this.storeGetter("filters/getQueryParams")},isVisible:function(){if(this.list){var t=this.list,e=t.data,n=t.authorizations;return!!(e.items&&e.items.length>0||this.showCreateButton&&n.create||this.emptyVisible)}return this.emptyVisible}},methods:{hasCommands:function(t){return t&&t.some((function(t){return t&&t.length>0}))},storeGetter:function(t){return this.$store.getters["".concat(this.storeModule,"/").concat(t)]},handleChanged:function(t){this.list=t}},created:function(){var t=this;this.$store.registerModule(this.storeModule.split("/"),ol),this.$store.dispatch("".concat(this.storeModule,"/setQuery"),this.getFiltersQueryParams(this.hiddenFilters)),Bl(this,(function(){return t.isVisible}),{lazy:!0})}},Al=Object($.a)(El,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("EntityList",{staticClass:"ShowEntityListField",attrs:{"entity-key":t.entityListKey,module:t.storeModule,"show-create-button":t.showCreateButton,"show-reorder-button":t.showReorderButton,"show-search-field":t.showSearchField,"show-entity-state":t.showEntityState,"hidden-commands":t.hiddenCommands,"hidden-filters":t.hiddenFilters,inline:""},on:{change:t.handleChanged},scopedSlots:t._u([{key:"action-bar",fn:function(e){var a=e.props,r=e.listeners;return[n("ActionBar",t._g(t._b({staticClass:"ShowEntityListField__action-bar"},"ActionBar",a,!1),r),[n("div",{staticClass:"ShowEntityListField__label"},[t._v("\n                 "+t._s(t.label)+"\n            ")])])]}},{key:"append-head",fn:function(e){var a=e.props.commands,r=e.listeners;return[t.hasCommands(a)?[n("CommandsDropdown",{staticClass:"SharpActionBar__actions-dropdown SharpActionBar__actions-dropdown--commands",attrs:{commands:a},on:{select:r.command},scopedSlots:t._u([{key:"text",fn:function(){return[t._v("\n                    "+t._s(t.l("entity_list.commands.entity.label"))+"\n                ")]},proxy:!0}],null,!0)})]:t._e()]}}])})}),[],!1,null,null,null);Al.options.__file="EntityList.vue";var Dl=Al.exports,Il=n("v23C"),Fl=n.n(Il);function Tl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ml={mixins:[Vt],props:{value:String,collapseToWordCount:Number,label:String,emptyVisible:Boolean},data:function(){return{expanded:!1}},computed:{currentContent:function(){return this.hasCollapsed&&!this.expanded?this.collapsedContent:this.value},hasCollapsed:function(){return!!this.collapsedContent},collapsedContent:function(){if(!this.collapseToWordCount||!this.value)return null;var t=this.value.trim(),e=function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}(t),n=function(t,e){var n=Tl(t.matchAll(/\S+\s*/g));return n.length>e?n.slice(0,e).map((function(t){return t[0]})).join(""):t}(e,this.collapseToWordCount);return n.length<e.length?Fl()(t,n.length+2,{html:!0}):null},isVisible:function(){return!!this.value||this.emptyVisible}},methods:{handleToggleClicked:function(){this.expanded=!this.expanded}},created:function(){var t=this;Bl(this,(function(){return t.isVisible}))}},Vl=Object($.a)(Ml,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ShowTextField"},[t.label?[n("div",{staticClass:"ShowTextField__label"},[t._v(t._s(t.label))])]:t._e(),t._v(" "),n("div",{ref:"content",staticClass:"ShowTextField__content",domProps:{innerHTML:t._s(t.currentContent)}}),t._v(" "),t.hasCollapsed?[n("div",{staticClass:"mt-2"},[n("a",{staticClass:"text-decoration-none text-lowercase",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.handleToggleClicked(e)}}},[t.expanded?[t._v("\n                    - "+t._s(t.l("show.text.show_less"))+"\n                ")]:[t._v("\n                    + "+t._s(t.l("show.text.show_more"))+"\n                ")]],2)])]:t._e()],2)}),[],!1,null,null,null);Vl.options.__file="Text.vue";var Nl=Vl.exports,zl={props:{value:String},computed:{isVisible:function(){return!!this.value}},created:function(){var t=this;Bl(this,(function(){return t.isVisible}))}},Rl=Object($.a)(zl,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ShowPictureField text-center"},[e("img",{staticClass:"ShowPictureField__thumbnail",attrs:{src:this.value,alt:""}})])}),[],!1,null,null,null);Rl.options.__file="Picture.vue";var Kl=Rl.exports,ql=n("67qy");function Ul(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hl={components:{Button:I},props:{fieldConfigIdentifier:String,value:Object,label:String,collapsed:{type:Boolean,default:!0},list:Boolean},data:function(){return{thumbnailWidth:0}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Ul(t,e,n[e])}))}return t}({},Object(i.b)("show",["entityKey","instanceId"]),{thumbnailColClasses:function(){return{"ShowFileField__thumbnail-col--collapsed":!this.hasThumbnail&&this.collapsed}},downloadUrl:function(){return t={entityKey:this.entityKey,instanceId:this.instanceId,fieldKey:this.fieldConfigIdentifier,fileName:this.fileName},e=t.entityKey,n=t.instanceId,a=t.fieldKey,r=t.fileName,Se("show/download/".concat(a,"/").concat(e,"/").concat(n),{params:{fileName:r}});var t,e,n,a,r},name:function(){return this.value?this.value.name:null},fileName:function(){var t=(this.name||"").split("/");return t[t.length-1]},hasThumbnail:function(){return this.value.thumbnail},thumbnailUrl:function(){return this.value?this.value.thumbnail:null},thumbnailStyle:function(){return{"max-height":this.thumbnailWidth?"".concat(this.thumbnailWidth,"px"):null}},size:function(){return this.value?this.value.size:null},sizeLabel:function(){return this.size?Te(this.size):null},iconClass:function(){var t=this.fileName.split(".").pop();return Object(ql.getClassNameForExtension)(t)},isVisible:function(){return!!this.value}}),methods:{lang:Mt,layout:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.$refs.thumbnail&&(this.thumbnailWidth=this.$refs.thumbnail.parentElement.offsetWidth);case 1:case"end":return t.stop()}}),null,this)},handleThumbnailLoaded:function(){this.layout()}},created:function(){var t=this;Bl(this,(function(){return t.isVisible}))},mounted:function(){this.layout(),this.handleResize=Yt()(this.layout,150),window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}},Gl=Object($.a)(Hl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ShowFileField"},[n("div",{staticClass:"row mx-n2"},[n("div",{staticClass:"col-3 px-2 align-self-center ShowFileField__thumbnail-col",class:t.thumbnailColClasses},[t.hasThumbnail?[n("div",{staticClass:"ShowFileField__thumbnail-container"},[n("img",{ref:"thumbnail",staticClass:"ShowFileField__thumbnail",style:t.thumbnailStyle,attrs:{src:t.thumbnailUrl,alt:""},on:{load:t.handleThumbnailLoaded}})])]:[n("div",{staticClass:"ShowFileField__placeholder text-center"},[n("i",{staticClass:"fa far",class:t.iconClass})])]],2),t._v(" "),n("div",{staticClass:"col px-2",staticStyle:{"min-width":"0"}},[n("div",{staticClass:"d-flex flex-column h-100"},[n("div",{staticClass:"ShowFileField__name text-truncate mb-2"},[t._v("\n                    "+t._s(t.fileName)+"\n                ")]),t._v(" "),n("div",{staticClass:"flex-fill"},[n("div",{staticClass:"row mx-n2 h-100"},[n("div",{staticClass:"col px-2"},[n("div",{staticClass:"ShowFileField__size text-muted"},[t._v("\n                                "+t._s(t.sizeLabel)+"\n                            ")])]),t._v(" "),n("div",{staticClass:"col-auto px-2"},[n("div",{staticClass:"ShowFileField__download-container h-100"},[n("Button",{staticClass:"ShowFileField__download-button",attrs:{href:t.downloadUrl,download:t.fileName,type:"primary",outline:"",small:""}},[t._v("\n                                    "+t._s(t.lang("show.file.download"))+"\n                                ")])],1)])])])])])])])}),[],!1,null,null,null);Gl.options.__file="File.vue";var Wl=Gl.exports;function Yl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ql(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xl={components:{Grid:jt,UnknownField:Sn},props:{value:Array,itemFields:{type:Object,required:!0},layout:Object,label:String,emptyVisible:Boolean},computed:{isEmpty:function(){return!this.value||0===this.value.length},isVisible:function(){return!this.isEmpty||this.emptyVisible},classes:function(){return{"ShowListField--empty":this.isEmpty}},fileFieldsCollapsed:function(){return this.allValuesOfType("file").every((function(t){return t&&!t.thumbnail}))}},methods:{lang:Mt,fieldOptions:function(t){var e=this.itemFields?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){Jl(t,e,n[e])}))}return t}({},this.itemFields[t.key]):null;return e||console.error('Show list field: unknown field "'.concat(t.key,'"')),"file"===e.type&&(e.collapsed=this.fileFieldsCollapsed),e},fieldValue:function(t,e){return t?t[e.key]:null},allValuesOfType:function(t){var e=this;return(this.value||[]).reduce((function(n,a){return[].concat(Ql(n),Ql(Object.entries(a).filter((function(n){var a=Yl(n,1)[0],r=e.itemFields[a];return r&&r.type===t})).map((function(t){var e=Yl(t,2);e[0];return e[1]}))))}),[])}},created:function(){var t=this;Bl(this,(function(){return t.isVisible}))}},Zl=Object($.a)(Xl,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ShowListField",class:t.classes},[n("div",{staticClass:"ShowListField__label"},[t._v("\n        "+t._s(t.label)+"\n    ")]),t._v(" "),n("div",{staticClass:"ShowListField__content"},[t.isEmpty?[n("em",{staticClass:"ShowListField__empty text-muted"},[t._v(t._s(t.lang("show.list.empty")))])]:[n("div",{staticClass:"ShowListField__list"},[t._l(t.value,(function(e){return[n("div",{staticClass:"ShowListField__item"},[n("Grid",{staticClass:"ShowListField__fields-grid",attrs:{rows:t.layout.item},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.itemLayout;return[t.fieldOptions(r)?[n("ShowField",{attrs:{options:t.fieldOptions(r),value:t.fieldValue(e,r),"config-identifier":r.key}})]:[n("UnknownField",{attrs:{name:r.key}})]]}}],null,!0)})],1)]}))],2)]],2)])}),[],!1,null,null,null);Zl.options.__file="List.vue";var tc={entityList:Dl,text:Nl,picture:Kl,file:Wl,list:Zl.exports};function ec(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nc={mixins:[Jt],props:{value:{},options:Object,layout:Object},data:function(){return{visible:!0}},computed:{component:function(){return this.options?(t=this.options.type,tc[t]):null;var t},props:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){ec(t,e,n[e])}))}return t}({},this.options)},isVisible:function(){return!!this.component&&this.visible}},methods:{handleVisiblityChanged:function(t){this.visible=t,this.$emit("visible-change",t)}}},ac=Object($.a)(nc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"show-field"},[n(t.component,t._b({tag:"component",attrs:{"field-key":t.options.key,"field-config-identifier":t.mergedConfigIdentifier,value:t.value,layout:t.layout},on:{"visible-change":t.handleVisiblityChanged}},"component",t.props,!1))],1)}),[],!1,null,null,null);ac.options.__file="Field.vue";var rc=ac.exports;function ic(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){sc(t,e,n[e])}))}return t}function sc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lc={mixins:[ue],components:{ActionBarShow:Ll,Grid:jt,ShowField:rc,UnknownField:Sn,CommandFormModal:Bo,CommandViewPanel:To},data:function(){return{ready:!1,fieldsVisible:null}},computed:oc({},Object(i.b)("show",["entityKey","instanceId","fields","layout","data","config","breadcrumb","instanceState","canEdit","authorizedCommands","stateValues","canChangeState"]),{formUrl:function(){return He({entityKey:this.entityKey,instanceId:this.instanceId})},backUrl:function(){return ze(this.breadcrumb)},showBackButton:function(){return!!this.backUrl}}),methods:{fieldOptions:function(t){var e=this.fields?this.fields[t.key]:null;return e||console.error('Show page: unknown field "'.concat(t.key,'"')),e},fieldValue:function(t){return this.data?this.data[t.key]:null},isFieldVisible:function(t){return!this.fieldsVisible||!1!==this.fieldsVisible[t.key]},fieldsRowClass:function(t){var e=this,n=t.map((function(t){var n=e.fieldOptions(t);return"ShowPage__fields-row--".concat(n.type)}));return["ShowPage__fields-row"].concat(ic(n))},sectionClasses:function(t){return{"ShowPage__section--no-container":this.sectionHasField(t,"entityList")}},sectionColClass:function(){return"ShowPage__section-col"},sectionFields:function(t){return t.columns.reduce((function(t,e){return[].concat(ic(t),ic(e.fields.flat()))}),[])},isSectionVisible:function(t){var e=this;return this.sectionFields(t).some((function(t){return e.isFieldVisible(t)}))},sectionHasField:function(t,e){var n=this;return this.sectionFields(t).some((function(t){var a=n.fieldOptions(t);return a&&a.type===e}))},handleFieldVisibilityChanged:function(t,e){this.fieldsVisible=oc({},this.fieldsVisible,sc({},t,e))},handleCommandRequested:function(t){var e=this;this.sendCommand(t,{postCommand:function(){return e.$store.dispatch("show/postCommand",{command:t})},postForm:function(n){return e.$store.dispatch("show/postCommand",{command:t,data:n})},getFormData:function(){return e.$store.dispatch("show/getCommandFormData",{command:t})}})},handleStateChanged:function(t){var e=this;return this.$store.dispatch("show/postState",t).then((function(t){e.handleCommandActionRequested(t.action,t)})).catch((function(t){var n=t.response.data;422===t.response.status&&e.actionsBus.$emit("showMainModal",{title:e.l("modals.state.422.title"),text:n.message,isError:!0,okCloseOnly:!0})}))},handleRefreshCommand:function(){this.init()},initCommands:function(){this.addCommandActionHandlers({refresh:this.handleRefreshCommand})},init:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct.a.awrap(this.$store.dispatch("show/setEntityKey",this.$route.params.entityKey));case 2:return t.next=4,ct.a.awrap(this.$store.dispatch("show/setInstanceId",this.$route.params.instanceId));case 4:return t.next=6,ct.a.awrap(this.$store.dispatch("show/get"));case 6:this.ready=!0;case 7:case"end":return t.stop()}}),null,this)}},beforeMount:function(){this.init(),this.initCommands()}},cc=Object($.a)(lc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ShowPage"},[n("div",{staticClass:"container"},[t.ready?[n("ActionBarShow",{attrs:{commands:t.authorizedCommands,state:t.instanceState,"state-values":t.stateValues,"form-url":t.formUrl,"back-url":t.backUrl,"can-edit":t.canEdit,"can-change-state":t.canChangeState,"show-back-button":t.showBackButton},on:{command:t.handleCommandRequested,"state-change":t.handleStateChanged}}),t._v(" "),t._l(t.layout.sections,(function(e){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isSectionVisible(e),expression:"isSectionVisible(section)"}],staticClass:"ShowPage__section",class:t.sectionClasses(e)},[e.title?[n("h2",{staticClass:"ShowPage__section-title mb-2"},[t._v(t._s(e.title))])]:t._e(),t._v(" "),n("div",{staticClass:"ShowPage__section-content"},[n("Grid",{staticClass:"ShowPage__section-grid",attrs:{rows:[e.columns],"col-class":t.sectionColClass},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.itemLayout;return[n("Grid",{staticClass:"ShowPage__fields-grid",attrs:{rows:a.fields,"row-class":t.fieldsRowClass},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.itemLayout;return[t.fieldOptions(a)?[n("ShowField",{attrs:{options:t.fieldOptions(a),value:t.fieldValue(a),"config-identifier":a.key,layout:a},on:{"visible-change":function(e){return t.handleFieldVisibilityChanged(a.key,e)}}})]:[n("UnknownField",{attrs:{name:a.key}})]]}}],null,!0)})]}}],null,!0)})],1)],2)]}))]:t._e()],2),t._v(" "),n("CommandFormModal",{ref:"commandForm",attrs:{form:t.commandCurrentForm}}),t._v(" "),n("CommandViewPanel",{attrs:{content:t.commandViewContent},on:{close:t.handleCommandViewPanelClosed}})],1)}),[],!1,null,null,null);cc.options.__file="ShowPage.vue";var uc=[{name:"show",path:"/show/:entityKey/:instanceId?",component:cc.exports}],dc=r.a.extend({name:"SharpEventBus"});function hc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){fc(t,e,n[e])}))}return t}function fc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pc(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var mc=function(){},vc={name:"SharpActionView",components:{Modal:fe},provide:function(){return{actionsBus:new dc({name:"SharpActionsEventBus"}),axiosInstance:we}},props:{context:{type:String,required:!0}},data:function(){return{mainModalsData:{},mainModalId:0,showErrorPage:!1,errorPageData:null}},methods:{showMainModal:function(t){var e=this,n=t.text,a=t.okCallback,r=void 0===a?mc:a,i=t.okCloseOnly,o=t.isError,s=pc(t,["text","okCallback","okCloseOnly","isError"]),l=this.mainModalId;this.$set(this.mainModalsData,l,{props:hc({},s,{okOnly:i,noCloseOnBackdrop:i,noCloseOnEsc:i,visible:!0,isError:o}),okCallback:r,hiddenCallback:function(){return e.$delete(e.mainModalsData,l)},text:n}),this.mainModalId++}},created:function(){var t=this,e=this._provided,n=e.actionsBus,a=e.axiosInstance;n.$on("showMainModal",this.showMainModal),a.interceptors.response.use((function(t){return t}),(function(e){var n=e.response,a=n.status,r=n.data;return"get"===e.config.method&&404===a&&(t.showErrorPage=!0,t.errorPageData={status:a,message:r.message}),Promise.reject(e)}))}},yc=Object($.a)(vc,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SharpActionView"},[t.showErrorPage?[n("div",{staticClass:"container"},[n("h1",[t._v("Error "+t._s(t.errorPageData.status))]),t._v(" "),n("p",[t._v(t._s(t.errorPageData.message))])])]:[t._t("default"),t._v(" "),n("notifications",{staticStyle:{top:"6rem"},attrs:{position:"top right","animation-name":"slideRight",reverse:""},scopedSlots:t._u([{key:"body",fn:function(e){var a=e.item,r=e.close;return[n("div",{staticClass:"SharpToastNotification",class:"SharpToastNotification--"+(a.type||"info"),attrs:{role:"alert","data-test":"notification"}},[n("div",{staticClass:"SharpToastNotification__details"},[n("h3",{staticClass:"SharpToastNotification__title mb-2"},[t._v(t._s(a.title))]),t._v(" "),a.text?n("p",{staticClass:"SharpToastNotification__caption",domProps:{innerHTML:t._s(a.text)}}):t._e()]),t._v(" "),n("button",{staticClass:"SharpToastNotification__close-button",attrs:{type:"button","data-test":"close-notification"},on:{click:r}},[n("svg",{staticClass:"SharpToastNotification__icon",attrs:{"aria-label":"close",width:"10",height:"10",viewBox:"0 0 10 10","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M9.8 8.6L8.4 10 5 6.4 1.4 10 0 8.6 3.6 5 .1 1.4 1.5 0 5 3.6 8.6 0 10 1.4 6.4 5z"}})])])])]}}])}),t._v(" "),t._l(t.mainModalsData,(function(e,a){return n("Modal",t._b({key:a,on:{ok:e.okCallback,hidden:e.hiddenCallback}},"Modal",e.props,!1),[t._v("\n            "+t._s(e.text)+"\n        ")])}))]],2)}),[],!1,null,null,null);yc.options.__file="ActionView.vue";var bc=yc.exports;function gc(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _c={name:"SharpLeftNav",mixins:[Qt("lg")],components:{GlobalFilters:gs,Loading:At},props:{items:Array,current:String,title:String,collapseable:{type:Boolean,default:!0},hasGlobalFilters:Boolean},data:function(){return{ready:!1,collapsed:!1,state:"expanded",filterOpened:!1}},watch:{collapsed:{handler:function(t){this.$root.$emit("setClass","leftNav--collapsed",this.collapsed),this.state=t?"collapsing":"expanding",setTimeout(this.updateState,250)}}},computed:{flattenedItems:function(){return this.items.reduce((function(t,e){return"category"===e.type?[].concat(gc(t),gc(e.entities)):[].concat(gc(t),[e])}),[])},currentIcon:function(){var t=this;return"dashboard"===this.current?"fas fa-tachometer-alt":(this.flattenedItems.find((function(e){return e.key===t.current}))||{}).icon},classes:function(){return["SharpLeftNav--".concat(this.state),{"SharpLeftNav--filter-opened":this.filterOpened,"SharpLeftNav--collapseable":this.collapseable}]}},methods:{updateState:function(){this.state=this.collapsed?"collapsed":"expanded"},handleGlobalFilterOpened:function(){this.filterOpened=!0},handleGlobalFilterClosed:function(){this.filterOpened=!1},handleClicked:function(){this.collapsed&&(this.collapsed=!1)},init:function(){return ct.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasGlobalFilters){t.next=3;break}return t.next=3,ct.a.awrap(this.$store.dispatch("global-filters/get"));case 3:this.ready=!0;case 4:case"end":return t.stop()}}),null,this)}},created:function(){this.collapsed=this.isViewportSmall,this.updateState(),this.init()}},wc=Object($.a)(_c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"SharpLeftNav",class:t.classes,attrs:{role:"navigation","aria-label":"Menu Sharp"},on:{click:t.handleClicked}},[n("div",{staticClass:"SharpLeftNav__top-icon"},[n("i",{staticClass:"fa",class:t.currentIcon})]),t._v(" "),n("div",{staticClass:"flex-grow-0"},[n("div",{staticClass:"SharpLeftNav__title-container position-relative"},[t._t("title",[n("h2",{staticClass:"SharpLeftNav__title"},[t._v(t._s(t.title))])])],2)]),t._v(" "),n("div",{staticClass:"flex-grow-1 position-relative",staticStyle:{"min-height":"0"}},[t.ready?[n("div",{staticClass:"SharpLeftNav__content d-flex flex-column"},[n("div",{staticClass:"SharpLeftNav__inner flex-grow-1",staticStyle:{"min-height":"0"}},[n("GlobalFilters",{on:{open:t.handleGlobalFilterOpened,close:t.handleGlobalFilterClosed}}),t._v(" "),t._t("default")],2),t._v(" "),n("div",{staticClass:"flex-grow-0"},[n("div",{staticClass:"SharpLeftNav__collapse",on:{click:function(e){e.stopPropagation(),t.collapsed=!t.collapsed}}},[n("a",{staticClass:"SharpLeftNav__collapse-link",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[n("svg",{staticClass:"SharpLeftNav__collapse-arrow",attrs:{width:"8",height:"12",viewBox:"0 0 8 12","fill-rule":"evenodd"}},[n("path",{attrs:{d:"M7.5 10.6L2.8 6l4.7-4.6L6.1 0 0 6l6.1 6z"}})])])])])])]:[n("div",{staticClass:"d-flex align-items-center justify-content-center h-100"},[n("Loading",{attrs:{visible:"",inline:"",small:""}})],1)]],2)])}),[],!1,null,null,null);wc.options.__file="LeftNav.vue";var Sc=wc.exports;function Cc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){xc(t,e,n[e])}))}return t}function xc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}f.a.use(function(){var t=document.documentElement.lang;return x[t]||x.en}()),r.a.use(d.a),r.a.use(c.install,{installComponents:!1}),r.a.use(o.a),r.a.use(i.a);var Oc=new i.a.Store,kc=qe();r.a.use((function(t,e){e.store,e.router}),{store:Oc,router:kc}),r.a.use((function(t,e){var n=e.router;e.store.registerModule("dashboard",ws),n.addRoutes(rl)}),{store:Oc,router:kc}),r.a.use((function(t,e){var n=e.router;e.store.registerModule("entity-list",ol),n.addRoutes(Sl)}),{store:Oc,router:kc}),r.a.use((function(t,e){e.store.registerModule("global-filters",ts)}),{store:Oc,router:kc}),r.a.use((function(t,e){var n=e.router;e.store;t.component("FieldDisplay",po),n.addRoutes(Lo)}),{store:Oc,router:kc}),r.a.use((function(t,e){var n=e.router,a=e.store;n.addRoutes(uc),a.registerModule("show",Ol),t.component("ShowField",rc)}),{store:Oc,router:kc}),r.a.use((function(t,e){e.store,e.router}),{store:Oc,router:kc}),window.Trix=l.a,r.a.config.ignoredElements=[/^trix-/];var jc=r.a.extend(At);new r.a({el:"#sharp-app",provide:{mainLoading:new jc({el:"#glasspane"}),xsrfToken:L.a.read(k.a.defaults.xsrfCookieName)},components:{"sharp-action-view":bc,"sharp-left-nav":Sc,"sharp-collapsible-item":W,"sharp-nav-item":U,"sharp-item-visual":$t},created:function(){var t=this;this.$on("setClass",(function(e,n){t.$el.classList[n?"add":"remove"](e)})),this.$route.query["x-access-from"]&&this.$router.replace(Cc({},this.$route,{query:Cc({},this.$route.query,{"x-access-from":void 0})}))},store:Oc,router:kc})},GS0v:function(t,e,n){var a=n("QOb4");"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(t.exports=a.locals)},"K0p+":function(t,e){},QOb4:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'\n.unknown-field[data-v-d6c36028] {\n    font-family:"Courier New", Courier, monospace;\n    background: rgba(255, 0, 0, .25);\n    border: 1px solid #f00;\n    padding: .5em 1em;\n    font-weight: bold;\n}\n',""])},ynHM:function(t,e,n){"use strict";var a=n("GS0v");n.n(a).a}},[[0,0,1]]]);